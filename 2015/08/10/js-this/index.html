<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="这是一篇记录前端的博客，里面有平时一些心得与学习点"><title>js 中 this 关键字详解 | Chan</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/7.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">js 中 this 关键字详解</h1><a id="logo" href="/.">Chan</a><p class="description">记录前端的点点滴滴</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">js 中 this 关键字详解</h1><div class="post-meta">Aug 10, 2015<span> | </span><span class="category"><a href="/categories/javascript/">javascript</a></span></div><div class="post-content"><p>本文主要解释在JS里面this关键字的指向问题(在浏览器环境下)。</p>
<p>首先，必须搞清楚在JS里面，函数的几种调用方式:</p>
<ul>
<li>普通函数调用</li>
<li>作为方法来调用</li>
<li>作为构造函数来调用</li>
<li>使用apply/call方法来调用</li>
<li>Function.prototype.bind方法</li>
</ul>
<a id="more"></a>
<p>但是不管函数是按哪种方法来调用的，<strong>请记住一点：谁调用这个函数或方法，this关键字就指向谁。</strong></p>
<p>接下来就分情况来讨论下这些不同的情况：</p>
<h3 id="普通函数调用"><a href="#普通函数调用" class="headerlink" title="普通函数调用"></a>普通函数调用</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">person</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">this</span>.name = <span class="string">"xl"</span>;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>);</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</div><div class="line">&#125;</div><div class="line">person();  <span class="comment">//输出  window  xl</span></div></pre></td></tr></table></figure>
<p>在这段代码中<code>person</code>函数作为普通函数调用，实际上<code>person</code>是作为全局对象<code>window</code>的一个方法来进行调用的，即<code>window.person()</code>; <br><br>所以这个地方是<code>window</code>对象调用了<code>person</code>方法，那么<code>person</code>函数当中的<code>this</code>即指<code>window</code>，同时<code>window</code>还拥有了另外一个属性<code>name</code>，值为<code>xl</code>.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> name = <span class="string">"xl"</span>;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">person</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</div><div class="line">&#125;</div><div class="line">person(); <span class="comment">//输出 xl</span></div></pre></td></tr></table></figure>
<p>同样这个地方<code>person</code>作为<code>window</code>的方法来调用，在代码的一开始定义了一个全局变量<code>name</code>，值为<code>xl</code>，它相当于<code>window</code>的一个属性，即<code>window.name=&quot;xl&quot;</code>，又因为在调用<code>person</code>的时候<code>this</code>是指向<code>window</code>的，因此这里会输出<code>xl</code>.</p>
<h3 id="作为对象的方法来调用"><a href="#作为对象的方法来调用" class="headerlink" title="作为对象的方法来调用"></a>作为对象的方法来调用</h3><p>在上面的代码中，普通函数的调用即是作为<code>window</code>对象的方法进行调用。显然<code>this</code>关键字指向了<code>window</code>对象.</p>
<p>再来看下其他的形式</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> name = <span class="string">"XL"</span>;</div><div class="line"><span class="keyword">var</span> person = &#123;</div><div class="line">    name: <span class="string">"xl"</span>,</div><div class="line">    showName: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">person.showName();  <span class="comment">//输出  xl</span></div><div class="line"><span class="comment">//这里是person对象调用showName方法，很显然this关键字是指向person对象的，所以会输出name</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> showNameA = person.showName;</div><div class="line">showNameA();    <span class="comment">//输出  XL</span></div><div class="line"><span class="comment">//这里将person.showName方法赋给showNameA变量，此时showNameA变量相当于window对象的一个属性，因此showNameA()执行的时候相当于window.showNameA()，即window对象调用showNameA这个方法，所以this关键字指向window</span></div></pre></td></tr></table></figure>
<p>再换种形式：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> personA = &#123;</div><div class="line">    name: <span class="string">"xl"</span>,</div><div class="line">    showName: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> personB = &#123;</div><div class="line">    name: <span class="string">"XL"</span>,</div><div class="line">    sayName: personA.showName</div><div class="line">&#125;</div><div class="line"></div><div class="line">personB.sayName();  <span class="comment">//输出 XL</span></div><div class="line"><span class="comment">//虽然showName方法是在personA这个对象中定义，但是调用的时候却是在personB这个对象中调用，因此this对象指向</span></div></pre></td></tr></table></figure>
<h3 id="作为构造函数来调用"><a href="#作为构造函数来调用" class="headerlink" title="作为构造函数来调用"></a>作为构造函数来调用</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>)</span>&#123;</div><div class="line">    <span class="keyword">this</span>.name = name;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> personA = Person(<span class="string">"xl"</span>);</div><div class="line"><span class="built_in">console</span>.log(personA.name); <span class="comment">// 输出 undefined</span></div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">window</span>.name);<span class="comment">//输出 xl</span></div><div class="line"><span class="comment">//上面代码没有进行new操作，相当于window对象调用Person("xl")方法，那么this指向window对象，并进行赋值操作window.name="xl".</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> personB = <span class="keyword">new</span> Person(<span class="string">"xl"</span>);</div><div class="line"><span class="built_in">console</span>.log(personB.name);<span class="comment">// 输出 xl</span></div><div class="line"><span class="comment">//这部分代码的解释见下</span></div></pre></td></tr></table></figure>
<h4 id="new操作符"><a href="#new操作符" class="headerlink" title="new操作符"></a>new操作符</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//下面这段代码模拟了new操作符(实例化对象)的内部过程</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">person</span>(<span class="params">name</span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> o = &#123;&#125;;</div><div class="line">    o.__proto__ = Person.prototype;  <span class="comment">//原型继承</span></div><div class="line">    Person.call(o, name);</div><div class="line">    <span class="keyword">return</span> o;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> personB = person(<span class="string">"xl"</span>);</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(personB.name);  <span class="comment">// 输出  xl</span></div></pre></td></tr></table></figure>
<p><strong>步骤如下：</strong></p>
<ol>
<li>在<code>person</code>里面首先创建一个空对象<code>o</code>；</li>
<li>将<code>o</code>的<code>proto</code>指向<code>Person.prototype</code>完成对原型的属性和方法的继承；</li>
<li><code>Person.call(o,name)</code>这里即函数<code>Person</code>作为<code>apply/call</code>调用(具体内容下方)，将<code>Person</code>对象里的<code>this</code>改为<code>o</code>，即完成了<code>o.name = name</code>操作；</li>
<li>返回对象<code>o</code>。</li>
</ol>
<p>因此<code>person(&quot;xl&quot;)</code>返回了一个继承了<code>Person.prototype</code>对象上的属性和方法，以及拥有<code>name</code>属性为<code>&quot;xl&quot;</code>的对象，并将它赋给变量<code>personB</code>，所以<code>console.log(personB.name)</code>会输出<code>&quot;xl&quot;</code></p>
<h3 id="call-apply方法的调用"><a href="#call-apply方法的调用" class="headerlink" title="call/apply方法的调用"></a>call/apply方法的调用</h3><p>在JS里，函数也是对象，因此函数也有方法。从<code>Function.prototype</code>上继承到<code>Function.prototype.call/Function.prototype.apply</code>方法<code>call/apply</code>方法最大的作用就是能改变<code>this</code>关键字的指向.<br><code>Obj.method.apply(AnotherObj, arguments);</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> name = <span class="string">"XL"</span>;</div><div class="line"><span class="keyword">var</span> Person = &#123;</div><div class="line">    name: <span class="string">"xl"</span>,</div><div class="line">    showName: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">Person.showName.call(); <span class="comment">//输出 "XL"</span></div><div class="line"><span class="comment">//这里call方法里面的第一个参数为空，默认指向window。</span></div><div class="line"><span class="comment">//虽然showName方法定义在Person对象里面，但是使用call方法后，将showName方法里面的this指向了window。因此最后会输出"XL";</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">funtion FruitA(n1,n2)&#123;</div><div class="line">    <span class="keyword">this</span>.n1 = n1;</div><div class="line">    <span class="keyword">this</span>.n2 = n2;</div><div class="line">    <span class="keyword">this</span>.change = <span class="function"><span class="keyword">function</span>(<span class="params">x, y</span>)</span>&#123;</div><div class="line">        <span class="keyword">this</span>.n1 = x;</div><div class="line">        <span class="keyword">this</span>.n2 = y;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> fruitA = <span class="keyword">new</span> FruitA(<span class="string">"cheery"</span>,<span class="string">"banana"</span>);</div><div class="line"><span class="keyword">var</span> FruitB = &#123;</div><div class="line">    n1: <span class="string">"apple"</span>,</div><div class="line">    n2: <span class="string">"orange"</span></div><div class="line">&#125;;</div><div class="line">fruitA.change.call(FruitB,<span class="string">"pear"</span>,<span class="string">"peach"</span>);</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(FruitB.n1); <span class="comment">//输出 pear</span></div><div class="line"><span class="built_in">console</span>.log(FruitB.n2);<span class="comment">// 输出 peach</span></div></pre></td></tr></table></figure>
<p><code>FruitB</code>调用<code>fruitA</code>的<code>change</code>方法，将<code>fruitA</code>中的<code>this</code>绑定到对象<code>FruitB</code>上。</p>
<h3>Function.prototype.bind()方法</h3>

<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> name = <span class="string">"XL"</span>;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>)</span>&#123;</div><div class="line">    <span class="keyword">this</span>.name = name;</div><div class="line">    <span class="keyword">this</span>.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">            <span class="built_in">console</span>.log(<span class="string">"my name is "</span>+<span class="keyword">this</span>.name);</div><div class="line">        &#125;,<span class="number">50</span>)</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> Person(<span class="string">"xl"</span>);</div><div class="line">person.sayName()  <span class="comment">//输出  “my name is XL”;</span></div></pre></td></tr></table></figure>
<p>那么如何才能输出<code>&quot;my name is xl&quot;</code>呢？</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> name = <span class="string">"XL"</span>;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>)</span>&#123;</div><div class="line">    <span class="keyword">this</span>.name = name;</div><div class="line">    <span class="keyword">this</span>.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">            <span class="built_in">console</span>.log(<span class="string">"my name is "</span>+<span class="keyword">this</span>.name);</div><div class="line">        &#125;.bind(<span class="keyword">this</span>),<span class="number">50</span>)  <span class="comment">//注意这个地方使用的bind()方法，绑定setTimeout里面的匿名函数的this一直指向Person对象</span></div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> Person(<span class="string">"xl"</span>);</div><div class="line">person.sayName(); <span class="comment">//输出 “my name is xl”;</span></div></pre></td></tr></table></figure>
<p>这里<code>setTimeout(function(){console.log(this.name)}.bind(this),50);</code>，匿名函数使用<code>bind(this)</code>方法后创建了新的函数，这个新的函数不管在什么地方执行，<code>this</code>都指向的<code>Person</code>，而非<code>window</code>，因此最后的输出为<code>&quot;my name is xl&quot;</code>而不是<code>&quot;my name is XL&quot;</code></p>
<p>另外几个需要注意的地方： <br><br><code>setTimeout/setInterval/匿名函数执行</code>的时候，<code>this</code>默认指向<code>window对象</code>，除非手动改变this的指向。在《javascript高级程序设计》当中，写到：“超时调用的代码(<code>setTimeout</code>)都是在全局作用域中执行的，因此函数中的this的值，在非严格模式下是指向window对象，在严格模式下是指向undefined”。本文都是在非严格模式下的情况。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> name = <span class="string">"XL"</span>;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">this</span>.name = <span class="string">"xl"</span>;</div><div class="line">    <span class="keyword">this</span>.showName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</div><div class="line">    &#125;</div><div class="line">    setTimeout(<span class="keyword">this</span>.showName,<span class="number">50</span>);</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> Person(); <span class="comment">//输出 "XL"</span></div><div class="line"></div><div class="line"><span class="comment">//在setTimeout(this.showName,50)语句中，会延时执行this.showName方法</span></div><div class="line"><span class="comment">//this.showName方法即构造函数Person()里面定义的方法。50ms后，执行this.showName方法，this.showName里面的this此时便指向了window对象。则会输出"XL";</span></div></pre></td></tr></table></figure>
<p>修改上面的代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> name = <span class="string">"XL"</span>;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">this</span>.name = <span class="string">"xl"</span>;</div><div class="line">    <span class="keyword">var</span> that = <span class="keyword">this</span>;</div><div class="line">    <span class="keyword">this</span>.showName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(that.name);</div><div class="line">    &#125;</div><div class="line">    setTimeout(<span class="keyword">this</span>.showName,<span class="number">50</span>)</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> Person(); <span class="comment">//输出 "xl"</span></div><div class="line"><span class="comment">//这里在Person函数当中将this赋值给that，即让that保存Person对象，因此在setTimeout(this.showName,50)执行过程当中，console.log(that.name)即会输出Person对象的属性"xl"</span></div></pre></td></tr></table></figure>
<p>匿名函数：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> name = <span class="string">"XL"</span>;</div><div class="line"><span class="keyword">var</span> person = &#123;</div><div class="line">    name: <span class="string">"xl"</span>,</div><div class="line">    showName: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</div><div class="line">    &#125;</div><div class="line">    sayName: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        (<span class="function"><span class="keyword">function</span>(<span class="params">callback</span>)</span>&#123;</div><div class="line">            callback();</div><div class="line">        &#125;)(<span class="keyword">this</span>.showName)</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">person.sayName();  <span class="comment">//输出 XL</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> name = <span class="string">"XL"</span>;</div><div class="line"><span class="keyword">var</span> person = &#123;</div><div class="line">    name: <span class="string">"xl"</span>,</div><div class="line">    showName: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</div><div class="line">    &#125;</div><div class="line">    sayName: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="keyword">var</span> that = <span class="keyword">this</span>;</div><div class="line">        (<span class="function"><span class="keyword">function</span>(<span class="params">callback</span>)</span>&#123;</div><div class="line">            callback();</div><div class="line">        &#125;)(that.showName)</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">person.sayName() ;  <span class="comment">//输出  "xl"</span></div><div class="line"><span class="comment">//匿名函数的执行同样在默认情况下this是指向window的，除非手动改变this的绑定对象</span></div></pre></td></tr></table></figure>
<h3 id="Eval函数"><a href="#Eval函数" class="headerlink" title="Eval函数"></a>Eval函数</h3><p>该函数执行的时候，this绑定到当前作用域的对象上</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> name = <span class="string">"XL"</span>;</div><div class="line"><span class="keyword">var</span> person = &#123;</div><div class="line">    name: <span class="string">"xl"</span>,</div><div class="line">    showName: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="built_in">eval</span>(<span class="string">"console.log(this.name)"</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">person.showName();  <span class="comment">//输出  "xl"</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> a=person.showName;</div><div class="line">a();  <span class="comment">//输出  "XL"</span></div></pre></td></tr></table></figure>
<p><br></p>
<p><strong>参考自：</strong>  </p>
<ul>
<li><a rel="nofollow" href="http://www.cnblogs.com/Wayou/p/all-this.html" target="_blank" title="">详解this</a></li>
<li><a rel="nofollow" href="http://www.cnblogs.com/justany/archive/2012/11/01/the_keyword_this_in_javascript.html" target="_blank">javascript中this详解</a></li>
<li><a rel="nofollow" href="http://www.ibm.com/developerworks/cn/web/1207_wangqf_jsthis/index.html" target="_blank">深入浅出javascript中的this</a></li>
<li><a rel="nofollow" href="http://www.cnblogs.com/hutaoer/p/3423782.html" target="_blank">setTimeout中this的指向问题</a></li>
<li><a rel="nofollow" href="http://www.ruanyifeng.com/blog/2010/04/using_this_keyword_in_javascript.html" target="_blank" title="">Javascript的this用法</a></li>
</ul>
<blockquote>
<p>转自：<a href="http://segmentfault.com/a/1190000003046071" target="_blank">JS 中 this 关键字详解</a></p>
</blockquote>
</div><div class="tags"><a href="/tags/javascript/">javascript</a></div><div class="post-nav"><a href="/2015/08/15/js-tujie-context/" class="pre">图解Javascript上下文与作用域</a><a href="/2015/07/22/js-prototype/" class="next">js 对象、原型、继承详解</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="google搜索"/><input type="hidden" name="sitesearch" value="http://007sair.github.io"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Markdown/">Markdown</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/css/">css</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/html/">html</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/javascript/">javascript</a><span class="category-list-count">15</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/life/">life</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/sass/">sass</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/test/">test</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/tool/">tool</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/web/">web</a><span class="category-list-count">5</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/sass/" style="font-size: 15px;">sass</a> <a href="/tags/web/" style="font-size: 15px;">web</a> <a href="/tags/css/" style="font-size: 15px;">css</a> <a href="/tags/bug/" style="font-size: 15px;">bug</a> <a href="/tags/javascript/" style="font-size: 15px;">javascript</a> <a href="/tags/sublime/" style="font-size: 15px;">sublime</a> <a href="/tags/tool/" style="font-size: 15px;">tool</a> <a href="/tags/Markdown/" style="font-size: 15px;">Markdown</a> <a href="/tags/test/" style="font-size: 15px;">test</a> <a href="/tags/html/" style="font-size: 15px;">html</a> <a href="/tags/unicode/" style="font-size: 15px;">unicode</a> <a href="/tags/life/" style="font-size: 15px;">life</a> <a href="/tags/vscode/" style="font-size: 15px;">vscode</a> <a href="/tags/flex/" style="font-size: 15px;">flex</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/08/22/hello-world/">我又回来啦！</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/07/flex-tool/">flex样式预览工具</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/05/Visual-Studio-Code-CNKEYMAP/">VSCODE 常用快捷键</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/14/font-pingfang/">苹方字体在H5的应用</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/03/How-to-get-your-kids-to-18-sane-and-not-hating-you/">怎么把孩子养到18岁，神志正常还不恨你</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/01/date-keng/">Date（日期）对象在移动端的坑</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/06/css-selector/">css选择器总结</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/07/25/wordbreak/">word-wrap与word-break的区别</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/07/04/UNICODE/">HTML字符转义、特殊字符笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/06/22/js-tricks/">Javascript Tricks</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2017 <a href="/." rel="nofollow">Chan.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.1.20/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.1.20/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>