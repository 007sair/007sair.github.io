webpackJsonp([1],{

/***/ 16:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function(ko, layer) {\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n__webpack_require__(11);\n\nvar _tool = __webpack_require__(2);\n\nvar _tool2 = _interopRequireDefault(_tool);\n\n__webpack_require__(12);\n\n__webpack_require__(13);\n\n__webpack_require__(17);\n\nvar _table = __webpack_require__(36);\n\nvar _table2 = _interopRequireDefault(_table);\n\nvar _pagination = __webpack_require__(37);\n\nvar _pagination2 = _interopRequireDefault(_pagination);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Page = function () {\n    function Page() {\n        _classCallCheck(this, Page);\n\n        this.init();\n    }\n\n    _createClass(Page, [{\n        key: 'init',\n        value: function init() {\n            var _this = this;\n\n            ko.applyBindings(this, document.getElementById('page'));\n\n            ko.applyBindings(new _table2.default(), document.getElementById('js-home-list'));\n\n            // 分页器\n            var pagination = new _pagination2.default({}, function (cb) {\n                var idx = _tool2.default.startLoading();\n                setTimeout(function () {\n                    // 这个里面传入 页面总数，每页条数\n                    cb && cb.call(_this, {\n                        count: 121\n                    });\n                    layer.close(idx);\n                }, 500);\n            });\n            pagination.goToPage(1);\n        }\n    }]);\n\n    return Page;\n}();\n\nnew Page();\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0), __webpack_require__(3)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/home.js\n// module id = 16\n// module chunks = 1\n\n//# sourceURL=webpack:///./src/js/home.js?");

/***/ }),

/***/ 17:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function(ko) {\n\nvar _module = __webpack_require__(6);\n\nvar _module2 = _interopRequireDefault(_module);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nko.components.register('cp-crumbs-tab', {\n\n    viewModel: function viewModel(params) {\n\n        this.createNewPage = function () {\n            var create_page = new _module2.default['create_page']();\n            create_page.create();\n        };\n    },\n\n    template: '\\n        <div class=\"dss-crumbs\">\\n            <div class=\"lt fl\">\\n                <ul class=\"tab\">\\n                    <li>\\u4E13\\u9898</li>\\n                    <li>\\u5E97\\u94FA\\u88C5\\u4FEE\\u9875</li>\\n                    <li>\\u6D3B\\u52A8\\u9875</li>\\n                </ul>\\n            </div>\\n            <div class=\"rt fr\">\\n                <a data-bind=\"click:createNewPage\" class=\"btn-create\" href=\"javascript:;\">\\n                    <svg class=\"icon-svg\" aria-hidden=\"true\"><use xlink:href=\"#icon-create\"></use></svg>\\n                    \\u65B0\\u5EFA\\u9875\\u9762\\n                </a>\\n            </div>\\n        </div>\\n    '\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/component/crumbs_tab.js\n// module id = 17\n// module chunks = 1\n\n//# sourceURL=webpack:///./src/js/component/crumbs_tab.js?");

/***/ }),

/***/ 36:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function(ko, swal) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Table = function () {\n    function Table() {\n        _classCallCheck(this, Table);\n\n        this.data = ko.mapping.fromJS({\n            isStateShow: false,\n            isStateSelected: '',\n            states: ['已发布', '审核通过', '待审核', '被驳回', '已下线']\n        });\n\n        this.list = ko.observableArray([{\n            sku: 10010,\n            title: '306大促奶粉5折306大促奶粉5折306大促奶粉5折306大促奶粉5折',\n            time: '2018-2-28  11:11:22',\n            status: '已发布',\n            rr: '------------'\n        }, {\n            sku: 20010,\n            title: '306大促奶粉5折306大促奶粉5折306大促奶粉5折306大促奶粉5折',\n            time: '2018-2-28  11:11:22',\n            status: '已发布',\n            rr: '------------'\n        }, {\n            sku: 100102,\n            title: '11111306大促奶粉5折306大促奶粉5折306大促奶粉5折306大促奶粉5折',\n            time: '2018-2-28  11:11:22',\n            status: '已发布',\n            rr: '------------'\n        }]);\n    }\n\n    _createClass(Table, [{\n        key: 'init',\n        value: function init() {}\n    }, {\n        key: 'toggleState',\n        value: function toggleState() {\n            this.data.isStateShow(!this.data.isStateShow());\n        }\n    }, {\n        key: 'selectState',\n        value: function selectState(item, event) {\n            var context = ko.contextFor(event.target); //获取绑定元素的上下文;event.target绑定View Model的DOM元素\n            var index = context.$index();\n            this.data.isStateSelected(item);\n            this.data.isStateShow(false);\n        }\n    }, {\n        key: 'edit',\n        value: function edit(item) {\n            console.log('edit', item.sku);\n        }\n    }, {\n        key: 'preview',\n        value: function preview(item) {\n            console.log('preview', item.sku);\n        }\n    }, {\n        key: 'del',\n        value: function del(item, event) {\n            var _this = this;\n\n            var self = this;\n            var context = ko.contextFor(event.target); //获取绑定元素的上下文;event.target绑定View Model的DOM元素\n            var index = context.$index();\n            console.log(item, index);\n\n            swal({\n                text: \"确定要删除当前专题吗？\",\n                icon: \"warning\",\n                dangerMode: true,\n                buttons: ['再想想', '删除']\n            }).then(function (willDelete) {\n                if (willDelete) {\n                    _this.list.splice(index, 1);\n                    swal(\"已删除!\", {\n                        button: false,\n                        icon: 'success',\n                        timer: 1000\n                    });\n                }\n            });\n        }\n    }]);\n\n    return Table;\n}();\n\nexports.default = Table;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0), __webpack_require__(10)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/module/view/table.js\n// module id = 36\n// module chunks = 1\n\n//# sourceURL=webpack:///./src/js/module/view/table.js?");

/***/ }),

/***/ 37:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function(ko) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Pagination = function () {\n    function Pagination(config, callback) {\n        _classCallCheck(this, Pagination);\n\n        this.handle = callback;\n        this.config = Object.assign({}, config);\n\n        this.el = 'ko-pagination';\n\n        this.pagerCount = this.config.pager || 5; // 如果分页的页面太多，截取部分页面进行显示，默认设置显示6个页面\n        this.pageSize = this.config.size || 10; // 每页显示的记录数\n        this.currentPage = ko.observable(1); // 当前页面Index\n        this.jumpPage = ko.observable(1); // 需要跳转的页面的Index\n        this.pageCount = ko.observable(0); // 总页数\n        this.showStartPagerDot = ko.observable(false); // 页面开始部分是否显示点号\n        this.showEndPagerDot = ko.observable(false); // 页面结束部分是否显示点号\n        this.pages = ko.observable([]); // 需要显示的页面数量\n        this.total = ko.observable(0); // 记录总数\n\n        this.init();\n    }\n\n    _createClass(Pagination, [{\n        key: 'getHtml',\n        value: function getHtml() {\n            return '\\n            <div class=\"dss-pagination\">\\n                <ul>\\n                    <li data-bind=\"click:goToPrev\" class=\"prev\"></li>\\n                    <!--ko if:showStartPagerDot-->\\n                    <li class=\"dot\">...</li>\\n                    <!--/ko-->\\n                    <!--ko foreach:pages-->\\n                    <li data-bind=\"text:$data, \\n                        css:{\\'active\\':$data == $parent.currentPage()}, \\n                        click:$parent.goToPage.bind($parent, $data)\"\\n                    ></li>\\n                    <!--/ko-->\\n                    <!--ko if:showEndPagerDot-->\\n                    <li class=\"dot\">...</li>\\n                    <!--/ko-->\\n                    <li data-bind=\"click:goToNext\" class=\"next\"></li>\\n                </ul>\\n                <span class=\"info\" data-bind=\"text:formatedInfo\"></span>\\n                <span class=\"jump\">\\u7B2C<input data-bind=\"value:jumpPage\" type=\"text\">\\u9875<button data-bind=\"click:jump\">\\u8DF3\\u8F6C</button></span>\\n            </div>\\n        ';\n        }\n    }, {\n        key: 'caculatePages',\n        value: function caculatePages() {\n            var result = [],\n                pagerCount = this.pagerCount,\n                start = 1,\n                end = pagerCount;\n            if (this.currentPage() >= pagerCount) {\n                start = this.currentPage() - Math.floor(pagerCount / 2);\n                this.showStartPagerDot(true);\n            } else {\n                this.showStartPagerDot(false);\n            };\n            end = start + pagerCount - 1;\n            if (end >= this.pageCount()) {\n                end = this.pageCount();\n                this.showEndPagerDot(false);\n            } else {\n                this.showEndPagerDot(true);\n            };\n\n            for (var i = start; i <= end; i++) {\n                result.push(i);\n            };\n            this.pages(result);\n        }\n    }, {\n        key: 'init',\n        value: function init() {\n            var _this = this;\n\n            var oEl = document.getElementById(this.el);\n            if (!oEl) return false;\n\n            // binding data\n            this.data = ko.mapping.fromJS(this.data);\n\n            oEl.innerHTML = this.getHtml();\n\n            // computed\n            this.formatedInfo = ko.computed(function () {\n                return '\\u5171' + _this.pageCount() + '\\u9875 \\u6BCF\\u9875\\u663E\\u793A' + _this.pageSize + '\\u6761 \\u5171' + _this.total() + '\\u6761\\u6570\\u636E';\n            });\n\n            ko.applyBindings(this, oEl);\n        }\n\n        // 点击跳转\n\n    }, {\n        key: 'goToPage',\n        value: function goToPage(page) {\n            var _this2 = this;\n\n            if (typeof this.handle === 'function') {\n                this.handle(function (data) {\n                    _this2.pageCount(Math.ceil(data.count / _this2.pageSize));\n                    _this2.currentPage(page);\n                    _this2.jumpPage(null);\n                    _this2.caculatePages();\n                    _this2.total(data.count);\n                });\n            }\n        }\n\n        //回到首页\n\n    }, {\n        key: 'goToFirst',\n        value: function goToFirst() {\n            this.goToPage(1);\n        }\n\n        //跳转到最后一页\n\n    }, {\n        key: 'goToLast',\n        value: function goToLast() {\n            this.goToPage(this.pageCount());\n        }\n\n        //上一页\n\n    }, {\n        key: 'goToPrev',\n        value: function goToPrev() {\n            var cur = +this.currentPage();\n            if (cur > 1) {\n                this.goToPage(cur - 1);\n            };\n        }\n\n        //下一页\n\n    }, {\n        key: 'goToNext',\n        value: function goToNext() {\n            var cur = +this.currentPage();\n            if (cur < this.pageCount()) {\n                this.goToPage(cur + 1);\n            };\n        }\n\n        //跳转\n\n    }, {\n        key: 'jump',\n        value: function jump() {\n            var page = this.jumpPage();\n            if (page > 0 && page <= this.pageCount()) {\n                this.goToPage(page);\n            }\n        }\n    }]);\n\n    return Pagination;\n}();\n\nexports.default = Pagination;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/module/view/pagination.js\n// module id = 37\n// module chunks = 1\n\n//# sourceURL=webpack:///./src/js/module/view/pagination.js?");

/***/ }),

/***/ 5:
/***/ (function(module, exports) {

eval("module.exports = vendor_library;\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vendor_library\"\n// module id = 5\n// module chunks = 0 1\n\n//# sourceURL=webpack:///external_%22vendor_library%22?");

/***/ })

},[16]);