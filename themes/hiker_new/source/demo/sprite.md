# 拼团topbar雪碧图

> 项目：拼团v5.6 <br>
> 描述：拼团首页、详情页tab图标合成图规则与流程 <br>
> 目的：解决wap端图片请求过多，图片过大的问题

此文档将分为三个部分：UI、产品运营、FE。各部门人员只需关注对应部分内容。

## 【UI】看这边

psd共享地址：\\172.16.96.210\设计部\96.209\设计部资料库\UI设计组\客户端\5.4\拼团\一级导航图标

**示例图**

<img src="http://img.miyabaobei.com/d1/p5/2017/05/09/2f/97/2f970607e4b8220febc428bd53e15ac0147844586.png" width="60%" alt="">

**上图说明**

左侧黑底、右侧白底、红色白字序列号仅供方便查看，实际设计产出图为：**无背景色，无参考线、无序列号**的 **png-24** 图片。

**注意：上图左侧黑底、右侧白底、红色白字序列号仅供方便查看，实际设计出的为透明底，无参考线、无序列号图片。**

**对应位置**

```
 -----------------------------------------------------------------
 |     1.百货     |    2.进口      |    3.美食    |     4.母婴     |
 -----------------------------------------------------------------
 |     5.美妆     |    6.首页      |    7.童装    |     8.玩具     |
 -----------------------------------------------------------------
 |     9.孕产     |   10.猜你喜欢  |   11.热销榜   |       -       |
 -----------------------------------------------------------------
 |        -       |        -      |        -     |       -       |
 -----------------------------------------------------------------
```

**设计须知**

- 此图宽度固定，不可随意修改，每个格子为50像素，图片居中放置
- 左侧白色图标，用于wap拼团首页
- 右侧灰色图标，用于wap拼团详情页
- 左右为一一对应关系。若对应的右侧灰色图标为空，请保留空格，如序号6

## 【产品运营】看这边

此项目的图标基于后台管理，所以前提是有后台且有最新的图片，流程如下：

**修改图标**

1. UI修改图片，存为png24，能压缩最好（[压缩工具](https://tinypng.com/)）
2. 上传最新图片并获取图片链接
3. 在后台分类下填入图片链接

**修改图标**

1. UI在上图结构 ` - ` 内增加图标（注意左右对应关系）
2. 找到新图标对应的序列号，（序列号目前只支持1-20，后续新增请找前端FE组）
3. 将修改后的雪碧图上传至服务器
4. 在后台分类下填入图片链接、序列号

## 【前端FE】看这边

**序列号**

上图结构中对应的序列号需与样式名对应上。

雪碧图样式来自sass，示例如下（仅供参考，实际开发请以线上代码为准）：

``` scss
//此变量即为上传的图片地址，
$url-icons: '../images/icons.png';
 
.sprite-icon {
    width: rem(50);
    height: rem(50);
    background: url($url-icons) no-repeat;
    background-size: rem(400) auto;
}
 
$count: 0;
$area: 50;
@for $i from 1 through 20 {
    .sprite-icon-#{$i} {
        $x: ($i - 1) % 4 * $area;
        $y: $count * $area;
        background-position: rem(-$x) rem(-$y);
        &._gray_ {
            $x: (($i - 1) % 4 + 4) * $area;
            $y: $count * $area;
            background-position: rem(-$x) rem(-$y);
        }
    }
    @if $i % 4 == 0 {
        $count: $count + 1
    }
}
```
从以上代码得知，目前只支持1-20的序列号，后续若有添加修改循环值即可。