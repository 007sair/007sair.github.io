webpackJsonp([0],[
/* 0 */,
/* 1 */,
/* 2 */,
/* 3 */,
/* 4 */,
/* 5 */
/***/ (function(module, exports) {

eval("module.exports = vendor_library;\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vendor_library\"\n// module id = 5\n// module chunks = 0 1\n\n//# sourceURL=webpack:///external_%22vendor_library%22?");

/***/ }),
/* 6 */,
/* 7 */,
/* 8 */,
/* 9 */,
/* 10 */,
/* 11 */,
/* 12 */,
/* 13 */,
/* 14 */,
/* 15 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function(global) {\n\nvar emitter = __webpack_require__(42);\nvar crossvent = __webpack_require__(47);\nvar classes = __webpack_require__(50);\nvar doc = document;\nvar documentElement = doc.documentElement;\n\nfunction dragula (initialContainers, options) {\n  var len = arguments.length;\n  if (len === 1 && Array.isArray(initialContainers) === false) {\n    options = initialContainers;\n    initialContainers = [];\n  }\n  var _mirror; // mirror image\n  var _source; // source container\n  var _item; // item being dragged\n  var _offsetX; // reference x\n  var _offsetY; // reference y\n  var _moveX; // reference move x\n  var _moveY; // reference move y\n  var _initialSibling; // reference sibling when grabbed\n  var _currentSibling; // reference sibling now\n  var _copy; // item used for copying\n  var _renderTimer; // timer for setTimeout renderMirrorImage\n  var _lastDropTarget = null; // last container item was over\n  var _grabbed; // holds mousedown context until first mousemove\n\n  var o = options || {};\n  if (o.moves === void 0) { o.moves = always; }\n  if (o.accepts === void 0) { o.accepts = always; }\n  if (o.invalid === void 0) { o.invalid = invalidTarget; }\n  if (o.containers === void 0) { o.containers = initialContainers || []; }\n  if (o.isContainer === void 0) { o.isContainer = never; }\n  if (o.copy === void 0) { o.copy = false; }\n  if (o.copySortSource === void 0) { o.copySortSource = false; }\n  if (o.revertOnSpill === void 0) { o.revertOnSpill = false; }\n  if (o.removeOnSpill === void 0) { o.removeOnSpill = false; }\n  if (o.direction === void 0) { o.direction = 'vertical'; }\n  if (o.ignoreInputTextSelection === void 0) { o.ignoreInputTextSelection = true; }\n  if (o.mirrorContainer === void 0) { o.mirrorContainer = doc.body; }\n\n  var drake = emitter({\n    containers: o.containers,\n    start: manualStart,\n    end: end,\n    cancel: cancel,\n    remove: remove,\n    destroy: destroy,\n    canMove: canMove,\n    dragging: false\n  });\n\n  if (o.removeOnSpill === true) {\n    drake.on('over', spillOver).on('out', spillOut);\n  }\n\n  events();\n\n  return drake;\n\n  function isContainer (el) {\n    return drake.containers.indexOf(el) !== -1 || o.isContainer(el);\n  }\n\n  function events (remove) {\n    var op = remove ? 'remove' : 'add';\n    touchy(documentElement, op, 'mousedown', grab);\n    touchy(documentElement, op, 'mouseup', release);\n  }\n\n  function eventualMovements (remove) {\n    var op = remove ? 'remove' : 'add';\n    touchy(documentElement, op, 'mousemove', startBecauseMouseMoved);\n  }\n\n  function movements (remove) {\n    var op = remove ? 'remove' : 'add';\n    crossvent[op](documentElement, 'selectstart', preventGrabbed); // IE8\n    crossvent[op](documentElement, 'click', preventGrabbed);\n  }\n\n  function destroy () {\n    events(true);\n    release({});\n  }\n\n  function preventGrabbed (e) {\n    if (_grabbed) {\n      e.preventDefault();\n    }\n  }\n\n  function grab (e) {\n    _moveX = e.clientX;\n    _moveY = e.clientY;\n\n    var ignore = whichMouseButton(e) !== 1 || e.metaKey || e.ctrlKey;\n    if (ignore) {\n      return; // we only care about honest-to-god left clicks and touch events\n    }\n    var item = e.target;\n    var context = canStart(item);\n    if (!context) {\n      return;\n    }\n    _grabbed = context;\n    eventualMovements();\n    if (e.type === 'mousedown') {\n      if (isInput(item)) { // see also: https://github.com/bevacqua/dragula/issues/208\n        item.focus(); // fixes https://github.com/bevacqua/dragula/issues/176\n      } else {\n        e.preventDefault(); // fixes https://github.com/bevacqua/dragula/issues/155\n      }\n    }\n  }\n\n  function startBecauseMouseMoved (e) {\n    if (!_grabbed) {\n      return;\n    }\n    if (whichMouseButton(e) === 0) {\n      release({});\n      return; // when text is selected on an input and then dragged, mouseup doesn't fire. this is our only hope\n    }\n    // truthy check fixes #239, equality fixes #207\n    if (e.clientX !== void 0 && e.clientX === _moveX && e.clientY !== void 0 && e.clientY === _moveY) {\n      return;\n    }\n    if (o.ignoreInputTextSelection) {\n      var clientX = getCoord('clientX', e);\n      var clientY = getCoord('clientY', e);\n      var elementBehindCursor = doc.elementFromPoint(clientX, clientY);\n      if (isInput(elementBehindCursor)) {\n        return;\n      }\n    }\n\n    var grabbed = _grabbed; // call to end() unsets _grabbed\n    eventualMovements(true);\n    movements();\n    end();\n    start(grabbed);\n\n    var offset = getOffset(_item);\n    _offsetX = getCoord('pageX', e) - offset.left;\n    _offsetY = getCoord('pageY', e) - offset.top;\n\n    classes.add(_copy || _item, 'gu-transit');\n    renderMirrorImage();\n    drag(e);\n  }\n\n  function canStart (item) {\n    if (drake.dragging && _mirror) {\n      return;\n    }\n    if (isContainer(item)) {\n      return; // don't drag container itself\n    }\n    var handle = item;\n    while (getParent(item) && isContainer(getParent(item)) === false) {\n      if (o.invalid(item, handle)) {\n        return;\n      }\n      item = getParent(item); // drag target should be a top element\n      if (!item) {\n        return;\n      }\n    }\n    var source = getParent(item);\n    if (!source) {\n      return;\n    }\n    if (o.invalid(item, handle)) {\n      return;\n    }\n\n    var movable = o.moves(item, source, handle, nextEl(item));\n    if (!movable) {\n      return;\n    }\n\n    return {\n      item: item,\n      source: source\n    };\n  }\n\n  function canMove (item) {\n    return !!canStart(item);\n  }\n\n  function manualStart (item) {\n    var context = canStart(item);\n    if (context) {\n      start(context);\n    }\n  }\n\n  function start (context) {\n    if (isCopy(context.item, context.source)) {\n      _copy = context.item.cloneNode(true);\n      drake.emit('cloned', _copy, context.item, 'copy');\n    }\n\n    _source = context.source;\n    _item = context.item;\n    _initialSibling = _currentSibling = nextEl(context.item);\n\n    drake.dragging = true;\n    drake.emit('drag', _item, _source);\n  }\n\n  function invalidTarget () {\n    return false;\n  }\n\n  function end () {\n    if (!drake.dragging) {\n      return;\n    }\n    var item = _copy || _item;\n    drop(item, getParent(item));\n  }\n\n  function ungrab () {\n    _grabbed = false;\n    eventualMovements(true);\n    movements(true);\n  }\n\n  function release (e) {\n    ungrab();\n\n    if (!drake.dragging) {\n      return;\n    }\n    var item = _copy || _item;\n    var clientX = getCoord('clientX', e);\n    var clientY = getCoord('clientY', e);\n    var elementBehindCursor = getElementBehindPoint(_mirror, clientX, clientY);\n    var dropTarget = findDropTarget(elementBehindCursor, clientX, clientY);\n    if (dropTarget && ((_copy && o.copySortSource) || (!_copy || dropTarget !== _source))) {\n      drop(item, dropTarget);\n    } else if (o.removeOnSpill) {\n      remove();\n    } else {\n      cancel();\n    }\n  }\n\n  function drop (item, target) {\n    var parent = getParent(item);\n    if (_copy && o.copySortSource && target === _source) {\n      parent.removeChild(_item);\n    }\n    if (isInitialPlacement(target)) {\n      drake.emit('cancel', item, _source, _source);\n    } else {\n      drake.emit('drop', item, target, _source, _currentSibling);\n    }\n    cleanup();\n  }\n\n  function remove () {\n    if (!drake.dragging) {\n      return;\n    }\n    var item = _copy || _item;\n    var parent = getParent(item);\n    if (parent) {\n      parent.removeChild(item);\n    }\n    drake.emit(_copy ? 'cancel' : 'remove', item, parent, _source);\n    cleanup();\n  }\n\n  function cancel (revert) {\n    if (!drake.dragging) {\n      return;\n    }\n    var reverts = arguments.length > 0 ? revert : o.revertOnSpill;\n    var item = _copy || _item;\n    var parent = getParent(item);\n    var initial = isInitialPlacement(parent);\n    if (initial === false && reverts) {\n      if (_copy) {\n        if (parent) {\n          parent.removeChild(_copy);\n        }\n      } else {\n        _source.insertBefore(item, _initialSibling);\n      }\n    }\n    if (initial || reverts) {\n      drake.emit('cancel', item, _source, _source);\n    } else {\n      drake.emit('drop', item, parent, _source, _currentSibling);\n    }\n    cleanup();\n  }\n\n  function cleanup () {\n    var item = _copy || _item;\n    ungrab();\n    removeMirrorImage();\n    if (item) {\n      classes.rm(item, 'gu-transit');\n    }\n    if (_renderTimer) {\n      clearTimeout(_renderTimer);\n    }\n    drake.dragging = false;\n    if (_lastDropTarget) {\n      drake.emit('out', item, _lastDropTarget, _source);\n    }\n    drake.emit('dragend', item);\n    _source = _item = _copy = _initialSibling = _currentSibling = _renderTimer = _lastDropTarget = null;\n  }\n\n  function isInitialPlacement (target, s) {\n    var sibling;\n    if (s !== void 0) {\n      sibling = s;\n    } else if (_mirror) {\n      sibling = _currentSibling;\n    } else {\n      sibling = nextEl(_copy || _item);\n    }\n    return target === _source && sibling === _initialSibling;\n  }\n\n  function findDropTarget (elementBehindCursor, clientX, clientY) {\n    var target = elementBehindCursor;\n    while (target && !accepted()) {\n      target = getParent(target);\n    }\n    return target;\n\n    function accepted () {\n      var droppable = isContainer(target);\n      if (droppable === false) {\n        return false;\n      }\n\n      var immediate = getImmediateChild(target, elementBehindCursor);\n      var reference = getReference(target, immediate, clientX, clientY);\n      var initial = isInitialPlacement(target, reference);\n      if (initial) {\n        return true; // should always be able to drop it right back where it was\n      }\n      return o.accepts(_item, target, _source, reference);\n    }\n  }\n\n  function drag (e) {\n    if (!_mirror) {\n      return;\n    }\n    e.preventDefault();\n\n    var clientX = getCoord('clientX', e);\n    var clientY = getCoord('clientY', e);\n    var x = clientX - _offsetX;\n    var y = clientY - _offsetY;\n\n    _mirror.style.left = x + 'px';\n    _mirror.style.top = y + 'px';\n\n    var item = _copy || _item;\n    var elementBehindCursor = getElementBehindPoint(_mirror, clientX, clientY);\n    var dropTarget = findDropTarget(elementBehindCursor, clientX, clientY);\n    var changed = dropTarget !== null && dropTarget !== _lastDropTarget;\n    if (changed || dropTarget === null) {\n      out();\n      _lastDropTarget = dropTarget;\n      over();\n    }\n    var parent = getParent(item);\n    if (dropTarget === _source && _copy && !o.copySortSource) {\n      if (parent) {\n        parent.removeChild(item);\n      }\n      return;\n    }\n    var reference;\n    var immediate = getImmediateChild(dropTarget, elementBehindCursor);\n    if (immediate !== null) {\n      reference = getReference(dropTarget, immediate, clientX, clientY);\n    } else if (o.revertOnSpill === true && !_copy) {\n      reference = _initialSibling;\n      dropTarget = _source;\n    } else {\n      if (_copy && parent) {\n        parent.removeChild(item);\n      }\n      return;\n    }\n    if (\n      (reference === null && changed) ||\n      reference !== item &&\n      reference !== nextEl(item)\n    ) {\n      _currentSibling = reference;\n      dropTarget.insertBefore(item, reference);\n      drake.emit('shadow', item, dropTarget, _source);\n    }\n    function moved (type) { drake.emit(type, item, _lastDropTarget, _source); }\n    function over () { if (changed) { moved('over'); } }\n    function out () { if (_lastDropTarget) { moved('out'); } }\n  }\n\n  function spillOver (el) {\n    classes.rm(el, 'gu-hide');\n  }\n\n  function spillOut (el) {\n    if (drake.dragging) { classes.add(el, 'gu-hide'); }\n  }\n\n  function renderMirrorImage () {\n    if (_mirror) {\n      return;\n    }\n    var rect = _item.getBoundingClientRect();\n    _mirror = _item.cloneNode(true);\n    _mirror.style.width = getRectWidth(rect) + 'px';\n    _mirror.style.height = getRectHeight(rect) + 'px';\n    classes.rm(_mirror, 'gu-transit');\n    classes.add(_mirror, 'gu-mirror');\n    o.mirrorContainer.appendChild(_mirror);\n    touchy(documentElement, 'add', 'mousemove', drag);\n    classes.add(o.mirrorContainer, 'gu-unselectable');\n    drake.emit('cloned', _mirror, _item, 'mirror');\n  }\n\n  function removeMirrorImage () {\n    if (_mirror) {\n      classes.rm(o.mirrorContainer, 'gu-unselectable');\n      touchy(documentElement, 'remove', 'mousemove', drag);\n      getParent(_mirror).removeChild(_mirror);\n      _mirror = null;\n    }\n  }\n\n  function getImmediateChild (dropTarget, target) {\n    var immediate = target;\n    while (immediate !== dropTarget && getParent(immediate) !== dropTarget) {\n      immediate = getParent(immediate);\n    }\n    if (immediate === documentElement) {\n      return null;\n    }\n    return immediate;\n  }\n\n  function getReference (dropTarget, target, x, y) {\n    var horizontal = o.direction === 'horizontal';\n    var reference = target !== dropTarget ? inside() : outside();\n    return reference;\n\n    function outside () { // slower, but able to figure out any position\n      var len = dropTarget.children.length;\n      var i;\n      var el;\n      var rect;\n      for (i = 0; i < len; i++) {\n        el = dropTarget.children[i];\n        rect = el.getBoundingClientRect();\n        if (horizontal && (rect.left + rect.width / 2) > x) { return el; }\n        if (!horizontal && (rect.top + rect.height / 2) > y) { return el; }\n      }\n      return null;\n    }\n\n    function inside () { // faster, but only available if dropped inside a child element\n      var rect = target.getBoundingClientRect();\n      if (horizontal) {\n        return resolve(x > rect.left + getRectWidth(rect) / 2);\n      }\n      return resolve(y > rect.top + getRectHeight(rect) / 2);\n    }\n\n    function resolve (after) {\n      return after ? nextEl(target) : target;\n    }\n  }\n\n  function isCopy (item, container) {\n    return typeof o.copy === 'boolean' ? o.copy : o.copy(item, container);\n  }\n}\n\nfunction touchy (el, op, type, fn) {\n  var touch = {\n    mouseup: 'touchend',\n    mousedown: 'touchstart',\n    mousemove: 'touchmove'\n  };\n  var pointers = {\n    mouseup: 'pointerup',\n    mousedown: 'pointerdown',\n    mousemove: 'pointermove'\n  };\n  var microsoft = {\n    mouseup: 'MSPointerUp',\n    mousedown: 'MSPointerDown',\n    mousemove: 'MSPointerMove'\n  };\n  if (global.navigator.pointerEnabled) {\n    crossvent[op](el, pointers[type], fn);\n  } else if (global.navigator.msPointerEnabled) {\n    crossvent[op](el, microsoft[type], fn);\n  } else {\n    crossvent[op](el, touch[type], fn);\n    crossvent[op](el, type, fn);\n  }\n}\n\nfunction whichMouseButton (e) {\n  if (e.touches !== void 0) { return e.touches.length; }\n  if (e.which !== void 0 && e.which !== 0) { return e.which; } // see https://github.com/bevacqua/dragula/issues/261\n  if (e.buttons !== void 0) { return e.buttons; }\n  var button = e.button;\n  if (button !== void 0) { // see https://github.com/jquery/jquery/blob/99e8ff1baa7ae341e94bb89c3e84570c7c3ad9ea/src/event.js#L573-L575\n    return button & 1 ? 1 : button & 2 ? 3 : (button & 4 ? 2 : 0);\n  }\n}\n\nfunction getOffset (el) {\n  var rect = el.getBoundingClientRect();\n  return {\n    left: rect.left + getScroll('scrollLeft', 'pageXOffset'),\n    top: rect.top + getScroll('scrollTop', 'pageYOffset')\n  };\n}\n\nfunction getScroll (scrollProp, offsetProp) {\n  if (typeof global[offsetProp] !== 'undefined') {\n    return global[offsetProp];\n  }\n  if (documentElement.clientHeight) {\n    return documentElement[scrollProp];\n  }\n  return doc.body[scrollProp];\n}\n\nfunction getElementBehindPoint (point, x, y) {\n  var p = point || {};\n  var state = p.className;\n  var el;\n  p.className += ' gu-hide';\n  el = doc.elementFromPoint(x, y);\n  p.className = state;\n  return el;\n}\n\nfunction never () { return false; }\nfunction always () { return true; }\nfunction getRectWidth (rect) { return rect.width || (rect.right - rect.left); }\nfunction getRectHeight (rect) { return rect.height || (rect.bottom - rect.top); }\nfunction getParent (el) { return el.parentNode === doc ? null : el.parentNode; }\nfunction isInput (el) { return el.tagName === 'INPUT' || el.tagName === 'TEXTAREA' || el.tagName === 'SELECT' || isEditable(el); }\nfunction isEditable (el) {\n  if (!el) { return false; } // no parents were editable\n  if (el.contentEditable === 'false') { return false; } // stop the lookup\n  if (el.contentEditable === 'true') { return true; } // found a contentEditable element in the chain\n  return isEditable(getParent(el)); // contentEditable is set to 'inherit'\n}\n\nfunction nextEl (el) {\n  return el.nextElementSibling || manually();\n  function manually () {\n    var sibling = el;\n    do {\n      sibling = sibling.nextSibling;\n    } while (sibling && sibling.nodeType !== 1);\n    return sibling;\n  }\n}\n\nfunction getEventHost (e) {\n  // on touchend event, we have to use `e.changedTouches`\n  // see http://stackoverflow.com/questions/7192563/touchend-event-properties\n  // see https://github.com/bevacqua/dragula/issues/34\n  if (e.targetTouches && e.targetTouches.length) {\n    return e.targetTouches[0];\n  }\n  if (e.changedTouches && e.changedTouches.length) {\n    return e.changedTouches[0];\n  }\n  return e;\n}\n\nfunction getCoord (coord, e) {\n  var host = getEventHost(e);\n  var missMap = {\n    pageX: 'clientX', // IE8\n    pageY: 'clientY' // IE8\n  };\n  if (coord in missMap && !(coord in host) && missMap[coord] in host) {\n    coord = missMap[coord];\n  }\n  return host[coord];\n}\n\nmodule.exports = dragula;\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(9)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_dragula@3.7.2@dragula/dragula.js\n// module id = 15\n// module chunks = 0\n\n//# sourceURL=webpack:///./node_modules/_dragula@3.7.2@dragula/dragula.js?");

/***/ }),
/* 16 */,
/* 17 */,
/* 18 */,
/* 19 */,
/* 20 */,
/* 21 */,
/* 22 */,
/* 23 */,
/* 24 */,
/* 25 */,
/* 26 */,
/* 27 */,
/* 28 */,
/* 29 */,
/* 30 */,
/* 31 */,
/* 32 */,
/* 33 */,
/* 34 */,
/* 35 */,
/* 36 */,
/* 37 */,
/* 38 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function(ko) {\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n__webpack_require__(39);\n\n__webpack_require__(11);\n\n__webpack_require__(12);\n\n__webpack_require__(13);\n\n__webpack_require__(40);\n\n__webpack_require__(41);\n\n__webpack_require__(51);\n\n__webpack_require__(53);\n\n__webpack_require__(54);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Page = function () {\n    function Page() {\n        _classCallCheck(this, Page);\n\n        this.init();\n    }\n\n    _createClass(Page, [{\n        key: 'init',\n        value: function init() {\n            ko.applyBindings(this, document.getElementById('page'));\n        }\n    }]);\n\n    return Page;\n}();\n\nnew Page();\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/index.js\n// module id = 38\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/js/index.js?");

/***/ }),
/* 39 */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = (__webpack_require__(5))(4);\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/_spectrum-colorpicker@1.8.0@spectrum-colorpicker/spectrum.js from dll-reference vendor_library\n// module id = 39\n// module chunks = 0\n\n//# sourceURL=webpack:///delegated_./node_modules/_spectrum-colorpicker@1.8.0@spectrum-colorpicker/spectrum.js_from_dll-reference_vendor_library?");

/***/ }),
/* 40 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function(ko) {\n\nvar _data = __webpack_require__(1);\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _module = __webpack_require__(6);\n\nvar _module2 = _interopRequireDefault(_module);\n\nvar _store2 = __webpack_require__(7);\n\nvar _store3 = _interopRequireDefault(_store2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nko.components.register('cp-crumbs', {\n\n    viewModel: function viewModel(params) {\n        this.openGlobalSetting = function () {\n            var global_set = new _module2.default['global_set']();\n            global_set.create();\n        };\n\n        this.save = function () {\n            var result = _store3.default.format(_data2.default.$$preview.views);\n            console.log(result);\n        };\n    },\n\n    template: '\\n        <div class=\"dss-crumbs\">\\n            <div class=\"lt fl\">\\n                <span class=\"c-gray-l\">\\u4F4D\\u7F6E\\uFF1A</span>\\n                <div class=\"path\">\\n                    <span>\\u9875\\u9762\\u9996\\u9875</span><span class=\"cur\">306\\u5927\\u4FC3\\u5976\\u7C895\\u6298</span>\\n                </div>\\n                <button data-bind=\"click:openGlobalSetting\" class=\"btn-globalsetting\">\\n                    <svg class=\"icon-svg\" aria-hidden=\"true\"><use xlink:href=\"#icon-setting\"></use></svg>\\n                    \\u5168\\u5C40\\u8BBE\\u7F6E\\n                </button>\\n            </div>\\n            <div class=\"rt fr\">\\n                <button>\\u9884\\u89C8</button>\\n                <button data-bind=\"click:save\">\\u4FDD\\u5B58</button>\\n                <button>\\u63D0\\u4EA4</button>\\n            </div>\\n        </div>\\n    '\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/component/crumbs.js\n// module id = 40\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/js/component/crumbs.js?");

/***/ }),
/* 41 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function(ko) {\n\nvar _dragula = __webpack_require__(15);\n\nvar _dragula2 = _interopRequireDefault(_dragula);\n\nvar _module = __webpack_require__(6);\n\nvar _module2 = _interopRequireDefault(_module);\n\nvar _data = __webpack_require__(1);\n\nvar _data2 = _interopRequireDefault(_data);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nko.components.register('cp-modules', {\n\n    viewModel: function viewModel(params) {\n        var _this = this;\n\n        this.selectedType = '';\n        this.isSelectedFlag = ko.observable(false);\n        this.arr = _module.map;\n        this.arr.forEach(function (item) {\n            item.isExpand = ko.observable(true);\n            item.child.forEach(function (child) {\n                child.isSelected = ko.observable(false);\n            });\n        });\n\n        this.toggle = function (item, event) {\n            item.isExpand(!item.isExpand());\n        };\n\n        this.selected = function (item) {\n            _this.arr.forEach(function (items) {\n                items.child.forEach(function (child) {\n                    if (item != child) {\n                        child.isSelected(false);\n                    }\n                });\n            });\n            item.isSelected(!item.isSelected());\n            if (item.isSelected()) {\n                _this.isSelectedFlag(true);\n                _this.selectedType = item.type;\n            } else {\n                _this.isSelectedFlag(false);\n            }\n        };\n\n        this.addModule = function () {\n            var flag = _data2.default.$$preview.views().length;\n            _data2.default.$$preview.add(_this.selectedType, flag);\n        };\n\n        // console.log(this.arr);\n    },\n\n    template: '\\n        <div class=\"dss-modules\" id=\"drag-modules\">\\n            <button data-bind=\"visible:isSelectedFlag,click:addModule\" class=\"add\">\\u6DFB\\u52A0\\u81F3\\u672B\\u5C3E</button>\\n            <!-- ko foreach: { data: arr, as: \\'mods\\' } -->\\n            <h2 data-bind=\"text:mods.title,click:$parent.toggle,css:{collapse:mods.isExpand}\"></h2>\\n            <div class=\"drag-module\" data-bind=\"visible:mods.isExpand\">\\n                <!-- ko foreach: { data: child, as: \\'mod\\' } -->\\n                <div data-bind=\"attr:{\\'data-type\\':mod.type},click:$component.selected,css:{active:mod.isSelected}\">\\n                    <i data-bind=\"style:{\\'background-image\\': \\'url(\\'+ mod.icon +\\')\\'}\"></i>\\n                    <p data-bind=\"text:mod.title\"></p>\\n                </div>\\n                <!-- /ko -->\\n            </div>\\n            <!-- /ko -->\\n        </div>\\n    '\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/component/modules.js\n// module id = 41\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/js/component/modules.js?");

/***/ }),
/* 42 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar atoa = __webpack_require__(43);\nvar debounce = __webpack_require__(44);\n\nmodule.exports = function emitter (thing, options) {\n  var opts = options || {};\n  var evt = {};\n  if (thing === undefined) { thing = {}; }\n  thing.on = function (type, fn) {\n    if (!evt[type]) {\n      evt[type] = [fn];\n    } else {\n      evt[type].push(fn);\n    }\n    return thing;\n  };\n  thing.once = function (type, fn) {\n    fn._once = true; // thing.off(fn) still works!\n    thing.on(type, fn);\n    return thing;\n  };\n  thing.off = function (type, fn) {\n    var c = arguments.length;\n    if (c === 1) {\n      delete evt[type];\n    } else if (c === 0) {\n      evt = {};\n    } else {\n      var et = evt[type];\n      if (!et) { return thing; }\n      et.splice(et.indexOf(fn), 1);\n    }\n    return thing;\n  };\n  thing.emit = function () {\n    var args = atoa(arguments);\n    return thing.emitterSnapshot(args.shift()).apply(this, args);\n  };\n  thing.emitterSnapshot = function (type) {\n    var et = (evt[type] || []).slice(0);\n    return function () {\n      var args = atoa(arguments);\n      var ctx = this || thing;\n      if (type === 'error' && opts.throws !== false && !et.length) { throw args.length === 1 ? args[0] : args; }\n      et.forEach(function emitter (listen) {\n        if (opts.async) { debounce(listen, args, ctx); } else { listen.apply(ctx, args); }\n        if (listen._once) { thing.off(type, listen); }\n      });\n      return thing;\n    };\n  };\n  return thing;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_contra@1.9.4@contra/emitter.js\n// module id = 42\n// module chunks = 0\n\n//# sourceURL=webpack:///./node_modules/_contra@1.9.4@contra/emitter.js?");

/***/ }),
/* 43 */
/***/ (function(module, exports) {

eval("module.exports = function atoa (a, n) { return Array.prototype.slice.call(a, n); }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_atoa@1.0.0@atoa/atoa.js\n// module id = 43\n// module chunks = 0\n\n//# sourceURL=webpack:///./node_modules/_atoa@1.0.0@atoa/atoa.js?");

/***/ }),
/* 44 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar ticky = __webpack_require__(45);\n\nmodule.exports = function debounce (fn, args, ctx) {\n  if (!fn) { return; }\n  ticky(function run () {\n    fn.apply(ctx || null, args || []);\n  });\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_contra@1.9.4@contra/debounce.js\n// module id = 44\n// module chunks = 0\n\n//# sourceURL=webpack:///./node_modules/_contra@1.9.4@contra/debounce.js?");

/***/ }),
/* 45 */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(setImmediate) {var si = typeof setImmediate === 'function', tick;\nif (si) {\n  tick = function (fn) { setImmediate(fn); };\n} else {\n  tick = function (fn) { setTimeout(fn, 0); };\n}\n\nmodule.exports = tick;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(46).setImmediate))\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_ticky@1.0.1@ticky/ticky-browser.js\n// module id = 45\n// module chunks = 0\n\n//# sourceURL=webpack:///./node_modules/_ticky@1.0.1@ticky/ticky-browser.js?");

/***/ }),
/* 46 */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = (__webpack_require__(5))(1);\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/_timers-browserify@2.0.6@timers-browserify/main.js from dll-reference vendor_library\n// module id = 46\n// module chunks = 0\n\n//# sourceURL=webpack:///delegated_./node_modules/_timers-browserify@2.0.6@timers-browserify/main.js_from_dll-reference_vendor_library?");

/***/ }),
/* 47 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function(global) {\n\nvar customEvent = __webpack_require__(48);\nvar eventmap = __webpack_require__(49);\nvar doc = global.document;\nvar addEvent = addEventEasy;\nvar removeEvent = removeEventEasy;\nvar hardCache = [];\n\nif (!global.addEventListener) {\n  addEvent = addEventHard;\n  removeEvent = removeEventHard;\n}\n\nmodule.exports = {\n  add: addEvent,\n  remove: removeEvent,\n  fabricate: fabricateEvent\n};\n\nfunction addEventEasy (el, type, fn, capturing) {\n  return el.addEventListener(type, fn, capturing);\n}\n\nfunction addEventHard (el, type, fn) {\n  return el.attachEvent('on' + type, wrap(el, type, fn));\n}\n\nfunction removeEventEasy (el, type, fn, capturing) {\n  return el.removeEventListener(type, fn, capturing);\n}\n\nfunction removeEventHard (el, type, fn) {\n  var listener = unwrap(el, type, fn);\n  if (listener) {\n    return el.detachEvent('on' + type, listener);\n  }\n}\n\nfunction fabricateEvent (el, type, model) {\n  var e = eventmap.indexOf(type) === -1 ? makeCustomEvent() : makeClassicEvent();\n  if (el.dispatchEvent) {\n    el.dispatchEvent(e);\n  } else {\n    el.fireEvent('on' + type, e);\n  }\n  function makeClassicEvent () {\n    var e;\n    if (doc.createEvent) {\n      e = doc.createEvent('Event');\n      e.initEvent(type, true, true);\n    } else if (doc.createEventObject) {\n      e = doc.createEventObject();\n    }\n    return e;\n  }\n  function makeCustomEvent () {\n    return new customEvent(type, { detail: model });\n  }\n}\n\nfunction wrapperFactory (el, type, fn) {\n  return function wrapper (originalEvent) {\n    var e = originalEvent || global.event;\n    e.target = e.target || e.srcElement;\n    e.preventDefault = e.preventDefault || function preventDefault () { e.returnValue = false; };\n    e.stopPropagation = e.stopPropagation || function stopPropagation () { e.cancelBubble = true; };\n    e.which = e.which || e.keyCode;\n    fn.call(el, e);\n  };\n}\n\nfunction wrap (el, type, fn) {\n  var wrapper = unwrap(el, type, fn) || wrapperFactory(el, type, fn);\n  hardCache.push({\n    wrapper: wrapper,\n    element: el,\n    type: type,\n    fn: fn\n  });\n  return wrapper;\n}\n\nfunction unwrap (el, type, fn) {\n  var i = find(el, type, fn);\n  if (i) {\n    var wrapper = hardCache[i].wrapper;\n    hardCache.splice(i, 1); // free up a tad of memory\n    return wrapper;\n  }\n}\n\nfunction find (el, type, fn) {\n  var i, item;\n  for (i = 0; i < hardCache.length; i++) {\n    item = hardCache[i];\n    if (item.element === el && item.type === type && item.fn === fn) {\n      return i;\n    }\n  }\n}\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(9)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_crossvent@1.5.4@crossvent/src/crossvent.js\n// module id = 47\n// module chunks = 0\n\n//# sourceURL=webpack:///./node_modules/_crossvent@1.5.4@crossvent/src/crossvent.js?");

/***/ }),
/* 48 */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(global) {\nvar NativeCustomEvent = global.CustomEvent;\n\nfunction useNative () {\n  try {\n    var p = new NativeCustomEvent('cat', { detail: { foo: 'bar' } });\n    return  'cat' === p.type && 'bar' === p.detail.foo;\n  } catch (e) {\n  }\n  return false;\n}\n\n/**\n * Cross-browser `CustomEvent` constructor.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent.CustomEvent\n *\n * @public\n */\n\nmodule.exports = useNative() ? NativeCustomEvent :\n\n// IE >= 9\n'function' === typeof document.createEvent ? function CustomEvent (type, params) {\n  var e = document.createEvent('CustomEvent');\n  if (params) {\n    e.initCustomEvent(type, params.bubbles, params.cancelable, params.detail);\n  } else {\n    e.initCustomEvent(type, false, false, void 0);\n  }\n  return e;\n} :\n\n// IE <= 8\nfunction CustomEvent (type, params) {\n  var e = document.createEventObject();\n  e.type = type;\n  if (params) {\n    e.bubbles = Boolean(params.bubbles);\n    e.cancelable = Boolean(params.cancelable);\n    e.detail = params.detail;\n  } else {\n    e.bubbles = false;\n    e.cancelable = false;\n    e.detail = void 0;\n  }\n  return e;\n}\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(9)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_custom-event@1.0.0@custom-event/index.js\n// module id = 48\n// module chunks = 0\n\n//# sourceURL=webpack:///./node_modules/_custom-event@1.0.0@custom-event/index.js?");

/***/ }),
/* 49 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function(global) {\n\nvar eventmap = [];\nvar eventname = '';\nvar ron = /^on/;\n\nfor (eventname in global) {\n  if (ron.test(eventname)) {\n    eventmap.push(eventname.slice(2));\n  }\n}\n\nmodule.exports = eventmap;\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(9)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_crossvent@1.5.4@crossvent/src/eventmap.js\n// module id = 49\n// module chunks = 0\n\n//# sourceURL=webpack:///./node_modules/_crossvent@1.5.4@crossvent/src/eventmap.js?");

/***/ }),
/* 50 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar cache = {};\nvar start = '(?:^|\\\\s)';\nvar end = '(?:\\\\s|$)';\n\nfunction lookupClass (className) {\n  var cached = cache[className];\n  if (cached) {\n    cached.lastIndex = 0;\n  } else {\n    cache[className] = cached = new RegExp(start + className + end, 'g');\n  }\n  return cached;\n}\n\nfunction addClass (el, className) {\n  var current = el.className;\n  if (!current.length) {\n    el.className = className;\n  } else if (!lookupClass(className).test(current)) {\n    el.className += ' ' + className;\n  }\n}\n\nfunction rmClass (el, className) {\n  el.className = el.className.replace(lookupClass(className), ' ').trim();\n}\n\nmodule.exports = {\n  add: addClass,\n  rm: rmClass\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_dragula@3.7.2@dragula/classes.js\n// module id = 50\n// module chunks = 0\n\n//# sourceURL=webpack:///./node_modules/_dragula@3.7.2@dragula/classes.js?");

/***/ }),
/* 51 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function(ko, $, layer) {\n\nvar _data = __webpack_require__(1);\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _tool = __webpack_require__(2);\n\nvar _tool2 = _interopRequireDefault(_tool);\n\nvar _module = __webpack_require__(6);\n\nvar _module2 = _interopRequireDefault(_module);\n\nvar _action = __webpack_require__(52);\n\nvar _action2 = _interopRequireDefault(_action);\n\nvar _store2 = __webpack_require__(7);\n\nvar _store3 = _interopRequireDefault(_store2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nko.components.register('cp-views', {\n\n    viewModel: function viewModel() {\n        var _this = this;\n\n        this.init = function () {\n\n            // 从 store 获取数据\n            // 将数据格式化成ko需要的格式\n            var arr = [],\n                sObj = _store3.default.get();\n            if (sObj) {\n                var views = JSON.parse(sObj);\n                arr = views.map(function (view) {\n                    var mod = new _module2.default[view.type]();\n                    mod.data = view.data;\n                    mod.bind(); // set bindData\n                    return _this.mergedata2ko(mod, view);\n                });\n            }\n\n            // 观察views，此时views是个函数，通过调用转换成数据\n            _this.views = ko.observableArray(arr);\n\n            // 监听数组变化，但不监听数组内对象值的变化\n            _this.views.subscribe(function (item) {\n                _store3.default.set();\n                _this.updataNav();\n            });\n        };\n\n        // 选中\n        this.active = function (item, event, el) {\n            // 取消非目标数据的选中状态\n            _this.views().forEach(function (view, idx) {\n                if (item.vid() !== view.vid()) {\n                    _data2.default.$$action && _data2.default.$$action.destroy();\n                    view.isActive(false);\n                }\n            });\n            item.isActive(!item.isActive());\n\n            item.$active = $(el);\n\n            if (item.isActive()) {\n                _data2.default.$$action = new _action2.default(item);\n                _data2.default.$$action.create();\n            } else {\n                _data2.default.$$action && _data2.default.$$action.destroy();\n            }\n        };\n\n        // 拖拽成功后调用\n        // 在对应位置添加数据，更新dom\n        this.add = function (type, index) {\n            var mod = new _module2.default[type]();\n\n            // 根据mod，创建一份自定义属性的模块数据\n            var data = _this.mergedata2ko(mod, {});\n\n            var oDropInfo = _this.checkDropByData(data, index);\n\n            if (oDropInfo.isCanDrop) {\n                _this.views.splice(index, 0, data);\n            } else {\n                layer.msg('[' + data.title + '] ' + oDropInfo.msg, { time: 1500 });\n            }\n        };\n\n        // 获取元素被插入的位置\n        this.where = function (el) {\n            var index = -1,\n                $prev = $(el).prev(),\n                $next = $(el).next();\n\n            // 根据拖拽元素的位置在数组的对应位置插入模块数据\n            if ($prev.length) {\n                // 中间或底部\n                var id = $prev.attr('id');\n                var idx = _this.views().findIndex(function (view) {\n                    return view.vid() == id;\n                });\n                index = idx + 1;\n            } else {\n                // 顶部\n                index = 0;\n            }\n\n            return index;\n        };\n\n        // 删除某个元素\n        this.del = function (one) {\n            _this.views.remove(one);\n        };\n\n        // 拖拽新模块时重置view区选中状态\n        this.resetActive = function () {\n            _this.views().forEach(function (view) {\n                if (_data2.default.$$action) {\n                    _data2.default.$$action.destroy();\n                    view.isActive(false);\n                }\n            });\n        };\n\n        this.updataNav = function () {\n            var nav_mod = _this.views().filter(function (view) {\n                return view.type == 'nav';\n            })[0];\n            if (!nav_mod) return false;\n            nav_mod.data.nav = _this.views().filter(function (data) {\n                return data.type == 'hr';\n            });\n            nav_mod._html(nav_mod.getViewHtml());\n        };\n\n        // 设置层级关系，限制上移下移\n        this.setLevel = function (type) {\n            var level = 3;\n            if (type == 'topbanner') level = 1;\n            if (type == 'nav') level = 2;\n            return level;\n        };\n\n        /**\n         * 将数据转换成ko绑定时需要使用的数据格式\n         * @param {object} mod    根据类型获取到的模块数据\n         * @param {object} data   原始数据，创建就传{}，刷新就传获取到的数据   \n         */\n        this.mergedata2ko = function (mod, data) {\n            var base = {\n                vid: data.vid || 'view-' + _tool2.default.guid(),\n                isActive: false,\n                _html: ko.observable(mod.getViewHtml()),\n                level: _this.setLevel(mod.type)\n            };\n            return Object.assign(mod, data, ko.mapping.fromJS(base));\n        };\n\n        /**\n         * 检查模块是否可以被成功放入view区\n         * @param {object} data     传入当前要添加的数据\n         * @param {number} index    传入要判断的位置\n         * @return \n         *   isCanDrop  默认true。false为不可放下\n         *   msg        不可放下时的提示信息\n         */\n        this.checkDropByData = function (data, index) {\n            var arr_views = _this.views();\n            var prevData = arr_views[index - 1];\n            var nextData = arr_views[index];\n            var prev_level = prevData ? prevData.level() : undefined;\n            var next_level = nextData ? nextData.level() : undefined;\n\n            var result = _this.checkLevel(data.type, prev_level, next_level);\n\n            return {\n                isCanDrop: result.isCanDrop,\n                msg: result.msg\n            };\n        };\n\n        this.checkDropByEl = function (el) {\n            var type = $(el).data('type');\n            // 坑：获取level属性，不能用data() 貌似会缓存\n            var prev_level = $(el).prev().attr('data-level');\n            var next_level = $(el).next().attr('data-level');\n\n            var result = _this.checkLevel(type, prev_level, next_level);\n\n            return {\n                isCanDrop: result.isCanDrop,\n                msg: result.msg\n            };\n        };\n\n        // 根据类型，获取当前元素或数据的放置信息\n        this.checkLevel = function (type, prev_level, next_level) {\n            var self = _this;\n            var isCanDrop = true;\n            var msg = '';\n\n            prev_level = prev_level || 0;\n            next_level = next_level || 3;\n\n            switch (type) {\n                case 'topbanner':\n                    if (has('topbanner')) {\n                        isCanDrop = false;\n                        msg = '模块已存在';\n                    } else {\n                        if (prev_level) {\n                            // 不在顶部\n                            isCanDrop = false;\n                            msg = '模块需在顶部';\n                        }\n                    }\n                    break;\n                case 'nav':\n                    if (has('nav')) {\n                        isCanDrop = false;\n                        msg = '模块已存在';\n                    } else {\n                        if (has('topbanner')) {\n                            if (prev_level == 1 && next_level == 3) {\n                                isCanDrop = true;\n                            } else {\n                                isCanDrop = false;\n                                msg = '模块需在专题头图下方';\n                            }\n                        } else {\n                            if (prev_level) {\n                                // 不在顶部\n                                isCanDrop = false;\n                                msg = '模块需在顶部';\n                            }\n                        }\n                    }\n                    break;\n\n                default:\n                    if (next_level && next_level < 3) {\n                        isCanDrop = false;\n                        msg = next_level < 2 ? '模块需在专题头图下方' : '模块需在导航下方';\n                    }\n                    break;\n            }\n\n            function has(type) {\n                var flag = false;\n                self.views().forEach(function (view) {\n                    if (view.type == type) {\n                        flag = true;\n                    }\n                });\n                return flag;\n            }\n\n            // 第一个模块\n            if (!prev_level && !next_level) {\n                isCanDrop = true;\n            }\n\n            return { isCanDrop: isCanDrop, msg: msg };\n        };\n\n        this.init();\n        this.updataNav();\n\n        _data2.default.$$preview = this;\n    },\n\n    template: '\\n        <div class=\"dss-view\">\\n            <div data-bind=\"foreach:views(),css:{\\'view-box-draged\\':views().length,}\" class=\"view-box\" id=\"drag-view\">\\n                <div class=\"view\" data-bind=\"html:$data._html,attr:{id:$data.vid,\\'data-level\\':$data.level},css:{\\'active\\':$data.isActive,[\\'view-\\'+$data.type]:true},click:function(){$parent.active.call($parent,$data,event,$element)}\">\\n                    <!-- \\u8FD9\\u91CC\\u6570\\u636E\\u6765\\u81EA $data.html \\u51FD\\u6570 -->\\n                </div>\\n            </div>\\n        </div>\\n    '\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0), __webpack_require__(4), __webpack_require__(3)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/component/views.js\n// module id = 51\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/js/component/views.js?");

/***/ }),
/* 52 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function(ko, $, layer, swal) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _tool = __webpack_require__(2);\n\nvar _tool2 = _interopRequireDefault(_tool);\n\nvar _module = __webpack_require__(6);\n\nvar _module2 = _interopRequireDefault(_module);\n\nvar _data = __webpack_require__(1);\n\nvar _data2 = _interopRequireDefault(_data);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Action = function () {\n    function Action(mod) {\n        _classCallCheck(this, Action);\n\n        // 当前悬浮操作区容器\n        this.el = null;\n        // 当前父对象，为创建的模块 preview.js\n        // 子对象，一般为对应的设置面板\n        this.mod = mod;\n        // 是否显示设置面板\n        this.isShowPanel = ko.observable(false);\n        // 悬浮操作区的按钮配置\n        this.buttons = this.mod.actions || ['setting', 'up', 'dn', 'delete'];\n    }\n\n    _createClass(Action, [{\n        key: 'getHtml',\n        value: function getHtml() {\n            return '\\n            <ul data-bind=\"foreach: buttons\">\\n                <li data-bind=\"css:{\\'active\\':$parent.hightlight($data)},click:function(){ $parent.fire.call($parent,$data) },html:$parent.getIcon($data)\">\\n                </li>\\n            </ul>\\n        ';\n        }\n    }, {\n        key: 'getIcon',\n        value: function getIcon(name) {\n            return '\\n            <svg class=\"icon-svg\" aria-hidden=\"true\">\\n                <use xlink:href=\"#icon-' + name + '\"></use>\\n            </svg>\\n        ';\n        }\n\n        // 创建设置面板\n\n    }, {\n        key: 'create',\n        value: function create() {\n            this.destroy();\n            this.el = document.createElement('div');\n            this.el.className = 'dss-action';\n            this.el.innerHTML = this.getHtml();\n            this.el.style.left = _tool2.default.getOffset(this.mod.$active).left + 'px';\n            this.el.style.top = _tool2.default.getOffset(this.mod.$active).top + 'px';\n            document.body.appendChild(this.el);\n\n            ko.applyBindings(this, this.el);\n        }\n\n        // 销毁action的同时 销毁设置面板\n\n    }, {\n        key: 'destroy',\n        value: function destroy() {\n            $(this.el).remove();\n            this.mod && this.mod.destroy();\n        }\n\n        // 高亮的条件，可自行设置\n\n    }, {\n        key: 'hightlight',\n        value: function hightlight(action) {\n            if (action == 'setting') {\n                // 当为设置按钮，且出现面板时，高亮\n                return this.isShowPanel();\n            }\n        }\n    }, {\n        key: 'fire',\n        value: function fire(action) {\n            var _this = this;\n\n            var arr = _data2.default.$$preview.views();\n            var idx = arr.findIndex(function (view) {\n                return view.vid() == _this.mod.vid();\n            });\n\n            switch (action) {\n                case 'setting':\n                    this.togglePanel();\n                    break;\n                case 'delete':\n                    this.delView();\n                    break;\n                case 'up':\n                    if (idx == 0 || this.mod.level() > arr[idx - 1].level()) {\n                        layer.msg('已到顶部，不可上移', { time: 1000 });\n                    } else {\n                        _tool2.default.moveToUp(_data2.default.$$preview.views, idx);\n                        this.create();\n                    }\n                    break;\n                case 'dn':\n                    _tool2.default.moveToDown(_data2.default.$$preview.views, idx);\n                    this.create();\n                    break;\n                default:\n                    break;\n            }\n        }\n\n        // 显示/隐藏 设置面板区\n\n    }, {\n        key: 'togglePanel',\n        value: function togglePanel() {\n            if (this.isShowPanel()) {\n                this.mod.destroy();\n                this.isShowPanel(false);\n            } else {\n                var offset = _tool2.default.getOffset($(this.el));\n                this.mod.create(offset);\n                this.isShowPanel(true);\n\n                _data2.default.$$toc.isShowToc(false);\n            }\n        }\n    }, {\n        key: 'delView',\n        value: function delView() {\n            var _this2 = this;\n\n            swal({\n                title: '' + this.mod.title,\n                text: \"确定要删除当前模块吗？\",\n                icon: \"warning\",\n                dangerMode: true,\n                buttons: ['再想想', '删除']\n            }).then(function (willDelete) {\n                if (willDelete) {\n                    _data2.default.$$preview.del(_this2.mod);\n                    _this2.destroy();\n                    swal(\"已删除!\", {\n                        button: false,\n                        icon: 'success',\n                        timer: 1000\n                    });\n                }\n            });\n        }\n    }]);\n\n    return Action;\n}();\n\nexports.default = Action;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0), __webpack_require__(4), __webpack_require__(3), __webpack_require__(10)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/module/view/action.js\n// module id = 52\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/js/module/view/action.js?");

/***/ }),
/* 53 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function(ko, layer) {\n\nvar _data = __webpack_require__(1);\n\nvar _data2 = _interopRequireDefault(_data);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nko.components.register('cp-toc', {\n\n    viewModel: function viewModel(params) {\n        var _this = this;\n\n        this.lists = _data2.default.$$preview.views;\n\n        this.isShowToc = ko.observable(false);\n\n        this.createMap = function (el) {\n            if (!_this.lists().length) {\n                layer.msg('请添加模块', { time: 1000 });\n                return false;\n            }\n\n            var oRect = el.getBoundingClientRect();\n\n            var tocList = document.querySelector('.dss-toclist');\n            tocList.style.top = oRect.top + 'px';\n            tocList.style.left = oRect.left - 5 + 'px';\n\n            _this.isShowToc(!_this.isShowToc());\n            _data2.default.$$preview.resetActive();\n        };\n\n        _data2.default.$$toc = this;\n    },\n\n    template: '\\n        <div class=\"dss-toc\">\\n            <button data-bind=\"click:function(){ createMap($element) },css:{active:isShowToc}\">\\n                <svg class=\"icon-svg\" aria-hidden=\"true\"><use xlink:href=\"#icon-map\"></use></svg>\\n            </button>\\n        </div>\\n        <div class=\"dss-toclist\" data-bind=\"visible:isShowToc\">\\n            <div class=\"box\" data-bind=\"foreach:lists\" id=\"dss-toc\">\\n                <div class=\"item\" data-bind=\"text:$data.title,attr:{\\'data-id\\':$data.vid(), \\'data-level\\':$data.level()},css:{disabled:$data.level() < 3}\"></div>\\n            </div>\\n        </div>\\n    '\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0), __webpack_require__(3)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/component/toc.js\n// module id = 53\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/js/component/toc.js?");

/***/ }),
/* 54 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nvar _dragula = __webpack_require__(15);\n\nvar _dragula2 = _interopRequireDefault(_dragula);\n\nvar _data = __webpack_require__(1);\n\nvar _data2 = _interopRequireDefault(_data);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * 拖拽事件\n */\n$(function () {\n\n    var isViewSource = false; // 设置拖拽来源，默认不是view区\n\n    var el_view = document.getElementById('drag-view');\n\n    // 初始化拖拽\n    var drake = (0, _dragula2.default)([].slice.apply(document.querySelectorAll('.drag-module')), {\n        copy: true,\n        accepts: function accepts(el, target) {\n            return target === el_view;\n        },\n        moves: function moves(el, source, handle, sibling) {\n            return source !== el_view; // 让右侧view区禁止拖拽\n        },\n        mirrorContainer: document.getElementById('drag-modules')\n    });\n    drake.containers.push(el_view);\n\n    // 触发拖拽\n    drake.on('drag', function (el, source) {\n        // 判断拖拽来源是不是view区\n        isViewSource = source == el_view;\n        _data2.default.$$preview.resetActive();\n    });\n\n    // 松开拖拽 放下\n    drake.on('drop', function (el, target, source, sibling) {\n        // 判定modul区模块是否被成功拖拽到view区\n        if (target == el_view) {\n            // 成功拖拽\n            var type = $(el).data('type');\n            // 找到对应位置，插入对应数据\n            var flag = _data2.default.$$preview.where(el);\n            _data2.default.$$preview.add(type, flag);\n        }\n    });\n\n    // 拖拽结束，此事件在drop之后触发\n    drake.on('dragend', function (el) {\n        $(el).remove();\n    });\n\n    // 设置拖拽时的阴影\n    drake.on('shadow', function (el, container, source) {\n        var _gd$$$preview$checkDr = _data2.default.$$preview.checkDropByEl(el),\n            isCanDrop = _gd$$$preview$checkDr.isCanDrop,\n            msg = _gd$$$preview$checkDr.msg;\n\n        if (isCanDrop) {\n            $(el).removeClass('error').html('<span class=\"title\">\\u5C06\\u6A21\\u5757\\u653E\\u7F6E\\u5728\\u6B64</span>');\n        } else {\n            $(el).addClass('error').html('<span class=\"title\">' + msg + '</span>');\n        }\n    });\n\n    // drag toc\n    var el_toc = document.getElementById('dss-toc');\n    var drakeToc = (0, _dragula2.default)([el_toc], {\n        moves: function moves(el, source, handle, sibling) {\n            return el.getAttribute('data-level') >= 3;\n        },\n        accepts: function accepts(el, target, source, sibling) {\n            return !sibling || sibling.getAttribute('data-level') >= 3; // elements can be dropped in any of the `containers` by default\n        }\n\n    });\n\n    drakeToc.on('drop', function (el, target, source, sibling) {\n        // 判定modul区模块是否被成功拖拽到view区\n        if (target == el_toc) {\n            var find = function find(id) {\n                if (!id) {\n                    return _data2.default.$$preview.views().length;\n                }\n                return _data2.default.$$preview.views().findIndex(function (view) {\n                    return view.vid() == id;\n                });\n            };\n\n            // 成功拖拽\n            var cur_id = el.getAttribute('data-id');\n            var next_id = sibling ? sibling.getAttribute('data-id') : null;\n\n            var cur_index = find(cur_id),\n                next_index = find(next_id);\n\n            var data = _data2.default.$$preview.views()[cur_index];\n\n            _data2.default.$$preview.views.remove(data);\n\n            _data2.default.$$preview.views.splice(next_index, 0, data);\n\n            // 拖拽成功后删除对应的action 防止action位置错乱\n            _data2.default.$$action.destroy();\n\n            // 移除拖拽元素，元素实际与数据绑定好\n            // 只需操作数据\n            $(el).remove();\n        }\n    });\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(4)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/instance/event.js\n// module id = 54\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/js/instance/event.js?");

/***/ })
],[38]);