<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="这是一篇记录前端的博客，里面有平时一些心得与学习点"><title>Javascript Tricks | Chan</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/7.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Javascript Tricks</h1><a id="logo" href="/.">Chan</a><p class="description">记录前端的点点滴滴</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Javascript Tricks</h1><div class="post-meta">Jun 22, 2016<span> | </span><span class="category"><a href="/categories/javascript/">javascript</a></span></div><div class="post-content"><p>在这篇文章中将整理一些平时用到的js小技巧。这些小技巧可能在你的实际工作中或许能帮助你解决一些问题。</p>
<h3 id="使用-操作符转换布尔值"><a href="#使用-操作符转换布尔值" class="headerlink" title="使用!!操作符转换布尔值"></a>使用!!操作符转换布尔值</h3><p>有时候我们需要对一个变量检查其是否存在或者检查值是否有一个有效值，如果存在就返回<code>true</code>值。为了做这样的验证，我们可以使用<code>!!</code>操作符来实现是非常的方便与简单。对于变量可以使用<code>!!variable</code>做检测，只要变量的值为:<code>0</code>、<code>null</code>、<code>&quot; &quot;</code>、<code>undefined</code>或者<code>NaN</code>都将返回的是<code>false</code>，反之返回的是<code>true</code>。比如下面的示例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Account</span>(<span class="params">cash</span>) </span>&#123;</div><div class="line">    <span class="keyword">this</span>.cash = cash;</div><div class="line">    <span class="keyword">this</span>.hasMoney = !!cash;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> account = <span class="keyword">new</span> Account(<span class="number">100.50</span>);</div><div class="line"><span class="built_in">console</span>.log(account.cash); <span class="comment">// 100.50</span></div><div class="line"><span class="built_in">console</span>.log(account.hasMoney); <span class="comment">// true</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> emptyAccount = <span class="keyword">new</span> Account(<span class="number">0</span>);</div><div class="line"><span class="built_in">console</span>.log(emptyAccount.cash); <span class="comment">// 0</span></div><div class="line"><span class="built_in">console</span>.log(emptyAccount.hasMoney); <span class="comment">// false</span></div></pre></td></tr></table></figure>
<p>在这个示例中，只要<code>account.cash</code>的值大于<code>0</code>，那么<code>account.hasMoney</code>返回的值就是<code>true</code>。</p>
<a id="more"></a>
<h3 id="使用-将字符串转换成数字"><a href="#使用-将字符串转换成数字" class="headerlink" title="使用+将字符串转换成数字"></a>使用+将字符串转换成数字</h3><p>这个技巧非常有用，其非常简单，可以交字符串数据转换成数字，不过其只适合用于字符串数据，否则将返回NaN，比如下面的示例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">toNumber</span>(<span class="params">strNumber</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> +strNumber;</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log(toNumber(<span class="string">"1234"</span>)); <span class="comment">// 1234</span></div><div class="line"><span class="built_in">console</span>.log(toNumber(<span class="string">"ACB"</span>)); <span class="comment">// NaN</span></div></pre></td></tr></table></figure>
<p>这个也适用于Date，在本例中，它将返回的是时间戳数字：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(+<span class="keyword">new</span> <span class="built_in">Date</span>()) <span class="comment">// 1466586198892</span></div></pre></td></tr></table></figure>
<h3 id="并条件符"><a href="#并条件符" class="headerlink" title="并条件符"></a>并条件符</h3><p>如果你有一段这样的代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> (conected) &#123;</div><div class="line">    login();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>你也可以将变量简写，并且使用&amp;&amp;和函数连接在一起，比如上面的示例，可以简写成这样：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">conected &amp;&amp; login();</div></pre></td></tr></table></figure>
<p>如果一些属性或函数存在于一个对象中，你也可以这样做检测，如下面的代码所示：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">user &amp;&amp; user.login();</div></pre></td></tr></table></figure>
<h3 id="使用或运算符"><a href="#使用或运算符" class="headerlink" title="使用或运算符"></a>使用或运算符</h3><p>在ES6中有默认参数这一特性。为了在老版本的浏览器中模拟这一特性，可以使用<code>||</code>操作符，并且将将默认值当做第二个参数传入。如果第一个参数返回的值为<code>false</code>，那么第二个值将会认为是一个默认值。如下面这个示例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">User</span>(<span class="params">name, age</span>) </span>&#123;</div><div class="line">    <span class="keyword">this</span>.name = name || <span class="string">"Oliver Queen"</span>;</div><div class="line">    <span class="keyword">this</span>.age = age || <span class="number">27</span>;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> user1 = <span class="keyword">new</span> User();</div><div class="line"><span class="built_in">console</span>.log(user1.name); <span class="comment">// Oliver Queen</span></div><div class="line"><span class="built_in">console</span>.log(user1.age);  <span class="comment">// 27</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> user2 = <span class="keyword">new</span> User(<span class="string">"Barry Allen"</span>, <span class="number">25</span>);</div><div class="line"><span class="built_in">console</span>.log(user2.name);  <span class="comment">// Barry Allen</span></div><div class="line"><span class="built_in">console</span>.log(user2.age);   <span class="comment">// 25</span></div></pre></td></tr></table></figure>
<h3 id="在循环中缓存array-length"><a href="#在循环中缓存array-length" class="headerlink" title="在循环中缓存array.length"></a>在循环中缓存array.length</h3><p>这个技巧很简单，这个在处理一个很大的数组循环时，对性能影响将是非常大的。基本上，大家都会写一个这样的同步迭代的数组：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; array.length; i++) &#123;</div><div class="line">    <span class="built_in">console</span>.log(array[i]);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>如果是一个小型数组，这样做很好，如果你要处理的是一个大的数组，这段代码在每次迭代都将会重新计算数组的大小，这将会导致一些延误。为了避免这种现象出现，可以将<code>array.length</code>做一个缓存：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> len = array.length;</div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</div><div class="line">    <span class="built_in">console</span>.log(array[i]);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>或者，这么写：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>, len = array.length; i &lt; len; i++) &#123;</div><div class="line">    <span class="built_in">console</span>.log(array[i]);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="检测对象中属性"><a href="#检测对象中属性" class="headerlink" title="检测对象中属性"></a>检测对象中属性</h3><p>当你需要检测一些属性是否存在，避免运行未定义的函数或属性时，这个小技巧就显得很有用。如果你打算定些一些跨兼容的浏览器代码，你也可能会用到这个小技巧。例如，你想使用<code>document.querySelector()</code>来选择一个<code>id</code>，并且让它能兼容IE6浏览器，但是在IE6浏览器中这个函数是不存在的，那么使用这个操作符来检测这个函数是否存在就显得非常的有用，如下面的示例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> (<span class="string">'querySelector'</span> <span class="keyword">in</span> <span class="built_in">document</span>) &#123;</div><div class="line">    <span class="built_in">document</span>.querySelector(<span class="string">"#id"</span>);</div><div class="line">&#125; <span class="keyword">else</span> &#123;</div><div class="line">    <span class="built_in">document</span>.getElementById(<span class="string">"id"</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> oEvent = &#123;</div><div class="line">     start : <span class="string">"ontouchstart"</span> <span class="keyword">in</span> <span class="built_in">document</span> ? <span class="string">'touchstart'</span> : <span class="string">'mousedown'</span>,</div><div class="line">     end : <span class="string">"ontouchend"</span> <span class="keyword">in</span> <span class="built_in">document</span> ? <span class="string">'touchend'</span> : <span class="string">'mouseup'</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>在这个示例中，如果<code>document</code>不存在<code>querySelector</code>函数，那么就会调用<code>docuemnt.getElementById(&quot;id&quot;)</code>。</p>
<p>如果<code>document</code>有<code>ontouchstart</code>属性（或函数），使用<code>touchstart</code>，否则使用<code>mousedown</code></p>
<h3 id="获取数组中最后一个元素"><a href="#获取数组中最后一个元素" class="headerlink" title="获取数组中最后一个元素"></a>获取数组中最后一个元素</h3><p><code>Array.prototype.slice(begin, end)</code>用来获取<code>begin</code>和<code>end</code>之间的数组元素。如果你不设置<code>end</code>参数，将会将数组的默认长度值当作<code>end</code>值。但有些同学可能不知道这个函数还可以接受负值作为参数。如果你设置一个负值作为<code>begin</code>的值，那么你可以获取数组的最后一个元素。如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> array = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>];</div><div class="line"><span class="built_in">console</span>.log(array.slice(<span class="number">-1</span>)); <span class="comment">// [6]</span></div><div class="line"><span class="built_in">console</span>.log(array.slice(<span class="number">-2</span>)); <span class="comment">// [5,6]</span></div><div class="line"><span class="built_in">console</span>.log(array.slice(<span class="number">-3</span>)); <span class="comment">// [4,5,6]</span></div></pre></td></tr></table></figure>
<h3 id="复制数组"><a href="#复制数组" class="headerlink" title="复制数组"></a>复制数组</h3><p>复制数组有三种方法：</p>
<ul>
<li>1.通过<code>Array.prototype.slice()方法</code>，该方法因为不对原数组进行操作，可以通过传入参数0或者不传的方式复制；</li>
<li>2.通过<code>Array.prototype.concat()方法</code>，该方法通过不传参来实现数组的合并以实现复制；</li>
<li>3.最笨的方法，循环遍历老数组，再一个个<code>push</code>到新数组中；</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//方法1：</span></div><div class="line"><span class="keyword">var</span> arr = [<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>],</div><div class="line">    newArr;</div><div class="line">newArr = arr.slice();</div><div class="line"></div><div class="line"><span class="comment">//方法2：</span></div><div class="line"><span class="keyword">var</span> arr = [<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>],</div><div class="line">    newArr;</div><div class="line">newArr = arr.concat();</div><div class="line"></div><div class="line"><span class="comment">//方法3：</span></div><div class="line"><span class="keyword">var</span> arr = [<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>];</div><div class="line">    newArr = [];</div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>, len = arr.length; i &lt; len; i++) &#123;</div><div class="line">    newArr.push(arr[i])</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>测试是否是新数组可以使用<code>arr.sort()</code>后，检测新数组是否也被排序。</p>
<h3 id="数组截断"><a href="#数组截断" class="headerlink" title="数组截断"></a>数组截断</h3><p>这个小技巧主要用来锁定数组的大小，如果用于删除数组中的一些元素来说，是非常有用的。<br>例如，你的数组有<code>10个</code>元素，但你只想只要前五个元素，那么你可以通过<code>array.length = 5</code>来截断数组。如下面这个示例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> array = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>];</div><div class="line"><span class="built_in">console</span>.log(array.length); <span class="comment">// 6</span></div><div class="line">array.length = <span class="number">3</span>;</div><div class="line"><span class="built_in">console</span>.log(array.length); <span class="comment">// 3</span></div><div class="line"><span class="built_in">console</span>.log(array); <span class="comment">// [1,2,3]</span></div></pre></td></tr></table></figure>
<h3 id="替换所有"><a href="#替换所有" class="headerlink" title="替换所有"></a>替换所有</h3><p><code>String.replace()</code>函数允许你使用字符串或正则表达式来替换字符串，本身这个函数只替换第一次出现的字符串，不过你可以使用正则表达多中的<code>/g</code>来模拟<code>replaceAll()</code>函数功能：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> string = <span class="string">"john john"</span>;</div><div class="line"><span class="built_in">console</span>.log(string.replace(<span class="regexp">/hn/</span>, <span class="string">"ana"</span>)); <span class="comment">// "joana john"</span></div><div class="line"><span class="built_in">console</span>.log(string.replace(<span class="regexp">/hn/g</span>, <span class="string">"ana"</span>)); <span class="comment">// "joana joana"</span></div></pre></td></tr></table></figure>
<h3 id="合并数组"><a href="#合并数组" class="headerlink" title="合并数组"></a>合并数组</h3><p>如果你要合并两个数组，一般情况之下你都会使用<code>concat()</code>函数：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> array1 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</div><div class="line"><span class="keyword">var</span> array2 = [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>];</div><div class="line"><span class="built_in">console</span>.log(array1.concat(array2)); <span class="comment">// [1,2,3,4,5,6];</span></div></pre></td></tr></table></figure>
<h3 id="将NodeList或arguments转换成数组"><a href="#将NodeList或arguments转换成数组" class="headerlink" title="将NodeList或arguments转换成数组"></a>将NodeList或arguments转换成数组</h3><p>如果你运行<code>document.querySelectorAll(&#39;p&#39;)</code>函数时，它可能返回DOM元素的数组，也就是<code>NodeList</code>对象。<br><br>但这个对象不具有数组的函数功能，比如<code>sort()</code>、<code>reduce()</code>、<code>map()</code>、<code>filter()</code>等。<br><br>为了让这些原生的数组函数功能也能用于其上面，需要将节点列表转换成数组。可以使用<code>[].slice.call(elements)</code>来实现：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> elements = <span class="built_in">document</span>.querySelectorAll(<span class="string">"p"</span>); <span class="comment">// NodeList</span></div><div class="line"><span class="keyword">var</span> arrayElements = [].slice.call(elements); <span class="comment">// Now the NodeList is an array</span></div><div class="line"><span class="keyword">var</span> arrayElements = <span class="built_in">Array</span>.from(elements); <span class="comment">// This is another way of converting NodeList to Array</span></div></pre></td></tr></table></figure>
<p>另外一个更有说服力的例子就是函数的<code>arguments</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//检测arguments是否为数组</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">testargs</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="built_in">arguments</span>.slice);</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span> arr.slice);</div><div class="line">    <span class="built_in">console</span>.log(<span class="built_in">arguments</span>.constructor == <span class="built_in">Array</span>.constructor, arr.constructor)</div><div class="line">&#125;</div><div class="line">testargs();</div></pre></td></tr></table></figure>
<p>输出：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="literal">undefined</span></div><div class="line"><span class="function"><span class="keyword">function</span></span></div><div class="line"><span class="function"><span class="title">false</span> <span class="title">Array</span>(<span class="params"></span>) </span>&#123; [native code] &#125;</div></pre></td></tr></table></figure>
<p>如何转换arguments？</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">arg2arr</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> arr = <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>); <span class="comment">// or [].slice.call(arguments, 0)</span></div><div class="line">    <span class="built_in">console</span>.log(arr);</div><div class="line">&#125;</div><div class="line">arg2arr(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>); <span class="comment">//[1, 2, 3]</span></div></pre></td></tr></table></figure>
<h3 id="数组元素的洗牌"><a href="#数组元素的洗牌" class="headerlink" title="数组元素的洗牌"></a>数组元素的洗牌</h3><p>对于数组元素的洗牌，不需要使用任何外部的库，比如Lodash，只要这样做：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> list = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</div><div class="line"><span class="keyword">var</span> result = list.sort(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; </div><div class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.random() - <span class="number">0.5</span> </div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(result); <span class="comment">// [2,1,3]</span></div></pre></td></tr></table></figure>
<p>转自：<a href="http://www.w3cplus.com/javascript/12-extremely-useful-hacks-for-javascript.html" target="_blank" rel="external">http://www.w3cplus.com/javascript/12-extremely-useful-hacks-for-javascript.html</a></p>
</div><div class="tags"><a href="/tags/javascript/">javascript</a></div><div class="post-nav"><a href="/2016/07/04/UNICODE/" class="pre">HTML字符转义、特殊字符笔记</a><a href="/2016/03/28/js-raf/" class="next">web动画新选择：requestAnimationFrame</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="google搜索"/><input type="hidden" name="sitesearch" value="http://007sair.github.io"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Markdown/">Markdown</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/css/">css</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/html/">html</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/javascript/">javascript</a><span class="category-list-count">15</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/life/">life</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/sass/">sass</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/test/">test</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/tool/">tool</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/web/">web</a><span class="category-list-count">5</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/sass/" style="font-size: 15px;">sass</a> <a href="/tags/web/" style="font-size: 15px;">web</a> <a href="/tags/css/" style="font-size: 15px;">css</a> <a href="/tags/bug/" style="font-size: 15px;">bug</a> <a href="/tags/javascript/" style="font-size: 15px;">javascript</a> <a href="/tags/sublime/" style="font-size: 15px;">sublime</a> <a href="/tags/tool/" style="font-size: 15px;">tool</a> <a href="/tags/Markdown/" style="font-size: 15px;">Markdown</a> <a href="/tags/test/" style="font-size: 15px;">test</a> <a href="/tags/html/" style="font-size: 15px;">html</a> <a href="/tags/unicode/" style="font-size: 15px;">unicode</a> <a href="/tags/life/" style="font-size: 15px;">life</a> <a href="/tags/vscode/" style="font-size: 15px;">vscode</a> <a href="/tags/flex/" style="font-size: 15px;">flex</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/08/22/hello-world/">我又回来啦！</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/07/flex-tool/">flex样式预览工具</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/05/Visual-Studio-Code-CNKEYMAP/">VSCODE 常用快捷键</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/14/font-pingfang/">苹方字体在H5的应用</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/03/How-to-get-your-kids-to-18-sane-and-not-hating-you/">怎么把孩子养到18岁，神志正常还不恨你</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/01/date-keng/">Date（日期）对象在移动端的坑</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/06/css-selector/">css选择器总结</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/07/25/wordbreak/">word-wrap与word-break的区别</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/07/04/UNICODE/">HTML字符转义、特殊字符笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/06/22/js-tricks/">Javascript Tricks</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="https://yuniaa.github.io/" title="yuniaa" target="_blank">yuniaa</a><ul></ul><a href="http://www.cnblogs.com/change-oneself/" title="哲哲" target="_blank">哲哲</a><ul></ul><a href="http://ouhee.bokee.com/" title="G大爷" target="_blank">G大爷</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2017 <a href="/." rel="nofollow">Chan.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.1.20/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.1.20/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>