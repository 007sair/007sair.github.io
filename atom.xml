<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>FE blog</title>
  
  <subtitle>记录前端的点点滴滴</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://007sair.github.io/"/>
  <updated>2018-08-29T09:09:23.862Z</updated>
  <id>http://007sair.github.io/</id>
  
  <author>
    <name>By Chan</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>移动端File和Base64的坑</title>
    <link href="http://007sair.github.io/2018/08/29/%E7%A7%BB%E5%8A%A8%E7%AB%AFFile%E5%92%8CBase64%E7%9A%84%E5%9D%91/"/>
    <id>http://007sair.github.io/2018/08/29/移动端File和Base64的坑/</id>
    <published>2018-08-29T06:16:50.000Z</published>
    <updated>2018-08-29T09:09:23.862Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>最近在做移动端的图片操作项目，会涉及到上传图片、Canvas、转换base64等操作，被坑得不能自理，不过好在都解决了~ 记录如下：</p></blockquote><h3 id="一、TypeError-FileConstructor-is-not-a-constructor"><a href="#一、TypeError-FileConstructor-is-not-a-constructor" class="headerlink" title="一、TypeError: FileConstructor is not a constructor"></a>一、<code>TypeError: FileConstructor is not a constructor</code></h3><h4 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h4><p>这个错误是我在微信浏览器中点击上传图片按钮时发生的，具体逻辑为依次调用微信JSSDK中的<code>wx.chooseImage</code>和<code>wx.getLocalImgData</code>，第二个接口会返回<code>base64</code>数据。</p><p>此时我们需要将<code>base64</code>转换为<code>File对象</code>，再通过<code>FormData</code>传给服务端来处理其他业务。所以我预先写了一个<code>dataURL2file</code>函数，如下：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 将base64转换为file对象</span></span><br><span class="line"><span class="comment"> * @param &#123;string&#125; dataURL    base64数据</span></span><br><span class="line"><span class="comment"> * @param &#123;string&#125; filename   文件名</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dataURL2file</span>(<span class="params">dataURL, filename = <span class="string">'custom_file'</span></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> arr = dataURL.split(<span class="string">','</span>),</span><br><span class="line">        mime = arr[<span class="number">0</span>].match(<span class="regexp">/:(.*?);/</span>)[<span class="number">1</span>],</span><br><span class="line">        bstr = atob(arr[<span class="number">1</span>]),</span><br><span class="line">        n = bstr.length,</span><br><span class="line">        u8arr = <span class="keyword">new</span> <span class="built_in">Uint8Array</span>(n);</span><br><span class="line">    <span class="keyword">while</span> (n--) &#123;</span><br><span class="line">        u8arr[n] = bstr.charCodeAt(n);</span><br><span class="line">    &#125;</span><br><span class="line">    filename += <span class="string">'.'</span> + mime.split(<span class="string">'/'</span>)[<span class="number">1</span>]</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> File([u8arr], filename, &#123; <span class="attr">type</span>: mime &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><a id="more"></a><p>上述代码在部分手机中直接报错：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Reference to: new File()</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">TypeError</span>: FileConstructor is not a <span class="keyword">constructor</span> (evaluating 'new File')</span><br></pre></td></tr></table></figure><p>原因是部分手机系统版本还不支持File，ios低于<code>9.3(含)</code>、安卓低于<code>4.4(含)</code>都不支持，见：<a href="https://caniuse.com/#search=File" target="_blank" rel="noopener">caniuse</a></p><h4 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h4><p>将<code>Base64</code>转换为<code>Blob对象</code>，blob的兼容性相对File会更好一些，参考<a href="https://caniuse.com/#search=blob" target="_blank" rel="noopener">caniuse</a></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * dataURL 转成 blob</span></span><br><span class="line"><span class="comment"> * @param dataURL</span></span><br><span class="line"><span class="comment"> * @return blob</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dataURL2blob</span>(<span class="params">dataURL</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> binaryString = atob(dataURL.split(<span class="string">','</span>)[<span class="number">1</span>]);</span><br><span class="line">    <span class="keyword">let</span> arrayBuffer = <span class="keyword">new</span> <span class="built_in">ArrayBuffer</span>(binaryString.length);</span><br><span class="line">    <span class="keyword">let</span> intArray = <span class="keyword">new</span> <span class="built_in">Uint8Array</span>(arrayBuffer);</span><br><span class="line">    <span class="keyword">let</span> mime = dataURL.split(<span class="string">','</span>)[<span class="number">0</span>].match(<span class="regexp">/:(.*?);/</span>)[<span class="number">1</span>]</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, j = binaryString.length; i &lt; j; i++) &#123;</span><br><span class="line">        intArray[i] = binaryString.charCodeAt(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> data = [intArray];</span><br><span class="line">    <span class="keyword">let</span> result;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        result = <span class="keyword">new</span> Blob(data, &#123; <span class="attr">type</span>: mime &#125;);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">        <span class="built_in">window</span>.BlobBuilder = <span class="built_in">window</span>.BlobBuilder ||</span><br><span class="line">            <span class="built_in">window</span>.WebKitBlobBuilder ||</span><br><span class="line">            <span class="built_in">window</span>.MozBlobBuilder ||</span><br><span class="line">            <span class="built_in">window</span>.MSBlobBuilder;</span><br><span class="line">        <span class="keyword">if</span> (error.name === <span class="string">'TypeError'</span> &amp;&amp; <span class="built_in">window</span>.BlobBuilder) &#123;</span><br><span class="line">            <span class="keyword">var</span> builder = <span class="keyword">new</span> BlobBuilder();</span><br><span class="line">            builder.append(arrayBuffer);</span><br><span class="line">            result = builder.getBlob(type);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'没救了'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>当然，放不下<code>dataURL2file</code>这个函数，我们也可以做兼容处理：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dataURL2file</span>(<span class="params">dataURL, filename = <span class="string">'custom_file'</span></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> arr = dataURL.split(<span class="string">','</span>),</span><br><span class="line">            mime = arr[<span class="number">0</span>].match(<span class="regexp">/:(.*?);/</span>)[<span class="number">1</span>],</span><br><span class="line">            bstr = atob(arr[<span class="number">1</span>]),</span><br><span class="line">            n = bstr.length,</span><br><span class="line">            u8arr = <span class="keyword">new</span> <span class="built_in">Uint8Array</span>(n);</span><br><span class="line">        <span class="keyword">while</span> (n--) &#123;</span><br><span class="line">            u8arr[n] = bstr.charCodeAt(n);</span><br><span class="line">        &#125;</span><br><span class="line">        filename += <span class="string">'.'</span> + mime.split(<span class="string">'/'</span>)[<span class="number">1</span>]</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> File([u8arr], filename, &#123;</span><br><span class="line">            type: mime</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">        <span class="built_in">console</span>.warn(<span class="string">'Browser does not support the File constructor,Will use blob instead of file'</span>)</span><br><span class="line">        <span class="keyword">return</span> dataURL2blob(dataURL)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="二、使用img-onload事件加载base64图片时，触发了onerror"><a href="#二、使用img-onload事件加载base64图片时，触发了onerror" class="headerlink" title="二、使用img.onload事件加载base64图片时，触发了onerror"></a>二、使用<code>img.onload</code>事件加载<code>base64</code>图片时，触发了<code>onerror</code></h3><h4 id="背景-1"><a href="#背景-1" class="headerlink" title="背景"></a>背景</h4><p>有时我们需要将本地的<code>base64</code>绘制到<code>canvas</code>中，如果直接调用<code>canvas</code>的<code>drawImage</code>方法，可能图片还没加载就触发了绘制，从而导致绘制失败。所以，我们需要保证图片已经加载完成再触发绘制：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> canvas = <span class="built_in">document</span>.createElement(<span class="string">'canvas'</span>)</span><br><span class="line"><span class="keyword">let</span> ctx = canvas.getContext(<span class="string">'2d'</span>)</span><br><span class="line"><span class="keyword">var</span> img = <span class="keyword">new</span> Image()</span><br><span class="line">img.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    ctx.drawImage(img, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line">img.src = <span class="string">'data:image/png;base64,iVBORw0KGgoAAAANS...'</span></span><br></pre></td></tr></table></figure><p>以上代码只在<code>ios v10.3</code>以下的版本会触发<code>onerror</code>错误，安卓尚未发现问题。</p><p>翻越各种文档都没有相关资料，只找到一个类似的问题：<a href="https://stackoverflow.com/questions/21728604/ie10-base64-encoded-image-load-error" target="_blank" rel="noopener">ie10-base64-encoded-image-load-error</a></p><p>猜测是<code>base64</code>的长度限制，导致加载失败。</p><h4 id="解决方法-1"><a href="#解决方法-1" class="headerlink" title="解决方法"></a>解决方法</h4><p>既然是长度问题，有两种方案：</p><p>方案一：将<code>base64</code>转成<code>file对象</code>，让服务端返回一个<code>http</code>的图片链接</p><ul><li>优点：无兼容性问题；</li><li>缺点：多一次请求，且图片加载依赖网速</li></ul><p>方案二：将<code>base64</code>转成<code>objectUrl</code>，见：<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/URL/createObjectURL" target="_blank" rel="noopener">createObjectURL - MDN</a></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 创建新的URL 对象表示指定的 File 对象或 Blob 对象。</span></span><br><span class="line"><span class="comment"> * @param &#123;string&#125; dataURL  base64</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dataURL2ObjUrl</span>(<span class="params">dataURL</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">window</span>.URL = <span class="built_in">window</span>.URL || <span class="built_in">window</span>.webkitURL</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">window</span>.URL &amp;&amp; URL.createObjectURL) &#123;</span><br><span class="line">        <span class="comment">// dataURL2blob 此方法需额外定义</span></span><br><span class="line">        <span class="keyword">var</span> blob = dataURL2blob(dataURL)</span><br><span class="line">        <span class="keyword">return</span> URL.createObjectURL(blob)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dataURL</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>优点：无网络请求；</li><li>缺点：兼容性，PC端慎用，移动端比较完美，见：<a href="https://caniuse.com/#search=createObjectURL" target="_blank" rel="noopener">caniuse</a></li></ul><p>综上述，使用<code>objectUrl</code>是个不错的选择~</p><p>由于上述错误只发生在图片加载时，所以我重新封装了一下工具库的<code>loadImage</code>函数：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 异步加载图片</span></span><br><span class="line"><span class="comment"> * @param &#123;string&#125;   url        图片地址</span></span><br><span class="line"><span class="comment"> * @param &#123;boolean&#125;  is_cors    是否对此元素的CORS请求设置凭据标志</span></span><br><span class="line"><span class="comment"> * @return &#123;imageObject&#125;        img对象</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loadImage</span>(<span class="params">url, is_cors = true</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> img = <span class="keyword">new</span> Image()</span><br><span class="line">        <span class="keyword">if</span> (is_cors) img.crossOrigin = <span class="string">'Anonymous'</span>;</span><br><span class="line">        <span class="keyword">var</span> objectURL = <span class="literal">null</span></span><br><span class="line">        <span class="keyword">if</span> (url.match(<span class="regexp">/^data:(.*);base64,/</span>) &amp;&amp; <span class="built_in">window</span>.URL &amp;&amp; URL.createObjectURL) &#123;</span><br><span class="line">            objectURL = URL.createObjectURL(<span class="keyword">this</span>.dataURL2blob(url))</span><br><span class="line">            url = objectURL</span><br><span class="line">        &#125;</span><br><span class="line">        img.onload = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">            objectURL &amp;&amp; URL.revokeObjectURL(objectURL)</span><br><span class="line">            resolve(img)</span><br><span class="line">        &#125;</span><br><span class="line">        img.onerror = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">            reject(<span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'That image was not found.:'</span> + url.length))</span><br><span class="line">        &#125;</span><br><span class="line">        img.src = url</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><ul><li><a href="https://github.com/Esri/offline-editor-js/issues/357" target="_blank" rel="noopener">File constructor is not supported in iOS Safari 8 (or 9)</a></li><li><a href="https://juejin.im/entry/5937c98eac502e0068cf31ae" target="_blank" rel="noopener">JavaScript 中 Blob 对象</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;最近在做移动端的图片操作项目，会涉及到上传图片、Canvas、转换base64等操作，被坑得不能自理，不过好在都解决了~ 记录如下：&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;一、TypeError-FileConstructor-is-not-a-constructor&quot;&gt;&lt;a href=&quot;#一、TypeError-FileConstructor-is-not-a-constructor&quot; class=&quot;headerlink&quot; title=&quot;一、TypeError: FileConstructor is not a constructor&quot;&gt;&lt;/a&gt;一、&lt;code&gt;TypeError: FileConstructor is not a constructor&lt;/code&gt;&lt;/h3&gt;&lt;h4 id=&quot;背景&quot;&gt;&lt;a href=&quot;#背景&quot; class=&quot;headerlink&quot; title=&quot;背景&quot;&gt;&lt;/a&gt;背景&lt;/h4&gt;&lt;p&gt;这个错误是我在微信浏览器中点击上传图片按钮时发生的，具体逻辑为依次调用微信JSSDK中的&lt;code&gt;wx.chooseImage&lt;/code&gt;和&lt;code&gt;wx.getLocalImgData&lt;/code&gt;，第二个接口会返回&lt;code&gt;base64&lt;/code&gt;数据。&lt;/p&gt;
&lt;p&gt;此时我们需要将&lt;code&gt;base64&lt;/code&gt;转换为&lt;code&gt;File对象&lt;/code&gt;，再通过&lt;code&gt;FormData&lt;/code&gt;传给服务端来处理其他业务。所以我预先写了一个&lt;code&gt;dataURL2file&lt;/code&gt;函数，如下：&lt;/p&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt; * 将base64转换为file对象&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt; * @param &amp;#123;string&amp;#125; dataURL    base64数据&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt; * @param &amp;#123;string&amp;#125; filename   文件名&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt; */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;dataURL2file&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;dataURL, filename = &lt;span class=&quot;string&quot;&gt;&#39;custom_file&#39;&lt;/span&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; arr = dataURL.split(&lt;span class=&quot;string&quot;&gt;&#39;,&#39;&lt;/span&gt;),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        mime = arr[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;].match(&lt;span class=&quot;regexp&quot;&gt;/:(.*?);/&lt;/span&gt;)[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        bstr = atob(arr[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;]),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        n = bstr.length,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        u8arr = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;Uint8Array&lt;/span&gt;(n);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;while&lt;/span&gt; (n--) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        u8arr[n] = bstr.charCodeAt(n);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    filename += &lt;span class=&quot;string&quot;&gt;&#39;.&#39;&lt;/span&gt; + mime.split(&lt;span class=&quot;string&quot;&gt;&#39;/&#39;&lt;/span&gt;)[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; File([u8arr], filename, &amp;#123; &lt;span class=&quot;attr&quot;&gt;type&lt;/span&gt;: mime &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="javascript" scheme="http://007sair.github.io/categories/javascript/"/>
    
    
      <category term="javascript" scheme="http://007sair.github.io/tags/javascript/"/>
    
      <category term="H5" scheme="http://007sair.github.io/tags/H5/"/>
    
  </entry>
  
  <entry>
    <title>本地调试微信JSSDK</title>
    <link href="http://007sair.github.io/2018/07/26/%E6%9C%AC%E5%9C%B0%E8%B0%83%E8%AF%95%E5%BE%AE%E4%BF%A1JSSDK/"/>
    <id>http://007sair.github.io/2018/07/26/本地调试微信JSSDK/</id>
    <published>2018-07-26T07:21:42.000Z</published>
    <updated>2018-08-29T09:09:10.292Z</updated>
    
    <content type="html"><![CDATA[<h1 id="调试微信jssdk"><a href="#调试微信jssdk" class="headerlink" title="调试微信jssdk"></a>调试微信jssdk</h1><blockquote><p>最近在做一个h5的项目，需要用到微信jssdk的图片上传功能。踩坑记录~</p></blockquote><h2 id="一、配置"><a href="#一、配置" class="headerlink" title="一、配置"></a>一、配置</h2><ol><li><p>进入微信公众号，找到<code>基本配置</code>，获取到<code>AppID</code>、<code>AppSecret</code>，后端需要使用这两个数据生成对应的<code>tooken</code>和<code>tiket</code>，此处省略。然后填写好<code>IP白名单</code>（重要）；</p></li><li><p>在<code>公众号设置 - 功能设置 - JS接口安全域名</code> 处设置需要访问页面的域名（注：有坑，见后文），如：<code>sair.example.com</code>。</p></li></ol><h2 id="二、调试"><a href="#二、调试" class="headerlink" title="二、调试"></a>二、调试</h2><p>填好配置，接下来就是调试。微信要求前端传入的url必须为动态线上的url，且端口必须为<code>80</code>、<code>443</code>，这样一来，我们在本地进行调试时就会涉及如何将本地url变成线上url的问题了。</p><a id="more"></a><p>本地调试环境除了电脑端的<code>微信开发者工具</code>，就是真机的微信环境调试。但电脑端无法调试某些接口，如<code>chooseImage</code>、<code>getLocalImgData</code>，所以，真机调试就变得尤为重要了。现将思路整理如下:</p><h3 id="思路1，代理变更url地址"><a href="#思路1，代理变更url地址" class="headerlink" title="思路1，代理变更url地址"></a>思路1，代理变更url地址</h3><p>前提：有<code>Apache</code>环境，项目能通过<code>127.0.0.1</code>被访问到。然后通过<code>charles</code>代理，使手机也能访问电脑端的域名。</p><p><strong>工具：</strong></p><ol><li>一台<code>Mac</code>、一个<code>iPhone</code>；</li><li>开启代理和抓包的工具<a href="https://www.charlesproxy.com/" target="_blank" rel="noopener">Charles</a>；</li><li>修改<code>Hosts</code>工具<a href="https://github.com/oldj/SwitchHosts" target="_blank" rel="noopener">SwitchHosts</a>或者<a href="https://github.com/2ndalpha/gasmask" target="_blank" rel="noopener">Gas Mask</a>。</li></ol><p><strong>步骤：</strong></p><ol><li><code>Mac</code>与<code>iPhone</code>需在同一个局域网内；</li><li>打开<code>charles</code>设置代理服务；</li><li>iPhone上打开<code>设置 - 无线局域网 - 选中当前网络 - HTTP代理 - 配置代理</code>，在<code>服务器</code>一栏输入Mac的ip地址，端口填写charles上的端口号（默认为<code>8888</code>）；</li><li>修改Mac的hosts，如：<code>127.0.0.1  sair.example.com</code>；</li><li>在手机上访问<code>sair.example.com</code>即可进行调试。</li></ol><h3 id="思路2，代理变更-端口转发"><a href="#思路2，代理变更-端口转发" class="headerlink" title="思路2，代理变更+端口转发"></a>思路2，代理变更+端口转发</h3><p>另类场景，由于本人一直在开发环境使用<code>webpack</code>，本地访问地址一般都是<code>localhost:8080</code>，而微信仅支持<code>80</code>、<code>443</code>端口，方案如下：</p><blockquote><p>提前了解：Mac禁止了普通用户访问1024以下的端口，包括80端口，因为Mac会用这些端口来提供文件共享等等很多服务。</p></blockquote><p>停掉Mac自带的占用<code>80</code>端口的程序(其实就是一个<code>apache</code>)，然后再设置端口转发，将<code>80端口</code>的请求转发到<code>8080</code>或<code>9090</code>端口。</p><p>具体操作：</p><ol><li><p>关闭占用80端口的apache：<code>sudo apachectl stop</code>；</p></li><li><p>修改<code>/etc/pf.conf</code>，设置端口转发，操作如下：</p></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ sudo vi /etc/pf.conf</span><br><span class="line"><span class="comment"># 在 rdr-anchor "com.apple/*" 后添加 </span></span><br><span class="line">rdr on lo0 inet proto tcp from any to 127.0.0.1 port 80 -&gt; 127.0.0.1 port 8080</span><br></pre></td></tr></table></figure><p>修改后的效果：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Default PF configuration file.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># This file contains the main ruleset, which gets automatically loaded</span></span><br><span class="line"><span class="comment"># at startup.  PF will not be automatically enabled, however.  Instead,</span></span><br><span class="line"><span class="comment"># each component which utilizes PF is responsible for enabling and disabling</span></span><br><span class="line"><span class="comment"># PF via -E and -X as documented in pfctl(8).  That will ensure that PF</span></span><br><span class="line"><span class="comment"># is disabled only when the last enable reference is released.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Care must be taken to ensure that the main ruleset does not get flushed,</span></span><br><span class="line"><span class="comment"># as the nested anchors rely on the anchor point defined here. In addition,</span></span><br><span class="line"><span class="comment"># to the anchors loaded by this file, some system services would dynamically</span></span><br><span class="line"><span class="comment"># insert anchors into the main ruleset. These anchors will be added only when</span></span><br><span class="line"><span class="comment"># the system service is used and would removed on termination of the service.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># See pf.conf(5) for syntax.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># com.apple anchor point</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">scrub-anchor <span class="string">"com.apple/*"</span></span><br><span class="line">nat-anchor <span class="string">"com.apple/*"</span></span><br><span class="line">rdr-anchor <span class="string">"com.apple/*"</span></span><br><span class="line">rdr on lo0 inet proto tcp from any to 127.0.0.1 port 80 -&gt; 127.0.0.1 port 9090</span><br><span class="line">dummynet-anchor <span class="string">"com.apple/*"</span></span><br><span class="line">anchor <span class="string">"com.apple/*"</span></span><br><span class="line">load anchor <span class="string">"com.apple"</span> from <span class="string">"/etc/pf.anchors/com.apple"</span></span><br></pre></td></tr></table></figure><ol start="3"><li>使修改生效，依次执行以下命令：</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ sudo pfctl -d</span><br><span class="line">$ sudo pfctl -f /etc/pf.conf  </span><br><span class="line">$ sudo pfctl -e</span><br></pre></td></tr></table></figure><ol start="4"><li>设置<code>hosts</code></li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1  sair.example.com</span><br></pre></td></tr></table></figure><p>ok，启动<code>webpack</code>后，访问<code>sair.example.com</code>时我们实际访问的是<code>127.0.0.1:80</code>，而由于设置了转发，所以我们最后访问的实际是<code>127.0.0.1:8080</code>。</p><h3 id="思路3，内网穿透"><a href="#思路3，内网穿透" class="headerlink" title="思路3，内网穿透"></a>思路3，内网穿透</h3><p>以上两种方案均通过代理的方式实现，过程比较绕，但也能解决问题。本人在开发中遇到了<code>http</code>强行重定向到<code>https</code>的坑，所以有内网穿透这个方法：通过<code>ngrok</code>将内网ip映射到外网，然后手机直接访问外网地址即可~简单粗暴直接了当。</p><p><strong>步骤：</strong></p><ol><li>下载<a href="https://ngrok.cc/" target="_blank" rel="noopener">Sunny-Ngrok</a> 或者 <a href="https://natapp.cn/" target="_blank" rel="noopener">natapp</a></li></ol><p>这两个工具都适合在国内使用，对比如下：</p><pre><code>sunny-ngrok：a. 完全免费 b. 可以定义多条隧道 c. 可以完全自定义域名 d. 需要自己申请域名并备案（算是一个缺点吧）natapp：a. 基本免费，高级功能收费（如自定义域名） b. 免费版每个协议只能申请一条隧道 c. 域名随机生成，不能完全自定义域名。收费版也只能修改域名的前缀 d. 不需要单独申请域名（优点） e. 运行简单，下载执行程序直接运行即可，默认监听80端口。如果要监听其它端口，没有注册帐号的前提下，需要用web服务器做反向代理</code></pre><ol start="2"><li><p>运行软件，获取到外网映射地址直接访问</p></li><li><p>填入安全域名，分两种情况：</p></li></ol><p>a. 有<a href="https://mp.weixin.qq.com/debug/cgi-bin/sandboxinfo?action=showinfo&amp;t=sandbox/index" target="_blank" rel="noopener">公众平台测试账号</a></p><p>此时只需要填入<code>接口配置信息</code>的URL（后端根据此页面提供的appid，appsecret写好的接口）、约定好的token、<code>JS接口安全域名</code>处填写<code>ngrok</code>生成的外网地址。</p><p>前端调取接口获取config信息时也需要根据测试和线上环境获取不同的信息。</p><p>此方法适合使用<code>natapp</code>，生成的外网地址不固定，可随时更改使用。</p><p>b. 没有公众平台测试账号</p><p>我们可以在<code>公众号设置 - 功能设置 - JS接口安全域名</code>处填入使用<code>sunny-ngrok</code>生成的固定的外网域名，将验证的配置文件<code>xxxx.txt</code>文件放入本地服务器，保证<code>外网地址/xxx.txt</code>能被访问到即可。</p><p>推荐使用a方法，稳定，但需要最开始做一些配置。</p><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul><li><a href="https://mp.weixin.qq.com/wiki?action=doc&amp;id=mp1421141115&amp;t=0.6318919454950129" target="_blank" rel="noopener">微信JS-SDK说明文档</a></li><li><a href="https://blog.csdn.net/toocruel/article/details/79987388" target="_blank" rel="noopener">解决Mac 80端口被占用</a></li><li><a href="https://www.cnblogs.com/vipstone/p/6732660.html" target="_blank" rel="noopener">微信分享JSSDK-invalid signature签名错误的解决方案</a></li><li><a href="https://blog.gavinzh.com/2016/11/05/ngrok/" target="_blank" rel="noopener">ngrok 内网穿透，实现微信开发本地化</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;调试微信jssdk&quot;&gt;&lt;a href=&quot;#调试微信jssdk&quot; class=&quot;headerlink&quot; title=&quot;调试微信jssdk&quot;&gt;&lt;/a&gt;调试微信jssdk&lt;/h1&gt;&lt;blockquote&gt;
&lt;p&gt;最近在做一个h5的项目，需要用到微信jssdk的图片上传功能。踩坑记录~&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;一、配置&quot;&gt;&lt;a href=&quot;#一、配置&quot; class=&quot;headerlink&quot; title=&quot;一、配置&quot;&gt;&lt;/a&gt;一、配置&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;进入微信公众号，找到&lt;code&gt;基本配置&lt;/code&gt;，获取到&lt;code&gt;AppID&lt;/code&gt;、&lt;code&gt;AppSecret&lt;/code&gt;，后端需要使用这两个数据生成对应的&lt;code&gt;tooken&lt;/code&gt;和&lt;code&gt;tiket&lt;/code&gt;，此处省略。然后填写好&lt;code&gt;IP白名单&lt;/code&gt;（重要）；&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;在&lt;code&gt;公众号设置 - 功能设置 - JS接口安全域名&lt;/code&gt; 处设置需要访问页面的域名（注：有坑，见后文），如：&lt;code&gt;sair.example.com&lt;/code&gt;。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;二、调试&quot;&gt;&lt;a href=&quot;#二、调试&quot; class=&quot;headerlink&quot; title=&quot;二、调试&quot;&gt;&lt;/a&gt;二、调试&lt;/h2&gt;&lt;p&gt;填好配置，接下来就是调试。微信要求前端传入的url必须为动态线上的url，且端口必须为&lt;code&gt;80&lt;/code&gt;、&lt;code&gt;443&lt;/code&gt;，这样一来，我们在本地进行调试时就会涉及如何将本地url变成线上url的问题了。&lt;/p&gt;
    
    </summary>
    
      <category term="javascript" scheme="http://007sair.github.io/categories/javascript/"/>
    
    
      <category term="javascript" scheme="http://007sair.github.io/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>script标签中的defer和async区别</title>
    <link href="http://007sair.github.io/2018/02/05/script%E6%A0%87%E7%AD%BE%E4%B8%AD%E7%9A%84defer%E5%92%8Casync%E5%8C%BA%E5%88%AB/"/>
    <id>http://007sair.github.io/2018/02/05/script标签中的defer和async区别/</id>
    <published>2018-02-05T07:07:58.000Z</published>
    <updated>2018-07-26T07:08:26.520Z</updated>
    
    <content type="html"><![CDATA[<p>script标签的位置决定了页面何时渲染，浏览器解析页面时，碰到script标签会将脚本解析完后再解析后面的html、script。</p><p>所以我们在往页面里写script标签时建议不要将script标签放在head内，而是尽量放在body之前，其他html标签之后。这样的好处是页面白屏时间会缩短，优先解析出html。</p><a id="more"></a><h2 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h2><p>红宝书对这两个属性的解释如下：</p><h3 id="defer"><a href="#defer" class="headerlink" title="defer"></a><code>defer</code></h3><p>这个属性的用途是表明脚本在执行时不会影响页面的构造。也就是说，脚本会被延迟到整个页面都解析完毕后再运行。因此，在<code>&lt;script&gt;</code>元素中设置defer属性，相当于告诉浏览器立即下载，但延迟执行。</p><p>HTML5规范要求脚本按照它们出现的先后顺序执行，因此第一个延迟脚本会先于第二个延迟脚本执行，而这两个脚本会先于<code>DOMContentLoaded</code>事件执行。在现实当中，延迟脚本并不一定会按照顺序执行，也不一定会在<code>DOMContentLoad</code>事件触发前执行，因此最好只包含一个延迟脚本。</p><h3 id="async"><a href="#async" class="headerlink" title="async"></a><code>async</code></h3><p>这个属性与defer类似，都用于改变处理脚本的行为。同样与defer类似，async只适用于外部脚本文件，并告诉浏览器立即下载文件。但与defer不同的是，标记为async的脚本并不保证按照它们的先后顺序执行。</p><p>第二个脚本文件可能会在第一个脚本文件之前执行。因此确保两者之间互不依赖非常重要。指定async属性的目的是不让页面等待两个脚本下载和执行，从而异步加载页面其他内容。</p><p>MDN上的解释如下：</p><ul><li><strong>async</strong>，该布尔属性指示浏览器是否在允许的情况下异步执行该脚本。该属性对于内联脚本无作用 (即没有src属性的脚本）。</li><li><strong>defer</strong>，这个布尔属性被设定用来通知浏览器该脚本将在文档完成解析后，触发<code>DOMContentLoaded</code>事件前执行。如果缺少 src 属性（即内嵌脚本），该属性不应被使用，因为这种情况下它不起作用。对动态嵌入的脚本使用 <code>async=false</code> 来达到类似的效果。</li></ul><p><strong>关键点：</strong>当script标签中间有代码时，两个属性都不会起作用。</p><p>引用中<a href="https://segmentfault.com/q/1010000000640869" target="_blank" rel="noopener">这篇文章</a>的图，描述页面加载的顺序：</p><p><img src="/images/defer_async.jpg" alt="defer_async.jpg"></p><p>绿色线代表 HTML 解析，蓝色线代表脚本网络读取，红色线代表脚本执行。</p><ul><li>没有任何属性时，文档解析、网络读取、执行都是串行。</li><li><code>defer</code>时文档解析与网络读取并行，在文档解析后，<code>DOMContentLoaded</code>事件触发之前执行</li><li><code>async</code>则没有任何限制，文档解析时网络读取文件，读取完后立即执行。</li></ul><p>使用时机与场景请自行琢磨~</p><h2 id="优先级"><a href="#优先级" class="headerlink" title="优先级"></a>优先级</h2><p>当一个script标签内同时包含<code>defer</code>与<code>async</code>属性时，如下：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"xxx/xxx.js"</span> <span class="attr">async</span> <span class="attr">defer</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>此时只会触发<code>async</code>，不会触发<code>defer</code>，除非浏览器不兼容<code>async</code>。</p><h2 id="兼容性"><a href="#兼容性" class="headerlink" title="兼容性"></a>兼容性</h2><table><thead><tr><th></th><th>IE</th><th>Chrome</th><th>Firfox</th><th>Safari</th><th>IOS Safari</th><th>Android</th></tr></thead><tbody><tr><td>async</td><td>10+</td><td>8+</td><td>3.6+</td><td>5.1+</td><td>5.1+</td><td>3+</td></tr><tr><td>defer</td><td>10+</td><td>8+</td><td>3.5+</td><td>5+</td><td>5.1+</td><td>3+</td></tr></tbody></table><p>_*_ 以上 + 包含当前版本，如：ie10+表示含ie10</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;script标签的位置决定了页面何时渲染，浏览器解析页面时，碰到script标签会将脚本解析完后再解析后面的html、script。&lt;/p&gt;
&lt;p&gt;所以我们在往页面里写script标签时建议不要将script标签放在head内，而是尽量放在body之前，其他html标签之后。这样的好处是页面白屏时间会缩短，优先解析出html。&lt;/p&gt;
    
    </summary>
    
      <category term="javascript" scheme="http://007sair.github.io/categories/javascript/"/>
    
    
      <category term="javascript" scheme="http://007sair.github.io/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>JavaScript开发的45个技巧</title>
    <link href="http://007sair.github.io/2018/02/02/javascript%E5%BC%80%E5%8F%91%E7%9A%8445%E4%B8%AA%E6%8A%80%E5%B7%A7/"/>
    <id>http://007sair.github.io/2018/02/02/javascript开发的45个技巧/</id>
    <published>2018-02-02T09:34:35.000Z</published>
    <updated>2018-07-26T07:08:26.520Z</updated>
    
    <content type="html"><![CDATA[<p>JavaScript是一个绝冠全球的编程语言，可用于Web开发、移动应用开发（PhoneGap、Appcelerator）、服务器端开发（Node.js和Wakanda）等等。JavaScript还是很多新手踏入编程世界的第一个语言。既可以用来显示浏览器中的简单提示框，也可以通过nodebot或nodruino来控制机器人。能够编写结构清晰、性能高效的JavaScript代码的开发人员，现如今已成了招聘市场最受追捧的人。</p><p>在这篇文章里，我将分享一些JavaScript的技巧、秘诀和最佳实践，除了少数几个外，不管是浏览器的JavaScript引擎，还是服务器端JavaScript解释器，均适用。</p><p>本文中的示例代码，通过了在Google Chrome 30最新版（V8 3.20.17.15）上的测试。</p><a id="more"></a><h2 id="1、首次为变量赋值时务必使用var关键字"><a href="#1、首次为变量赋值时务必使用var关键字" class="headerlink" title="1、首次为变量赋值时务必使用var关键字"></a>1、首次为变量赋值时务必使用var关键字</h2><p>变量没有声明而直接赋值得话，默认会作为一个新的全局变量，要尽量避免使用全局变量。</p><h2 id="2、使用-取代"><a href="#2、使用-取代" class="headerlink" title="2、使用===取代=="></a>2、使用<code>===</code>取代<code>==</code></h2><p><code>==</code>和<code>!=</code>操作符会在需要的情况下自动转换数据类型。但<code>===</code>和<code>!==</code>不会，它们会同时比较值和数据类型，这也使得它们要比<code>==</code>和<code>!=</code>快。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">10</span>] === <span class="number">10</span>    <span class="comment">// is false</span></span><br><span class="line">[<span class="number">10</span>]  == <span class="number">10</span>    <span class="comment">// is true</span></span><br><span class="line"><span class="string">'10'</span> == <span class="number">10</span>     <span class="comment">// is true</span></span><br><span class="line"><span class="string">'10'</span> === <span class="number">10</span>    <span class="comment">// is false</span></span><br><span class="line"> []   == <span class="number">0</span>     <span class="comment">// is true</span></span><br><span class="line"> [] ===  <span class="number">0</span>     <span class="comment">// is false</span></span><br><span class="line"> <span class="string">''</span> == <span class="literal">false</span>   <span class="comment">// is true but true == "a" is false</span></span><br><span class="line"> <span class="string">''</span> === <span class="literal">false</span>  <span class="comment">// is false</span></span><br></pre></td></tr></table></figure><h2 id="3、underfined、null、0、false、NaN、空字符串的逻辑结果均为false"><a href="#3、underfined、null、0、false、NaN、空字符串的逻辑结果均为false" class="headerlink" title="3、underfined、null、0、false、NaN、空字符串的逻辑结果均为false"></a>3、<code>underfined</code>、<code>null</code>、<code>0</code>、<code>false</code>、<code>NaN</code>、空字符串的逻辑结果均为<code>false</code></h2><h2 id="4、行尾使用分号"><a href="#4、行尾使用分号" class="headerlink" title="4、行尾使用分号"></a>4、行尾使用分号</h2><p>实践中最好还是使用分号，忘了写也没事，大部分情况下JavaScript解释器都会自动添加。对于为何要使用分号，可参考文章<a href="https://davidwalsh.name/javascript-semicolons" target="_blank" rel="noopener">JavaScript中关于分号的真相</a>。</p><h2 id="5、使用对象构造器"><a href="#5、使用对象构造器" class="headerlink" title="5、使用对象构造器"></a>5、使用对象构造器</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">firstName, lastName</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.firstName =  firstName;</span><br><span class="line">    <span class="keyword">this</span>.lastName = lastName;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> Saad = <span class="keyword">new</span> Person(<span class="string">"Saad"</span>, <span class="string">"Mousliki"</span>);</span><br></pre></td></tr></table></figure><h2 id="6、小心使用typeof、instanceof和contructor"><a href="#6、小心使用typeof、instanceof和contructor" class="headerlink" title="6、小心使用typeof、instanceof和contructor"></a>6、小心使用<code>typeof</code>、<code>instanceof</code>和<code>contructor</code></h2><ul><li><code>typeof</code>：JavaScript一元操作符，用于以字符串的形式返回变量的原始类型，注意，typeof null也会返回object，大多数的对象类型（数组Array、时间Date等）也会返回object</li><li><code>contructor</code>：内部原型属性，可以通过代码重写</li><li><code>instanceof</code>：JavaScript操作符，会在原型链中的构造器中搜索，找到则返回true，否则返回false</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>];</span><br><span class="line"><span class="keyword">typeof</span> arr;   <span class="comment">// 返回 "object" </span></span><br><span class="line">arr <span class="keyword">instanceof</span> <span class="built_in">Array</span> <span class="comment">// true</span></span><br><span class="line">arr.constructor();  <span class="comment">//[]</span></span><br></pre></td></tr></table></figure><h2 id="7、使用自调用函数"><a href="#7、使用自调用函数" class="headerlink" title="7、使用自调用函数"></a>7、使用自调用函数</h2><p>函数在创建之后直接自动执行，通常称之为自调用匿名函数（Self-Invoked Anonymous Function）或直接调用函数表达式（Immediately Invoked Function Expression ）。格式如下：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">// 置于此处的代码将自动执行</span></span><br><span class="line">&#125;)();  </span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> result = a+b;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;)(<span class="number">10</span>,<span class="number">20</span>)</span><br></pre></td></tr></table></figure><h2 id="8、从数组中随机获取成员"><a href="#8、从数组中随机获取成员" class="headerlink" title="8、从数组中随机获取成员"></a>8、从数组中随机获取成员</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> items = [<span class="number">12</span>, <span class="number">548</span> , <span class="string">'a'</span> , <span class="number">2</span> , <span class="number">5478</span> , <span class="string">'foo'</span> , <span class="number">8852</span>, , <span class="string">'Doe'</span> , <span class="number">2145</span> , <span class="number">119</span>];</span><br><span class="line"><span class="keyword">var</span>  randomItem = items[<span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * items.length)];</span><br></pre></td></tr></table></figure><h2 id="9、获取指定范围内的随机数"><a href="#9、获取指定范围内的随机数" class="headerlink" title="9、获取指定范围内的随机数"></a>9、获取指定范围内的随机数</h2><p>这个功能在生成测试用的假数据时特别有数，比如介与指定范围内的工资数。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * (max - min + <span class="number">1</span>)) + min;</span><br></pre></td></tr></table></figure><h2 id="10、生成从0到指定值的数字数组"><a href="#10、生成从0到指定值的数字数组" class="headerlink" title="10、生成从0到指定值的数字数组"></a>10、生成从0到指定值的数字数组</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> numbersArray = [] , max = <span class="number">100</span>;</span><br><span class="line"><span class="keyword">for</span>( <span class="keyword">var</span> i=<span class="number">1</span>; numbersArray.push(i++) &lt; max;);  <span class="comment">// numbers = [1,2,3 ... 100]</span></span><br></pre></td></tr></table></figure><h2 id="11、生成随机的字母数字字符串"><a href="#11、生成随机的字母数字字符串" class="headerlink" title="11、生成随机的字母数字字符串"></a>11、生成随机的字母数字字符串</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">generateRandomAlphaNum</span>(<span class="params">len</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> rdmString = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">for</span>( ; rdmString.length &lt; len; rdmString  += <span class="built_in">Math</span>.random().toString(<span class="number">36</span>).substr(<span class="number">2</span>));</span><br><span class="line">    <span class="keyword">return</span>  rdmString.substr(<span class="number">0</span>, len);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="12、打乱数字数组的顺序"><a href="#12、打乱数字数组的顺序" class="headerlink" title="12、打乱数字数组的顺序"></a>12、打乱数字数组的顺序</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> numbers = [<span class="number">5</span>, <span class="number">458</span> , <span class="number">120</span> , <span class="number">-215</span> , <span class="number">228</span> , <span class="number">400</span> , <span class="number">122205</span>, <span class="number">-85411</span>];</span><br><span class="line">numbers = numbers.sort(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; <span class="keyword">return</span> <span class="built_in">Math</span>.random() - <span class="number">0.5</span>&#125;);</span><br><span class="line"><span class="comment">/* numbers 数组将类似于 [120, 5, 228, -215, 400, 458, -85411, 122205]  */</span></span><br></pre></td></tr></table></figure><p>这里使用了JavaScript内置的数组排序函数，更好的办法是用专门的代码来实现（如Fisher-Yates算法），可以参见StackOverFlow上的这个讨论。</p><h2 id="13、字符串去空格"><a href="#13、字符串去空格" class="headerlink" title="13、字符串去空格"></a>13、字符串去空格</h2><p>Java、C#和PHP等语言都实现了专门的字符串去空格函数，但JavaScript中是没有的，可以通过下面的代码来为String对象函数一个trim函数：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">String</span>.prototype.trim = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.replace(<span class="regexp">/^\s+|\s+$/g</span>, <span class="string">""</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>新的JavaScript引擎已经有了trim()的原生实现。</p><h2 id="14、数组之间追加"><a href="#14、数组之间追加" class="headerlink" title="14、数组之间追加"></a>14、数组之间追加</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> array1 = [<span class="number">12</span> , <span class="string">"foo"</span> , &#123;name <span class="string">"Joe"</span>&#125; , <span class="number">-2458</span>];</span><br><span class="line"><span class="keyword">var</span> array2 = [<span class="string">"Doe"</span> , <span class="number">555</span> , <span class="number">100</span>];</span><br><span class="line"><span class="built_in">Array</span>.prototype.push.apply(array1, array2);</span><br><span class="line"><span class="comment">/* array1 值为  [12 , "foo" , &#123;name "Joe"&#125; , -2458 , "Doe" , 555 , 100] */</span></span><br></pre></td></tr></table></figure><h2 id="15、对象转换为数组"><a href="#15、对象转换为数组" class="headerlink" title="15、对象转换为数组"></a>15、对象转换为数组</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> argArray = <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>);</span><br></pre></td></tr></table></figure><h2 id="16、验证是否是数字"><a href="#16、验证是否是数字" class="headerlink" title="16、验证是否是数字"></a>16、验证是否是数字</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isNumber</span>(<span class="params">n</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> !<span class="built_in">isNaN</span>(<span class="built_in">parseFloat</span>(n)) &amp;&amp; <span class="built_in">isFinite</span>(n);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="17、验证是否是数组"><a href="#17、验证是否是数组" class="headerlink" title="17、验证是否是数组"></a>17、验证是否是数组</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isArray</span>(<span class="params">obj</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(obj) === <span class="string">'[object Array]'</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>但如果toString()方法被重写过得话，就行不通了。也可以使用下面的方法：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.isArray(obj); <span class="comment">// its a new Array method</span></span><br></pre></td></tr></table></figure><p>如果在浏览器中没有使用frame，还可以用instanceof，但如果上下文太复杂，也有可能出错。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myFrame = <span class="built_in">document</span>.createElement(<span class="string">'iframe'</span>);</span><br><span class="line"><span class="built_in">document</span>.body.appendChild(myFrame);</span><br><span class="line"><span class="keyword">var</span> myArray = <span class="built_in">window</span>.frames[<span class="built_in">window</span>.frames.length<span class="number">-1</span>].Array;</span><br><span class="line"><span class="keyword">var</span> arr = <span class="keyword">new</span> myArray(a,b,<span class="number">10</span>); <span class="comment">// [a,b,10]  </span></span><br><span class="line"><span class="comment">// myArray 的构造器已经丢失，instanceof 的结果将不正常</span></span><br><span class="line"><span class="comment">// 构造器是不能跨 frame 共享的</span></span><br><span class="line">arr <span class="keyword">instanceof</span> <span class="built_in">Array</span>; <span class="comment">// false</span></span><br></pre></td></tr></table></figure><h2 id="18、获取数组中的最大值和最小值"><a href="#18、获取数组中的最大值和最小值" class="headerlink" title="18、获取数组中的最大值和最小值"></a>18、获取数组中的最大值和最小值</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span>  numbers = [<span class="number">5</span>, <span class="number">458</span> , <span class="number">120</span> , <span class="number">-215</span> , <span class="number">228</span> , <span class="number">400</span> , <span class="number">122205</span>, <span class="number">-85411</span>]; </span><br><span class="line"><span class="keyword">var</span> maxInNumbers = <span class="built_in">Math</span>.max.apply(<span class="built_in">Math</span>, numbers); </span><br><span class="line"><span class="keyword">var</span> minInNumbers = <span class="built_in">Math</span>.min.apply(<span class="built_in">Math</span>, numbers);</span><br></pre></td></tr></table></figure><h2 id="19、清空数组"><a href="#19、清空数组" class="headerlink" title="19、清空数组"></a>19、清空数组</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myArray = [<span class="number">12</span> , <span class="number">222</span> , <span class="number">1000</span> ];  </span><br><span class="line">myArray.length = <span class="number">0</span>; <span class="comment">// myArray will be equal to [].</span></span><br></pre></td></tr></table></figure><h2 id="20、不要直接从数组中delete或remove元素"><a href="#20、不要直接从数组中delete或remove元素" class="headerlink" title="20、不要直接从数组中delete或remove元素"></a>20、不要直接从数组中<code>delete</code>或<code>remove</code>元素</h2><p>如果对数组元素直接使用delete，其实并没有删除，只是将元素置为了undefined。数组元素删除应使用splice。</p><p>切忌：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> items = [<span class="number">12</span>, <span class="number">548</span> ,<span class="string">'a'</span> , <span class="number">2</span> , <span class="number">5478</span> , <span class="string">'foo'</span> , <span class="number">8852</span>, , <span class="string">'Doe'</span> ,<span class="number">2154</span> , <span class="number">119</span> ]; </span><br><span class="line">items.length; <span class="comment">// return 11 </span></span><br><span class="line"><span class="keyword">delete</span> items[<span class="number">3</span>]; <span class="comment">// return true </span></span><br><span class="line">items.length; <span class="comment">// return 11 </span></span><br><span class="line"><span class="comment">/* items 结果为 [12, 548, "a", undefined × 1, 5478, "foo", 8852, undefined × 1, "Doe", 2154, 119] */</span></span><br></pre></td></tr></table></figure><p>而应：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> items = [<span class="number">12</span>, <span class="number">548</span> ,<span class="string">'a'</span> , <span class="number">2</span> , <span class="number">5478</span> , <span class="string">'foo'</span> , <span class="number">8852</span>, , <span class="string">'Doe'</span> ,<span class="number">2154</span> , <span class="number">119</span> ]; </span><br><span class="line">items.length; <span class="comment">// return 11 </span></span><br><span class="line">items.splice(<span class="number">3</span>,<span class="number">1</span>) ; </span><br><span class="line">items.length; <span class="comment">// return 10 </span></span><br><span class="line"><span class="comment">/* items 结果为 [12, 548, "a", 5478, "foo", 8852, undefined × 1, "Doe", 2154, 119]</span></span><br><span class="line"><span class="comment">删除对象的属性时可以使用delete。</span></span><br></pre></td></tr></table></figure><h2 id="21、使用length属性截断数组"><a href="#21、使用length属性截断数组" class="headerlink" title="21、使用length属性截断数组"></a>21、使用<code>length</code>属性截断数组</h2><p>前面的例子中用length属性清空数组，同样还可用它来截断数组：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myArray = [<span class="number">12</span> , <span class="number">222</span> , <span class="number">1000</span> , <span class="number">124</span> , <span class="number">98</span> , <span class="number">10</span> ];  </span><br><span class="line">myArray.length = <span class="number">4</span>; <span class="comment">// myArray will be equal to [12 , 222 , 1000 , 124].</span></span><br></pre></td></tr></table></figure><p>与此同时，如果把length属性变大，数组的长度值变会增加，会使用undefined来作为新的元素填充。length是一个可写的属性。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">myArray.length = <span class="number">10</span>; <span class="comment">// the new array length is 10 </span></span><br><span class="line">myArray[myArray.length - <span class="number">1</span>] ; <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure><h2 id="22、在条件中使用逻辑与或"><a href="#22、在条件中使用逻辑与或" class="headerlink" title="22、在条件中使用逻辑与或"></a>22、在条件中使用逻辑与或</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = <span class="number">10</span>;  </span><br><span class="line">foo == <span class="number">10</span> &amp;&amp; doSomething(); <span class="comment">// is the same thing as if (foo == 10) doSomething(); </span></span><br><span class="line">foo == <span class="number">5</span> || doSomething(); <span class="comment">// is the same thing as if (foo != 5) doSomething();</span></span><br></pre></td></tr></table></figure><p>逻辑或还可用来设置默认值，比如函数参数的默认值。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">doSomething</span>(<span class="params">arg1</span>)</span>&#123; </span><br><span class="line">    arg1 = arg1 || <span class="number">10</span>; <span class="comment">// arg1 will have 10 as a default value if it’s not already set</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="23、使得map-函数方法对数据循环"><a href="#23、使得map-函数方法对数据循环" class="headerlink" title="23、使得map()函数方法对数据循环"></a>23、使得<code>map()</code>函数方法对数据循环</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> squares = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>].map(<span class="function"><span class="keyword">function</span> (<span class="params">val</span>) </span>&#123;  </span><br><span class="line">    <span class="keyword">return</span> val * val;  </span><br><span class="line">&#125;); </span><br><span class="line"><span class="comment">// squares will be equal to [1, 4, 9, 16]</span></span><br></pre></td></tr></table></figure><h2 id="24、保留指定小数位数"><a href="#24、保留指定小数位数" class="headerlink" title="24、保留指定小数位数"></a>24、保留指定小数位数</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num = <span class="number">2.443242342</span>;</span><br><span class="line">num = num.toFixed(<span class="number">4</span>);  <span class="comment">// num will be equal to 2.4432</span></span><br></pre></td></tr></table></figure><p>注意，toFixec()返回的是字符串，不是数字。</p><h2 id="25、浮点计算的问题"><a href="#25、浮点计算的问题" class="headerlink" title="25、浮点计算的问题"></a>25、浮点计算的问题</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0.1</span> + <span class="number">0.2</span> === <span class="number">0.3</span> <span class="comment">// is false </span></span><br><span class="line"><span class="number">9007199254740992</span> + <span class="number">1</span> <span class="comment">// is equal to 9007199254740992</span></span><br><span class="line"><span class="number">9007199254740992</span> + <span class="number">2</span> <span class="comment">// is equal to 9007199254740994</span></span><br></pre></td></tr></table></figure><p>为什么呢？因为0.1+0.2等于0.30000000000000004。JavaScript的数字都遵循IEEE 754标准构建，在内部都是64位浮点小数表示，具体可以参见JavaScript中的数字是如何编码的.</p><p>可以通过使用toFixed()和toPrecision()来解决这个问题。</p><h2 id="26、通过for-in循环检查对象的属性"><a href="#26、通过for-in循环检查对象的属性" class="headerlink" title="26、通过for-in循环检查对象的属性"></a>26、通过<code>for-in</code>循环检查对象的属性</h2><p>下面这样的用法，可以防止迭代的时候进入到对象的原型属性中。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> name <span class="keyword">in</span> object) &#123;  </span><br><span class="line">    <span class="keyword">if</span> (object.hasOwnProperty(name)) &#123; </span><br><span class="line">        <span class="comment">// do something with name</span></span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="27、逗号操作符"><a href="#27、逗号操作符" class="headerlink" title="27、逗号操作符"></a>27、逗号操作符</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">0</span>; </span><br><span class="line"><span class="keyword">var</span> b = ( a++, <span class="number">99</span> ); </span><br><span class="line"><span class="built_in">console</span>.log(a);  <span class="comment">// a will be equal to 1 </span></span><br><span class="line"><span class="built_in">console</span>.log(b);  <span class="comment">// b is equal to 99</span></span><br></pre></td></tr></table></figure><h2 id="28、临时存储用于计算和查询的变量"><a href="#28、临时存储用于计算和查询的变量" class="headerlink" title="28、临时存储用于计算和查询的变量"></a>28、临时存储用于计算和查询的变量</h2><p>在jQuery选择器中，可以临时存储整个DOM元素。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> navright = <span class="built_in">document</span>.querySelector(<span class="string">'#right'</span>); </span><br><span class="line"><span class="keyword">var</span> navleft = <span class="built_in">document</span>.querySelector(<span class="string">'#left'</span>); </span><br><span class="line"><span class="keyword">var</span> navup = <span class="built_in">document</span>.querySelector(<span class="string">'#up'</span>); </span><br><span class="line"><span class="keyword">var</span> navdown = <span class="built_in">document</span>.querySelector(<span class="string">'#down'</span>);</span><br></pre></td></tr></table></figure><h2 id="29、提前检查传入isFinite-的参数"><a href="#29、提前检查传入isFinite-的参数" class="headerlink" title="29、提前检查传入isFinite()的参数"></a>29、提前检查传入<code>isFinite()</code>的参数</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">isFinite</span>(<span class="number">0</span>/<span class="number">0</span>) ; <span class="comment">// false</span></span><br><span class="line"><span class="built_in">isFinite</span>(<span class="string">"foo"</span>); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">isFinite</span>(<span class="string">"10"</span>); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">isFinite</span>(<span class="number">10</span>);   <span class="comment">// true</span></span><br><span class="line"><span class="built_in">isFinite</span>(<span class="literal">undefined</span>);  <span class="comment">// false</span></span><br><span class="line"><span class="built_in">isFinite</span>();   <span class="comment">// false</span></span><br><span class="line"><span class="built_in">isFinite</span>(<span class="literal">null</span>);  <span class="comment">// true，这点当特别注意</span></span><br></pre></td></tr></table></figure><h2 id="30、避免在数组中使用负数做索引"><a href="#30、避免在数组中使用负数做索引" class="headerlink" title="30、避免在数组中使用负数做索引"></a>30、避免在数组中使用负数做索引</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> numbersArray = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line"><span class="keyword">var</span> <span class="keyword">from</span> = numbersArray.indexOf(<span class="string">"foo"</span>) ; <span class="comment">// from is equal to -1</span></span><br><span class="line">numbersArray.splice(<span class="keyword">from</span>,<span class="number">2</span>); <span class="comment">// will return [5]</span></span><br></pre></td></tr></table></figure><p>注意传给splice的索引参数不要是负数，当是负数时，会从数组结尾处删除元素。</p><h2 id="31、用JSON来序列化与反序列化"><a href="#31、用JSON来序列化与反序列化" class="headerlink" title="31、用JSON来序列化与反序列化"></a>31、用<code>JSON</code>来序列化与反序列化</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person = &#123;<span class="attr">name</span> :<span class="string">'Saad'</span>, <span class="attr">age</span> : <span class="number">26</span>, <span class="attr">department</span> : &#123;<span class="attr">ID</span> : <span class="number">15</span>, <span class="attr">name</span> : <span class="string">"R&amp;D"</span>&#125; &#125;;</span><br><span class="line"><span class="keyword">var</span> stringFromPerson = <span class="built_in">JSON</span>.stringify(person);</span><br><span class="line"><span class="comment">/* stringFromPerson 结果为 "&#123;"name":"Saad","age":26,"department":&#123;"ID":15,"name":"R&amp;D"&#125;&#125;"   */</span></span><br><span class="line"><span class="keyword">var</span> personFromString = <span class="built_in">JSON</span>.parse(stringFromPerson);</span><br><span class="line"><span class="comment">/* personFromString 的值与 person 对象相同  */</span></span><br></pre></td></tr></table></figure><h2 id="32、不要使用eval-或者函数构造器"><a href="#32、不要使用eval-或者函数构造器" class="headerlink" title="32、不要使用eval()或者函数构造器"></a>32、不要使用<code>eval()</code>或者函数构造器</h2><p>eval()和函数构造器（Function consturctor）的开销较大，每次调用，JavaScript引擎都要将源代码转换为可执行的代码。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> func1 = <span class="keyword">new</span> <span class="built_in">Function</span>(functionCode);</span><br><span class="line"><span class="keyword">var</span> func2 = <span class="built_in">eval</span>(functionCode);</span><br></pre></td></tr></table></figure><h2 id="33、避免使用with"><a href="#33、避免使用with" class="headerlink" title="33、避免使用with()"></a>33、避免使用<code>with()</code></h2><p>使用with()可以把变量加入到全局作用域中，因此，如果有其它的同名变量，一来容易混淆，二来值也会被覆盖。</p><h2 id="34、不要对数组使用for-in"><a href="#34、不要对数组使用for-in" class="headerlink" title="34、不要对数组使用for-in"></a>34、不要对数组使用<code>for-in</code></h2><p>避免：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> sum = <span class="number">0</span>;  </span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i <span class="keyword">in</span> arrayNumbers) &#123;  </span><br><span class="line">    sum += arrayNumbers[i];  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>而是：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> sum = <span class="number">0</span>;  </span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, len = arrayNumbers.length; i &lt; len; i++) &#123;  </span><br><span class="line">    sum += arrayNumbers[i];  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>另外一个好处是，i和len两个变量是在for循环的第一个声明中，二者只会初始化一次，这要比下面这种写法快：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arrayNumbers.length; i++)</span><br></pre></td></tr></table></figure><h2 id="35、传给setInterval-和setTimeout-时使用函数而不是字符串"><a href="#35、传给setInterval-和setTimeout-时使用函数而不是字符串" class="headerlink" title="35、传给setInterval()和setTimeout()时使用函数而不是字符串"></a>35、传给<code>setInterval()</code>和<code>setTimeout()</code>时使用函数而不是字符串</h2><p>如果传给setTimeout()和setInterval()一个字符串，他们将会用类似于eval方式进行转换，这肯定会要慢些，因此不要使用：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">setInterval(<span class="string">'doSomethingPeriodically()'</span>, <span class="number">1000</span>);  </span><br><span class="line">setTimeout(<span class="string">'doSomethingAfterFiveSeconds()'</span>, <span class="number">5000</span>);</span><br></pre></td></tr></table></figure><p>而是用：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">setInterval(doSomethingPeriodically, <span class="number">1000</span>);  </span><br><span class="line">setTimeout(doSomethingAfterFiveSeconds, <span class="number">5000</span>);</span><br></pre></td></tr></table></figure><h2 id="36、使用switch-case代替一大叠的if-else"><a href="#36、使用switch-case代替一大叠的if-else" class="headerlink" title="36、使用switch/case代替一大叠的if/else"></a>36、使用<code>switch</code>/<code>case</code>代替一大叠的<code>if</code>/<code>else</code></h2><p>当判断有超过两个分支的时候使用switch/case要更快一些，而且也更优雅，更利于代码的组织，当然，如果有超过10个分支，就不要使用switch/case了。</p><h2 id="37、在switch-case中使用数字区间"><a href="#37、在switch-case中使用数字区间" class="headerlink" title="37、在switch/case中使用数字区间"></a>37、在<code>switch</code>/<code>case</code>中使用数字区间</h2><p>其实，<code>switch</code>/<code>case</code>中的<code>case</code>条件，还可以这样写：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getCategory</span>(<span class="params">age</span>) </span>&#123;  </span><br><span class="line">    <span class="keyword">var</span> category = <span class="string">""</span>;  </span><br><span class="line">    <span class="keyword">switch</span> (<span class="literal">true</span>) &#123;  </span><br><span class="line">        <span class="keyword">case</span> <span class="built_in">isNaN</span>(age):  </span><br><span class="line">            category = <span class="string">"not an age"</span>;  </span><br><span class="line">            <span class="keyword">break</span>;  </span><br><span class="line">        <span class="keyword">case</span> (age &gt;= <span class="number">50</span>):  </span><br><span class="line">            category = <span class="string">"Old"</span>;  </span><br><span class="line">            <span class="keyword">break</span>;  </span><br><span class="line">        <span class="keyword">case</span> (age &lt;= <span class="number">20</span>):  </span><br><span class="line">            category = <span class="string">"Baby"</span>;  </span><br><span class="line">            <span class="keyword">break</span>;  </span><br><span class="line">        <span class="keyword">default</span>:  </span><br><span class="line">            category = <span class="string">"Young"</span>;  </span><br><span class="line">            <span class="keyword">break</span>;  </span><br><span class="line">    &#125;;  </span><br><span class="line">    <span class="keyword">return</span> category;  </span><br><span class="line">&#125;  </span><br><span class="line">getCategory(<span class="number">5</span>);  <span class="comment">// 将返回 "Baby"</span></span><br></pre></td></tr></table></figure><h2 id="38、使用对象作为对象的原型"><a href="#38、使用对象作为对象的原型" class="headerlink" title="38、使用对象作为对象的原型"></a>38、使用对象作为对象的原型</h2><p>下面这样，便可以给定对象作为参数，来创建以此为原型的新对象：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">clone</span>(<span class="params">object</span>) </span>&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">OneShotConstructor</span>(<span class="params"></span>)</span>&#123;&#125;; </span><br><span class="line">    OneShotConstructor.prototype = object;  </span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> OneShotConstructor(); </span><br><span class="line">&#125; </span><br><span class="line">clone(<span class="built_in">Array</span>).prototype ;  <span class="comment">// []</span></span><br></pre></td></tr></table></figure><h2 id="39、HTML字段转换函数"><a href="#39、HTML字段转换函数" class="headerlink" title="39、HTML字段转换函数"></a>39、HTML字段转换函数</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">escapeHTML</span>(<span class="params">text</span>) </span>&#123;  </span><br><span class="line">    <span class="keyword">var</span> replacements= &#123;<span class="string">"&lt;"</span>: <span class="string">"&lt;"</span>, <span class="string">"&gt;"</span>: <span class="string">"&gt;"</span>,<span class="string">"&amp;"</span>: <span class="string">"&amp;"</span>, <span class="string">"\""</span>: <span class="string">""</span><span class="string">"&#125;;                      </span></span><br><span class="line"><span class="string">    return text.replace(/[&lt;&gt;&amp;"</span>]/g, <span class="function"><span class="keyword">function</span>(<span class="params">character</span>) </span>&#123;  </span><br><span class="line">        <span class="keyword">return</span> replacements[character];  </span><br><span class="line">    &#125;); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="40、不要在循环内部使用try-catch-finally"><a href="#40、不要在循环内部使用try-catch-finally" class="headerlink" title="40、不要在循环内部使用try-catch-finally"></a>40、不要在循环内部使用<code>try-catch-finally</code></h2><p><code>try-catch-finally</code>中<code>catch</code>部分在执行时会将异常赋给一个变量，这个变量会被构建成一个运行时作用域内的新的变量。</p><p>切忌：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> object = [<span class="string">'foo'</span>, <span class="string">'bar'</span>], i;  </span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>, len = object.length; i &lt;len; i++) &#123;  </span><br><span class="line">    <span class="keyword">try</span> &#123;  </span><br><span class="line">        <span class="comment">// do something that throws an exception </span></span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">catch</span> (e) &#123;   </span><br><span class="line">        <span class="comment">// handle exception  </span></span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>而应该：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> object = [<span class="string">'foo'</span>, <span class="string">'bar'</span>], i;  </span><br><span class="line"><span class="keyword">try</span> &#123; </span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>, len = object.length; i &lt;len; i++) &#123;  </span><br><span class="line">        <span class="comment">// do something that throws an exception </span></span><br><span class="line">    &#125; </span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">catch</span> (e) &#123;   </span><br><span class="line">    <span class="comment">// handle exception  </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="41、使用XMLHttpRequests时注意设置超时"><a href="#41、使用XMLHttpRequests时注意设置超时" class="headerlink" title="41、使用XMLHttpRequests时注意设置超时"></a>41、使用<code>XMLHttpRequests</code>时注意设置超时</h2><p>XMLHttpRequests在执行时，当长时间没有响应（如出现网络问题等）时，应该中止掉连接，可以通过setTimeout()来完成这个工作：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> xhr = <span class="keyword">new</span> XMLHttpRequest (); </span><br><span class="line">xhr.onreadystatechange = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;  </span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.readyState == <span class="number">4</span>) &#123;  </span><br><span class="line">        clearTimeout(timeout);  </span><br><span class="line">        <span class="comment">// do something with response data </span></span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="keyword">var</span> timeout = setTimeout( <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;  </span><br><span class="line">    xhr.abort(); <span class="comment">// call error callback  </span></span><br><span class="line">&#125;, <span class="number">60</span>*<span class="number">1000</span> <span class="comment">/* timeout after a minute */</span> ); </span><br><span class="line">xhr.open(<span class="string">'GET'</span>, url, <span class="literal">true</span>);  </span><br><span class="line">xhr.send();</span><br></pre></td></tr></table></figure><p>同时需要注意的是，不要同时发起多个XMLHttpRequests请求。</p><h2 id="42、处理WebSocket的超时"><a href="#42、处理WebSocket的超时" class="headerlink" title="42、处理WebSocket的超时"></a>42、处理<code>WebSocket</code>的超时</h2><p>通常情况下，WebSocket连接创建后，如果30秒内没有任何活动，服务器端会对连接进行超时处理，防火墙也可以对单位周期没有活动的连接进行超时处理。</p><p>为了防止这种情况的发生，可以每隔一定时间，往服务器发送一条空的消息。可以通过下面这两个函数来实现这个需求，一个用于使连接保持活动状态，另一个专门用于结束这个状态。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> timerID = <span class="number">0</span>; </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">keepAlive</span>(<span class="params"></span>) </span>&#123; </span><br><span class="line">    <span class="keyword">var</span> timeout = <span class="number">15000</span>;  </span><br><span class="line">    <span class="keyword">if</span> (webSocket.readyState == webSocket.OPEN) &#123;  </span><br><span class="line">        webSocket.send(<span class="string">''</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line">    timerId = setTimeout(keepAlive, timeout);  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">cancelKeepAlive</span>(<span class="params"></span>) </span>&#123;  </span><br><span class="line">    <span class="keyword">if</span> (timerId) &#123;  </span><br><span class="line">        cancelTimeout(timerId);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>keepAlive()函数可以放在WebSocket连接的onOpen()方法的最后面，cancelKeepAlive()放在onClose()方法的最末尾。</p><h2 id="43、时间注意原始操作符比函数调用快，使用VanillaJS"><a href="#43、时间注意原始操作符比函数调用快，使用VanillaJS" class="headerlink" title="43、时间注意原始操作符比函数调用快，使用VanillaJS"></a>43、时间注意原始操作符比函数调用快，使用<code>VanillaJS</code></h2><p>比如，一般不要这样：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> min = <span class="built_in">Math</span>.min(a,b); </span><br><span class="line">A.push(v);</span><br></pre></td></tr></table></figure><p>可以这样来代替：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> min = a &lt; b ? a : b; </span><br><span class="line">A[A.length] = v;</span><br></pre></td></tr></table></figure><h2 id="44、开发时注意代码结构，上线前检查并压缩JavaScript代码"><a href="#44、开发时注意代码结构，上线前检查并压缩JavaScript代码" class="headerlink" title="44、开发时注意代码结构，上线前检查并压缩JavaScript代码"></a>44、开发时注意代码结构，上线前检查并压缩<code>JavaScript</code>代码</h2><p>别忘了在写代码时使用一个代码美化工具。使用JSLint(一个语法检查工具)并且在上线前压缩代码（比如使用JSMin）。</p><p>注：现在代码压缩一般推荐 UglifyJS (<a href="https://github.com/mishoo/UglifyJS2" target="_blank" rel="noopener">https://github.com/mishoo/UglifyJS2</a>)</p><h2 id="45、JavaScript博大精深，这里有些不错的学习资源"><a href="#45、JavaScript博大精深，这里有些不错的学习资源" class="headerlink" title="45、JavaScript博大精深，这里有些不错的学习资源"></a>45、<code>JavaScript</code>博大精深，这里有些不错的学习资源</h2><ul><li>Code Academy资源：<a href="http://www.codecademy.com/tracks/javascript" target="_blank" rel="noopener">http://www.codecademy.com/tracks/javascript</a></li><li>Marjin Haverbekex编写的Eloquent JavaScript：<a href="http://eloquentjavascript.net/" target="_blank" rel="noopener">http://eloquentjavascript.net/</a></li><li>John Resig编写的Advanced JavaScript：<a href="http://ejohn.org/apps/learn/" target="_blank" rel="noopener">http://ejohn.org/apps/learn/</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;JavaScript是一个绝冠全球的编程语言，可用于Web开发、移动应用开发（PhoneGap、Appcelerator）、服务器端开发（Node.js和Wakanda）等等。JavaScript还是很多新手踏入编程世界的第一个语言。既可以用来显示浏览器中的简单提示框，也可以通过nodebot或nodruino来控制机器人。能够编写结构清晰、性能高效的JavaScript代码的开发人员，现如今已成了招聘市场最受追捧的人。&lt;/p&gt;
&lt;p&gt;在这篇文章里，我将分享一些JavaScript的技巧、秘诀和最佳实践，除了少数几个外，不管是浏览器的JavaScript引擎，还是服务器端JavaScript解释器，均适用。&lt;/p&gt;
&lt;p&gt;本文中的示例代码，通过了在Google Chrome 30最新版（V8 3.20.17.15）上的测试。&lt;/p&gt;
    
    </summary>
    
      <category term="javascript" scheme="http://007sair.github.io/categories/javascript/"/>
    
    
      <category term="javascript" scheme="http://007sair.github.io/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>如何在Mac OS中启动IPv6</title>
    <link href="http://007sair.github.io/2018/02/01/%E5%A6%82%E4%BD%95%E5%9C%A8Mac%20OS%E4%B8%AD%E5%90%AF%E5%8A%A8IPv6/"/>
    <id>http://007sair.github.io/2018/02/01/如何在Mac OS中启动IPv6/</id>
    <published>2018-02-01T15:56:23.000Z</published>
    <updated>2018-07-26T07:08:26.520Z</updated>
    
    <content type="html"><![CDATA[<p>在使用<code>xx-net</code>时，遇到一个瓶颈问题：开启<code>IPv6</code>，记录如下~</p><h2 id="一、安装miredo和tuntaposx"><a href="#一、安装miredo和tuntaposx" class="headerlink" title="一、安装miredo和tuntaposx"></a>一、安装<code>miredo</code>和<code>tuntaposx</code></h2><p>进入<a href="https://github.com/XX-net/XX-Net/wiki/IPv6-Mac" target="_blank" rel="noopener">IPv6 Mac</a>，使用的第一种方法<code>teredo</code>。</p><a id="more"></a><p>先安装<code>miredo</code>，但是我的mac版本是<code>10.13.1</code>，提示软件与系统不兼容，处理方法：</p><ol><li>重启<code>mac</code>，进入恢复模式（重启后长按<code>Command + R</code>）,<code>x</code>掉中间的弹层；</li><li>在<code>顶部bar</code>中打开<code>终端</code>打开，输入<code>csrutil disable</code>；</li><li>重启<code>mac</code>。</li></ol><p>再安装<code>tuntaposx</code>，然后在系统偏好设置最下面有个<code>Miredo</code>，打开后是绿灯就b表示安装成功。</p><h2 id="二、安装chrome扩展程序"><a href="#二、安装chrome扩展程序" class="headerlink" title="二、安装chrome扩展程序"></a>二、安装<code>chrome</code>扩展程序</h2><ol><li>在chrome浏览器中输入<code>chrome://extensions</code>；</li><li>打开<code>XX-Net/SwitchyOmega/</code>目录，把<code>SwitchyOmega.crx</code>拖入第1步的页面内；</li><li>安装好后在地址栏的右侧会出现SwitchyOmega图标，点<code>选项</code>；</li><li>打开后左侧选择<code>导入/导出</code>，在右侧选项中选择<code>从备份文件中恢复</code>，选择<code>XX-Net/SwitchyOmega/OmegaOptions.bak</code>；</li><li>左侧选择<code>GAE-Proxy自动切换</code>，点<code>立即更新情景模式</code>。</li></ol><blockquote><p><a href="https://github.com/XX-net/XX-Net/wiki/%E4%BD%BF%E7%94%A8Chrome%E6%B5%8F%E8%A7%88%E5%99%A8" target="_blank" rel="noopener">点这里进入详细文档</a></p></blockquote><h2 id="三、启动xx-net"><a href="#三、启动xx-net" class="headerlink" title="三、启动xx-net"></a>三、启动<code>xx-net</code></h2><p><code>XX-Net</code>目录下双击<code>start</code>或者命令行输入<code>./start</code>，启动后会弹出本地页面<code>http://localhost:8085/?module=gae_proxy&amp;menu=status</code></p><p>点开<code>顶部bar</code>任务图标，选择<code>Enabel Auto GAEProxy</code>或者<code>Enable Global GAEProxy</code>，一个是自动代理，一个是全局代理。</p><p>然后点开地址栏右侧的<code>SwitchyOmega</code>，选择<code>GAE-Proxy自动切换</code>即可。</p><p>在本地页面中出现<code>XX-Net 3.9.6，一切正常，你可以访问真正的互联网了。</code>，就表示可以科学上网了~</p><p><strong>注意</strong>，如果合上电脑再打开，发现程序失效，请重启<code>XX-Net</code></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;在使用&lt;code&gt;xx-net&lt;/code&gt;时，遇到一个瓶颈问题：开启&lt;code&gt;IPv6&lt;/code&gt;，记录如下~&lt;/p&gt;
&lt;h2 id=&quot;一、安装miredo和tuntaposx&quot;&gt;&lt;a href=&quot;#一、安装miredo和tuntaposx&quot; class=&quot;headerlink&quot; title=&quot;一、安装miredo和tuntaposx&quot;&gt;&lt;/a&gt;一、安装&lt;code&gt;miredo&lt;/code&gt;和&lt;code&gt;tuntaposx&lt;/code&gt;&lt;/h2&gt;&lt;p&gt;进入&lt;a href=&quot;https://github.com/XX-net/XX-Net/wiki/IPv6-Mac&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;IPv6 Mac&lt;/a&gt;，使用的第一种方法&lt;code&gt;teredo&lt;/code&gt;。&lt;/p&gt;
    
    </summary>
    
      <category term="tool" scheme="http://007sair.github.io/categories/tool/"/>
    
    
      <category term="xx-net" scheme="http://007sair.github.io/tags/xx-net/"/>
    
      <category term="google" scheme="http://007sair.github.io/tags/google/"/>
    
  </entry>
  
  <entry>
    <title>git命令集</title>
    <link href="http://007sair.github.io/2018/01/24/git%E5%91%BD%E4%BB%A4%E9%9B%86/"/>
    <id>http://007sair.github.io/2018/01/24/git命令集/</id>
    <published>2018-01-24T06:04:23.000Z</published>
    <updated>2018-07-26T07:08:26.520Z</updated>
    
    <content type="html"><![CDATA[<h3 id="查看git当前用户名"><a href="#查看git当前用户名" class="headerlink" title="查看git当前用户名"></a>查看git当前用户名</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --get user.name</span><br></pre></td></tr></table></figure><h3 id="查看git上个人代码量"><a href="#查看git上个人代码量" class="headerlink" title="查看git上个人代码量"></a>查看git上个人代码量</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> --author=<span class="string">"<span class="variable">$(git config --get user.name)</span>"</span> --pretty=tformat: --numstat | awk <span class="string">'&#123; add += $1; subs += $2; loc += $1 - $2 &#125; END &#123; printf "added lines: %s, removed lines: %s, total lines: %s\n", add, subs, loc &#125;'</span></span><br></pre></td></tr></table></figure><a id="more"></a><h3 id="统计每个人的增删行数"><a href="#统计每个人的增删行数" class="headerlink" title="统计每个人的增删行数"></a>统计每个人的增删行数</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> --format=<span class="string">'%aN'</span> | sort -u | <span class="keyword">while</span> <span class="built_in">read</span> name; <span class="keyword">do</span> <span class="built_in">echo</span> -en <span class="string">"<span class="variable">$name</span>\t"</span>; git <span class="built_in">log</span> --author=<span class="string">"<span class="variable">$name</span>"</span> --pretty=tformat: --numstat | awk <span class="string">'&#123; add += $1; subs += $2; loc += $1 - $2 &#125; END &#123; printf "added lines: %s, removed lines: %s, total lines: %s\n", add, subs, loc &#125;'</span> -; <span class="keyword">done</span></span><br></pre></td></tr></table></figure><h3 id="查看仓库提交者排名前-5"><a href="#查看仓库提交者排名前-5" class="headerlink" title="查看仓库提交者排名前 5"></a>查看仓库提交者排名前 5</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> --pretty=<span class="string">'%aN'</span> | sort | uniq -c | sort -k1 -n -r | head -n 5</span><br></pre></td></tr></table></figure><p>查看全部排名只需去掉<code>head</code>管道</p><h3 id="贡献者统计"><a href="#贡献者统计" class="headerlink" title="贡献者统计"></a>贡献者统计</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> --pretty=<span class="string">'%aN'</span> | sort -u | wc -l</span><br></pre></td></tr></table></figure><h3 id="提交数统计"><a href="#提交数统计" class="headerlink" title="提交数统计"></a>提交数统计</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> --oneline | wc -l</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;查看git当前用户名&quot;&gt;&lt;a href=&quot;#查看git当前用户名&quot; class=&quot;headerlink&quot; title=&quot;查看git当前用户名&quot;&gt;&lt;/a&gt;查看git当前用户名&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;git config --get user.name&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;查看git上个人代码量&quot;&gt;&lt;a href=&quot;#查看git上个人代码量&quot; class=&quot;headerlink&quot; title=&quot;查看git上个人代码量&quot;&gt;&lt;/a&gt;查看git上个人代码量&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;git &lt;span class=&quot;built_in&quot;&gt;log&lt;/span&gt; --author=&lt;span class=&quot;string&quot;&gt;&quot;&lt;span class=&quot;variable&quot;&gt;$(git config --get user.name)&lt;/span&gt;&quot;&lt;/span&gt; --pretty=tformat: --numstat | awk &lt;span class=&quot;string&quot;&gt;&#39;&amp;#123; add += $1; subs += $2; loc += $1 - $2 &amp;#125; END &amp;#123; printf &quot;added lines: %s, removed lines: %s, total lines: %s\n&quot;, add, subs, loc &amp;#125;&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="tool" scheme="http://007sair.github.io/categories/tool/"/>
    
    
      <category term="git" scheme="http://007sair.github.io/tags/git/"/>
    
  </entry>
  
  <entry>
    <title>charles使用笔记</title>
    <link href="http://007sair.github.io/2018/01/17/Charles-%E5%A4%87%E5%BF%98/"/>
    <id>http://007sair.github.io/2018/01/17/Charles-备忘/</id>
    <published>2018-01-17T08:36:17.000Z</published>
    <updated>2018-07-26T07:08:26.520Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>记录使用charles的过程与遇到的一些坑。</p></blockquote><h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><p>在<code>Charles</code> <a href="http://www.charlesproxy.com" target="_blank" rel="noopener">官方网站</a>下载最新版的<code>Charles</code>安装包，是一个 dmg 后缀的文件。打开后将<code>Charles</code>拖到 Application 目录下即完成安装。本人版本是<code>4.0.2</code>。</p><a id="more"></a><h2 id="开始抓包"><a href="#开始抓包" class="headerlink" title="开始抓包"></a>开始抓包</h2><h3 id="将Charles设置成系统代理"><a href="#将Charles设置成系统代理" class="headerlink" title="将Charles设置成系统代理"></a>将<code>Charles</code>设置成系统代理</h3><p>之前提到，<code>Charles</code> 是通过将自己设置成代理服务器来完成封包截取的，所以使用<code>Charles</code>的第一步是将其设置成系统的代理服务器。</p><p>启动<code>Charles</code>后，第一次<code>Charles</code>会请求你给它设置系统代理的权限。你可以输入登录密码授予<code>Charles</code>该权限。你也可以忽略该请求，然后在需要将<code>Charles</code>设置成系统代理时，选择菜单中的 <code>&quot;Proxy&quot; -&gt; &quot;Mac OS X Proxy&quot;</code> 来将<code>Charles</code>设置成系统代理。如下所示：</p><p><img src="/images/charles/1.png" alt="图1" width="260"></p><p>之后，你就可以看到源源不断的网络请求出现在<code>Charles</code>的界面中。</p><p>需要注意的是，<code>Chrome</code> 和 <code>Firefox</code> 浏览器默认并不使用系统的代理服务器设置，而<code>Charles</code>是通过将自己设置成代理服务器来完成封包截取的，所以在默认情况下无法截取 <code>Chrome</code> 和 <code>Firefox</code> 浏览器的网络通讯内容。如果你需要截取的话，在 <code>Chrome</code> 中设置成使用系统的代理服务器设置即可，或者直接将代理服务器设置成 <code>127.0.0.1:8888</code> 也可达到相同效果。</p><blockquote><p>本人使用的<a href="https://github.com/XX-net/XX-Net/wiki/%E4%BD%BF%E7%94%A8Chrome%E6%B5%8F%E8%A7%88%E5%99%A8" target="_blank" rel="noopener">XX-net</a>代理，可在chrome下通过此插件设置系统代理</p></blockquote><h3 id="抓取手机数据包"><a href="#抓取手机数据包" class="headerlink" title="抓取手机数据包"></a>抓取手机数据包</h3><p><code>Charles</code> 通常用来截取本地网络封包，但是当我们需要时，我们也可以用来截取其它设备上的网络请求。下面我就以 <code>iPhone</code> 为例，讲解如何进行相应操作。</p><h4 id="charles上的设置"><a href="#charles上的设置" class="headerlink" title="charles上的设置"></a><code>charles</code>上的设置</h4><p>要截取 <code>iPhone</code> 上的网络请求，我们首先需要将<code>Charles</code>的代理功能打开。在<code>Charles</code>的菜单栏上选择<code>&quot;Proxy&quot;-&gt;&quot;Proxy Settings&quot;</code>，填入代理端口 <code>8888</code>，并且勾上 <code>&quot;Enable transparent HTTP proxying&quot;</code> 就完成了在<code>Charles</code>上的设置。如下图所示:</p><p><img src="/images/charles/2.png" alt="图2" width="500"></p><h4 id="手机上的设置"><a href="#手机上的设置" class="headerlink" title="手机上的设置"></a>手机上的设置</h4><p>首先我们需要获取<code>Charles</code>运行所在电脑的<code>IP</code>地址，<code>Charles</code>的顶部菜单的 <code>&quot;Help&quot;-&gt;&quot;Local IP Address&quot;</code>，即可在弹出的对话框中看到 <code>IP</code> 地址，如下图所示：</p><p><img src="/images/charles/3.png" alt="图3" width="500"></p><p>在 <code>iPhone</code> 的 <code>&quot;设置&quot; -&gt; &quot;无线局域网&quot;</code> 中，可以看到当前连接的<code>wifi</code>名，通过点击右边的详情键，可以看到当前连接上的<code>wifi</code>的详细信息，包括 <code>IP</code> 地址，子网掩码等信息。在其最底部有<code>「HTTP 代理」</code>一项，我们将其切换成手动，然后填上<code>Charles</code>运行所在的电脑的 <code>IP</code>，以及端口号 <code>8888</code>，如下图所示：</p><p><img src="/images/charles/4.png" alt="图4" width="300"></p><p>设置好之后，我们打开<code>iPhone</code>上的任意需要网络通讯的程序，就可以看到<code>Charles</code>弹出<code>iPhone</code>请求连接的确认菜单（如下图所示），点击 <code>&quot;Allow&quot;</code> 即可完成设置。</p><p><img src="/images/charles/5.png" alt="图5" width="500"></p><h2 id="截取https"><a href="#截取https" class="headerlink" title="截取https"></a>截取<code>https</code></h2><h3 id="安装证书"><a href="#安装证书" class="headerlink" title="安装证书"></a>安装证书</h3><p>如果你需要截取分析<code>Https</code>协议相关的内容。那么需要安装<code>Charles</code>的 <code>CA</code> 证书。具体步骤如下。</p><p>首先我们需要在 <code>Mac</code> 电脑上安装证书。点击<code>Charles</code>的顶部菜单，选择 <code>&quot;Help&quot; -&gt; &quot;SSL Proxying&quot; -&gt; &quot;Install</code>Charles<code>Root Certificate&quot;</code>，然后输入系统的帐号密码，即可在 <code>KeyChain</code> 看到添加好的证书。如下图所示：</p><p><img src="/images/charles/6.png" alt="图6" width="100%"></p><h4 id="电脑端"><a href="#电脑端" class="headerlink" title="电脑端"></a>电脑端</h4><p>选择_图6_ <strong>红框部分</strong>，然后需要对证书信任，之后会弹出钥匙串，如果不弹出，请自行打开钥匙串，如下图：</p><p><img src="/images/charles/7.png" alt="图7" width=""></p><p>双击证书，选择始终信任</p><p><img src="/images/charles/8.png" alt="图8" width=""></p><h4 id="手机端"><a href="#手机端" class="headerlink" title="手机端"></a>手机端</h4><p>选择_图6_ <strong>绿框部分</strong>，在手机上输入弹出框中的链接地址进行安装</p><p><img src="/images/charles/9.png" alt="图9" width=""></p><h3 id="添加SSL-Proxying"><a href="#添加SSL-Proxying" class="headerlink" title="添加SSL Proxying"></a>添加<code>SSL Proxying</code></h3><p>证书安装完毕后，还需要对SSL做以下处理：</p><ol><li>进入<code>&quot;Proxy&quot; -&gt; &quot;SSL Proxying Settings&quot;</code></li><li>勾选<code>&quot;Enable SSL Proxying&quot;</code>，并点击下方的<code>Add</code></li><li>在弹出的<code>&quot;Edit Location&quot;</code>中，输入<code>Host</code>和<code>Port</code>都为<code>&quot;＊&quot;</code>（看提示这样配置可以抓到所有<code>https</code>的包），然后进行添加</li></ol><p>以上设置完毕后就可以正常抓取数据了。</p><h2 id="代理本地文件"><a href="#代理本地文件" class="headerlink" title="代理本地文件"></a>代理本地文件</h2><p>我们在查找线上bug时，由于文件是压缩版或请求数据不可控，导致无法直接调试，此时一般会选择在本地环境模拟线上数据进行调试。</p><p>现在有了charles的<code>Map Local</code>功能，可以将线上文件代理成本地文件，达到修改本地文件，访问线上地址即可查看效果，步骤如下图：</p><p><img src="/images/charles/10.jpg" alt="点击查看大图" width=""></p><p>window中的Fiddler设置参考这篇<a href="https://www.jianshu.com/p/3e3aa1cf4850" target="_blank" rel="noopener">文章</a></p><h2 id="踩过的坑"><a href="#踩过的坑" class="headerlink" title="踩过的坑"></a>踩过的坑</h2><h3 id="电脑端无法抓包"><a href="#电脑端无法抓包" class="headerlink" title="电脑端无法抓包"></a>电脑端无法抓包</h3><p><strong>问题原因：</strong></p><p>确认两个代理设置是否正确，一是<code>charles</code>设置为系统代理：<code>Mac OS X Proxy</code>，二是浏览器也使用的<code>系统代理</code>。</p><p>若以上确认无误。分析为本地开启了vpn等翻墙工具。</p><p><strong>解决方法：</strong></p><ol><li>关闭vpn翻墙工具</li><li>打开<code>wifi</code>中的<code>网络偏好设置</code>-&gt;<code>高级</code>-&gt;<code>代理</code>-&gt;不勾选 <code>自动代理配置</code></li><li>重启charles</li></ol><h3 id="手机上安装了证书，仍然无法抓包？"><a href="#手机上安装了证书，仍然无法抓包？" class="headerlink" title="手机上安装了证书，仍然无法抓包？"></a>手机上安装了证书，仍然无法抓包？</h3><p><code>iphone</code>系统更新到<code>iOS 10.3</code>后，https的请求都会失败，提示错误信息为<code>Failure SSLHandshake: Received fatal alert: unknown_ca</code>和<code>You may need to configure your browser or application to trust the Charles Root Certificate.</code></p><p>然而之前任何问题都没有，并且相关设置都正确：Mac上安装了Charles的根证书，并且设置了始终信任，然后手机上也登录了<code>http://chls.pro/ssl</code>安装了描述文件,一切都按正常程序走的,但是错误始终无法解决。</p><p><strong>问题原因：</strong></p><p>虽然charles的根证书已经在安装列表中显示,但它是被关闭的。在iOS 10.3之前,当你将安装一个自定义证书,iOS会默认信任,不需要进一步的设置。而iOS 10.3之后,安装新的自定义证书默认是不受信任的。如果要信任已安装的自定义证书,需要手动打开开关以信任证书。</p><p><strong>解决方法：</strong></p><p>设置-&gt;通用-&gt;关于本机-&gt;证书信任设置-&gt;找到<code>charles proxy custom root certificate</code>然后信任该证书即可。</p><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul><li><a href="http://blog.devtang.com/2015/11/14/charles-introduction/#%E6%88%AA%E5%8F%96-iPhone-%E4%B8%8A%E7%9A%84%E7%BD%91%E7%BB%9C%E5%B0%81%E5%8C%85" target="_blank" rel="noopener">Charles从入门到精通</a></li><li><a href="http://blog.csdn.net/zhouzhoujianquan/article/details/52585077" target="_blank" rel="noopener">Charles使用详解</a></li><li><a href="http://blog.csdn.net/songzhuo1991/article/details/70157407" target="_blank" rel="noopener">Mac下使用charles遇到的问题以及解决办法</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;记录使用charles的过程与遇到的一些坑。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;准备工作&quot;&gt;&lt;a href=&quot;#准备工作&quot; class=&quot;headerlink&quot; title=&quot;准备工作&quot;&gt;&lt;/a&gt;准备工作&lt;/h2&gt;&lt;p&gt;在&lt;code&gt;Charles&lt;/code&gt; &lt;a href=&quot;http://www.charlesproxy.com&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;官方网站&lt;/a&gt;下载最新版的&lt;code&gt;Charles&lt;/code&gt;安装包，是一个 dmg 后缀的文件。打开后将&lt;code&gt;Charles&lt;/code&gt;拖到 Application 目录下即完成安装。本人版本是&lt;code&gt;4.0.2&lt;/code&gt;。&lt;/p&gt;
    
    </summary>
    
      <category term="tool" scheme="http://007sair.github.io/categories/tool/"/>
    
    
      <category term="charles" scheme="http://007sair.github.io/tags/charles/"/>
    
  </entry>
  
  <entry>
    <title>gulp-rev版本替换插件</title>
    <link href="http://007sair.github.io/2017/09/14/gulp-rev/"/>
    <id>http://007sair.github.io/2017/09/14/gulp-rev/</id>
    <published>2017-09-13T16:00:00.000Z</published>
    <updated>2018-07-26T07:08:26.519Z</updated>
    
    <content type="html"><![CDATA[<p>脚手架中运行<code>gulp build</code>命令时会用到版本号插件，插件使用方法如下：</p><h2 id="实现原理"><a href="#实现原理" class="headerlink" title="实现原理"></a>实现原理</h2><ol><li>解析<code>js</code>和<code>css</code>文件；</li><li>通过对<code>js</code>,<code>css</code>文件内容进行<code>hash</code>运算，生成一个文件的唯一<code>hash</code>字符串(如果文件修改则<code>hash</code>号会发生变化)；</li><li>替换<code>html</code>中的<code>js</code>,<code>css</code>文件名，生成一个带版本号的文件名。</li></ol><a id="more"></a><h3 id="gulp-rev"><a href="#gulp-rev" class="headerlink" title="gulp-rev"></a><code>gulp-rev</code></h3><p>将资源文件（<code>css</code>、<code>js</code>、<code>images</code>等）解析，生成一个<code>rev.json</code>，大致如下：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"main.css"</span>: <span class="string">"main-202dd5cd78.css"</span>,</span><br><span class="line">  <span class="string">"svg.css"</span>: <span class="string">"svg-62b1ff821d.css"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="gulp-rev-collector"><a href="#gulp-rev-collector" class="headerlink" title="gulp-rev-collector"></a><code>gulp-rev-collector</code></h3><p>根据<code>rev.json</code>文件，将<code>html</code>内所有对应关系的资源文件名替换成<code>json</code>内的值</p><h3 id="插件修改"><a href="#插件修改" class="headerlink" title="插件修改"></a>插件修改</h3><p>工具对文件的操作直接将文件名进行了修改，实际开发我们预想的rev.json应该是这样的</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"main.css"</span>: <span class="string">"main.css?v=202dd5cd78"</span>,</span><br><span class="line">  <span class="string">"svg.css"</span>: <span class="string">"svg.css?v=62b1ff821d"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>修改方法：</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">打开node_modules\gulp-rev\index.js</span><br><span class="line">第144行 manifest[originalFile] = revisionedFile;</span><br><span class="line">更新为: manifest[originalFile] = originalFile + &apos;?v=&apos; + file.revHash;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">打开nodemodules\gulp-rev\nodemodules\rev-path\index.js</span><br><span class="line">10行 return filename + &apos;-&apos; + hash + ext;</span><br><span class="line">更新为: return filename + ext;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">打开node_modules\gulp-rev-collector\index.js</span><br><span class="line">40行 let cleanReplacement =  path.basename(json[key]).replace(new RegExp( opts.revSuffix ), &apos;&apos; );</span><br><span class="line">更新为: let cleanReplacement =  path.basename(json[key]).split(&apos;?&apos;)[0]</span><br></pre></td></tr></table></figure><h2 id="踩到的坑"><a href="#踩到的坑" class="headerlink" title="踩到的坑"></a>踩到的坑</h2><p><strong>版本问题：</strong></p><p><code>gulp-rev</code>的版本<code>8..0.0</code>在我的<a href="https://github.com/007sair/hero" target="_blank" rel="noopener">脚手架</a>的生成不了<code>rev</code>的<code>json</code>文件</p><p>解决方法：使用脚手架里的这个版本<code>&quot;gulp-rev&quot;: &quot;^7.1.2&quot;,</code></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;脚手架中运行&lt;code&gt;gulp build&lt;/code&gt;命令时会用到版本号插件，插件使用方法如下：&lt;/p&gt;
&lt;h2 id=&quot;实现原理&quot;&gt;&lt;a href=&quot;#实现原理&quot; class=&quot;headerlink&quot; title=&quot;实现原理&quot;&gt;&lt;/a&gt;实现原理&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;解析&lt;code&gt;js&lt;/code&gt;和&lt;code&gt;css&lt;/code&gt;文件；&lt;/li&gt;
&lt;li&gt;通过对&lt;code&gt;js&lt;/code&gt;,&lt;code&gt;css&lt;/code&gt;文件内容进行&lt;code&gt;hash&lt;/code&gt;运算，生成一个文件的唯一&lt;code&gt;hash&lt;/code&gt;字符串(如果文件修改则&lt;code&gt;hash&lt;/code&gt;号会发生变化)；&lt;/li&gt;
&lt;li&gt;替换&lt;code&gt;html&lt;/code&gt;中的&lt;code&gt;js&lt;/code&gt;,&lt;code&gt;css&lt;/code&gt;文件名，生成一个带版本号的文件名。&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
      <category term="tool" scheme="http://007sair.github.io/categories/tool/"/>
    
    
      <category term="坑" scheme="http://007sair.github.io/tags/%E5%9D%91/"/>
    
      <category term="gulp" scheme="http://007sair.github.io/tags/gulp/"/>
    
      <category term="构建" scheme="http://007sair.github.io/tags/%E6%9E%84%E5%BB%BA/"/>
    
  </entry>
  
  <entry>
    <title>另辟蹊径之jsonp</title>
    <link href="http://007sair.github.io/2017/09/14/jsonp-fun/"/>
    <id>http://007sair.github.io/2017/09/14/jsonp-fun/</id>
    <published>2017-09-13T16:00:00.000Z</published>
    <updated>2018-07-26T07:08:26.519Z</updated>
    
    <content type="html"><![CDATA[<p>一段请求jsonp的接口返回的数据，如下：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'callback(&#123;"name":"sair","data":"2017/09/14 14:31:00"&#125;)'</span></span><br></pre></td></tr></table></figure><a id="more"></a><p>这段数据在jq中直接被处理成了json对象，如：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">$.ajax(&#123;</span><br><span class="line">    type: <span class="string">"get"</span>,</span><br><span class="line">    url: <span class="string">"http://x.xxx.xxx"</span>,</span><br><span class="line">    dataType: <span class="string">"jsonp"</span>,</span><br><span class="line">    jsonp: <span class="string">"callback"</span>,</span><br><span class="line">    jsonpCallback:<span class="string">"jq_success"</span>,</span><br><span class="line">    success: <span class="function"><span class="keyword">function</span>(<span class="params">res</span>) </span>&#123;</span><br><span class="line">        <span class="comment">//res =&gt; &#123;"name":"sair","data":"2017/09/14 14:31:00"&#125;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    error: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'fail'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">jsonp: 传递给请求处理程序或页面的，用以获得jsonp回调函数名的参数名(一般默认为:callback)</span></span><br><span class="line"><span class="comment">jsonpCallback: 自定义的jsonp回调函数名称，默认为jQuery自动生成的随机函数名，</span></span><br><span class="line"><span class="comment">也可以写"?"，jQuery会自动为你处理数据</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p><strong>那，除了jq，我们还有其他处理方法吗？</strong></p><h2 id="eval"><a href="#eval" class="headerlink" title="eval"></a>eval</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">eval</span>(<span class="string">'('</span> + <span class="string">'callback(&#123;"name":"sair","data":"2017/09/14 14:31:00"&#125;)'</span> + <span class="string">')'</span>);</span><br></pre></td></tr></table></figure><p>这样就变向的执行<code>callback</code></p><h2 id="new-Function"><a href="#new-Function" class="headerlink" title="new Function()"></a>new Function()</h2><p>废话不多说，上代码：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//这个函数为js自定义，修改数据在这里修改</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">callback</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(obj.name);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 封装的函数，3个参数</span></span><br><span class="line"><span class="comment"> * fn：上面声明的callback函数</span></span><br><span class="line"><span class="comment"> * fnName：callback的字符串类型</span></span><br><span class="line"><span class="comment"> * jsonp：jsonp返回的数据</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">jsonFunc</span>(<span class="params">fn, fnName, jsonp</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> sFunc = <span class="string">'function('</span>+ fnName +<span class="string">')&#123;'</span>+ jsonp +<span class="string">'&#125;'</span>;</span><br><span class="line">    <span class="keyword">var</span> fnFunc =  <span class="keyword">new</span> <span class="built_in">Function</span>(<span class="string">'return '</span> + sFunc)();</span><br><span class="line">    fnFunc(fn);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//调用此函数会立即执行上面的callback函数</span></span><br><span class="line">jsonFunc(callback, <span class="string">'callback'</span>, <span class="string">'callback(&#123;"name":"xxxx"&#125;)'</span>)</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;一段请求jsonp的接口返回的数据，如下：&lt;/p&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;&#39;callback(&amp;#123;&quot;name&quot;:&quot;sair&quot;,&quot;data&quot;:&quot;2017/09/14 14:31:00&quot;&amp;#125;)&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="javascript" scheme="http://007sair.github.io/categories/javascript/"/>
    
    
      <category term="javascript" scheme="http://007sair.github.io/tags/javascript/"/>
    
      <category term="jsonp" scheme="http://007sair.github.io/tags/jsonp/"/>
    
  </entry>
  
  <entry>
    <title>em与rem笔记</title>
    <link href="http://007sair.github.io/2017/09/06/rem-em/"/>
    <id>http://007sair.github.io/2017/09/06/rem-em/</id>
    <published>2017-09-05T16:00:00.000Z</published>
    <updated>2018-07-26T07:08:26.519Z</updated>
    
    <content type="html"><![CDATA[<h2 id="em"><a href="#em" class="headerlink" title="em"></a>em</h2><p>相对于父元素的<code>font-size</code></p><p>计算公式：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1 ÷ 父元素的font-size × 需要转换的像素值 = em值</span><br></pre></td></tr></table></figure><p>如果元素设置了字体大小，此元素的其他属性，如：<code>border</code>、<code>width</code>、<code>height</code>、<code>padding</code>、<code>margin</code>、<code>line-height</code>计算就需要安装这个公式：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1 ÷ 元素自身的font-size × 需要转换的像素值 = em值</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="rem"><a href="#rem" class="headerlink" title="rem"></a>rem</h2><p>相对于根元素(<code>html</code>)的<code>font-size</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getRem</span>(<span class="params">pwidth, prem</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> html = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"html"</span>)[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">var</span> oWidth = <span class="built_in">document</span>.body.clientWidth || <span class="built_in">document</span>.documentElement.clientWidth;</span><br><span class="line">    html.style.fontSize = oWidth / pwidth * prem + <span class="string">"px"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 750: 设计稿大小</span></span><br><span class="line"><span class="comment">     * 75：基数，将750设计稿分成10份，每份75px，页面宽度为750时，1rem = 75px</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    getRem(<span class="number">750</span>, <span class="number">75</span>)</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">window</span>.onresize = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    getRem(<span class="number">750</span>, <span class="number">75</span>)</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;em&quot;&gt;&lt;a href=&quot;#em&quot; class=&quot;headerlink&quot; title=&quot;em&quot;&gt;&lt;/a&gt;em&lt;/h2&gt;&lt;p&gt;相对于父元素的&lt;code&gt;font-size&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;计算公式：&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1 ÷ 父元素的font-size × 需要转换的像素值 = em值&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;如果元素设置了字体大小，此元素的其他属性，如：&lt;code&gt;border&lt;/code&gt;、&lt;code&gt;width&lt;/code&gt;、&lt;code&gt;height&lt;/code&gt;、&lt;code&gt;padding&lt;/code&gt;、&lt;code&gt;margin&lt;/code&gt;、&lt;code&gt;line-height&lt;/code&gt;计算就需要安装这个公式：&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1 ÷ 元素自身的font-size × 需要转换的像素值 = em值&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="css" scheme="http://007sair.github.io/categories/css/"/>
    
    
      <category term="css" scheme="http://007sair.github.io/tags/css/"/>
    
      <category term="em" scheme="http://007sair.github.io/tags/em/"/>
    
      <category term="rem" scheme="http://007sair.github.io/tags/rem/"/>
    
  </entry>
  
  <entry>
    <title>position:sticky的用法</title>
    <link href="http://007sair.github.io/2017/09/05/sticky/"/>
    <id>http://007sair.github.io/2017/09/05/sticky/</id>
    <published>2017-09-04T16:00:00.000Z</published>
    <updated>2018-07-26T07:08:26.519Z</updated>
    
    <content type="html"><![CDATA[<h3 id="基本用法"><a href="#基本用法" class="headerlink" title="基本用法"></a>基本用法</h3><p><code>position:sticky</code>，它是相对定位（<code>position:relative</code>）和固定定位（<code>position:fixed</code>）的混合。</p><p>使用它，我们不再用监听scroll事件，即可实现导航栏滚动绝对定位的效果。</p><a id="more"></a><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.sticky</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: sticky;</span><br><span class="line">    <span class="attribute">position</span>: -webkit-sticky;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="生效条件"><a href="#生效条件" class="headerlink" title="生效条件"></a>生效条件</h3><p>需要注意的是，使用该属性有几个必要条件，否则不会生效：</p><ul><li>父元素不能<code>overflow:hidden</code>或者<code>overflow:auto</code>属性。</li><li>必须指定<code>top</code>、<code>bottom</code>、<code>left</code>、<code>right</code>4个值之一，否则只会处于相对定位</li><li>父元素的高度不能低于<code>sticky</code>元素的高度</li><li><code>sticky</code>元素仅在其父元素内生效</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;基本用法&quot;&gt;&lt;a href=&quot;#基本用法&quot; class=&quot;headerlink&quot; title=&quot;基本用法&quot;&gt;&lt;/a&gt;基本用法&lt;/h3&gt;&lt;p&gt;&lt;code&gt;position:sticky&lt;/code&gt;，它是相对定位（&lt;code&gt;position:relative&lt;/code&gt;）和固定定位（&lt;code&gt;position:fixed&lt;/code&gt;）的混合。&lt;/p&gt;
&lt;p&gt;使用它，我们不再用监听scroll事件，即可实现导航栏滚动绝对定位的效果。&lt;/p&gt;
    
    </summary>
    
      <category term="css" scheme="http://007sair.github.io/categories/css/"/>
    
    
      <category term="css" scheme="http://007sair.github.io/tags/css/"/>
    
      <category term="坑" scheme="http://007sair.github.io/tags/%E5%9D%91/"/>
    
      <category term="sticky" scheme="http://007sair.github.io/tags/sticky/"/>
    
  </entry>
  
  <entry>
    <title>我又回来啦！</title>
    <link href="http://007sair.github.io/2017/08/22/hello-world/"/>
    <id>http://007sair.github.io/2017/08/22/hello-world/</id>
    <published>2017-08-22T04:05:22.000Z</published>
    <updated>2018-07-26T07:08:26.521Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>博客顺利从<code>jekyll</code>转为<code>Hexo</code>，记录如下</p></blockquote><h2 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 启动本地环境</span></span><br><span class="line">$ hexo s -g</span><br><span class="line"></span><br><span class="line"><span class="comment"># 发布更新博客</span></span><br><span class="line">$ hexo d -g</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建新文章</span></span><br><span class="line">$ hexo new <span class="string">"pageName"</span></span><br></pre></td></tr></table></figure><p>更多命令和技巧参考<strong><a href="https://hexo.io/zh-cn/" target="_blank" rel="noopener">hexo中文官网</a></strong></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;博客顺利从&lt;code&gt;jekyll&lt;/code&gt;转为&lt;code&gt;Hexo&lt;/code&gt;，记录如下&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;常用命令&quot;&gt;&lt;a href=&quot;#常用命令&quot; class=&quot;headerlink&quot; title=&quot;常
      
    
    </summary>
    
      <category term="web" scheme="http://007sair.github.io/categories/web/"/>
    
    
      <category term="web" scheme="http://007sair.github.io/tags/web/"/>
    
      <category term="hexo" scheme="http://007sair.github.io/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>flex样式预览工具</title>
    <link href="http://007sair.github.io/2017/07/07/flex-tool/"/>
    <id>http://007sair.github.io/2017/07/07/flex-tool/</id>
    <published>2017-07-06T16:00:00.000Z</published>
    <updated>2018-07-26T07:08:26.519Z</updated>
    
    <content type="html"><![CDATA[<p>最近做项目时老是觉得要不停的查flex属性用法，甚至不爽。一怒之下写了个工具。</p><p>传送门：<a href="/demo/flex-tool.html" target="_blank">flex-tool</a></p>]]></content>
    
    <summary type="html">
    
      flex样式预览工具
    
    </summary>
    
      <category term="tool" scheme="http://007sair.github.io/categories/tool/"/>
    
    
      <category term="tool" scheme="http://007sair.github.io/tags/tool/"/>
    
      <category term="flex" scheme="http://007sair.github.io/tags/flex/"/>
    
  </entry>
  
  <entry>
    <title>VSCODE 常用快捷键</title>
    <link href="http://007sair.github.io/2017/07/05/Visual-Studio-Code-CNKEYMAP/"/>
    <id>http://007sair.github.io/2017/07/05/Visual-Studio-Code-CNKEYMAP/</id>
    <published>2017-07-04T16:00:00.000Z</published>
    <updated>2018-07-26T07:08:26.518Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p><a href="https://code.visualstudio.com/shortcuts/keyboard-shortcuts-windows.pdf" target="_blank" rel="noopener">官方版本</a></p></blockquote><h2 id="vscode快捷键有5种组合方式"><a href="#vscode快捷键有5种组合方式" class="headerlink" title="vscode快捷键有5种组合方式"></a>vscode快捷键有5种组合方式</h2><ol><li><code>Ctrl+Shift+?</code> 常规组合</li><li><code>Ctrl+K F</code> 先组合后单键组合方式</li><li><code>Ctrl+V Ctrl+V</code> 同时依赖一个按键的组合</li><li><code>Alt+mouseClick</code> 按键+鼠标点击</li><li><code>Alt+mouseDrag</code> 按键+鼠标拖拽</li></ol><h2 id="全局命令面板"><a href="#全局命令面板" class="headerlink" title="全局命令面板"></a>全局命令面板</h2><p><code>Ctrl+Shift+P/F1</code> 展示全局命令面板</p><h2 id="Ctrl-P-模式"><a href="#Ctrl-P-模式" class="headerlink" title="Ctrl+P 模式"></a>Ctrl+P 模式</h2><p>在<code>Ctrl+P</code>下输入<code>&gt;</code>又可以回到主命令框<code>Ctrl+Shift+P/F1</code>模式。</p><a id="more"></a><p>在<code>Ctrl+P</code>窗口下还可以</p><ul><li>直接输入文件名，快速打开文件</li><li><code>?</code> 列出当前可执行的动作</li><li><code>!</code> 显示ERRORS或WARNINGS，也可以<code>Ctrl+Shift+M</code></li><li><code>:</code> 跳转到行数，也可以<code>Ctrl+G</code>直接进入</li><li><code>@</code> 跳转到SYMBOL（搜索变量或者函数），也可以<code>Ctrl+Shift+O</code>直接进入</li><li><code>#</code> 根据名字查找SYMBOL，也可以<code>Ctrl+T</code></li></ul><h2 id="编辑器-amp-窗口"><a href="#编辑器-amp-窗口" class="headerlink" title="编辑器 &amp; 窗口"></a>编辑器 &amp; 窗口</h2><h3 id="打开多个窗口（多项目）"><a href="#打开多个窗口（多项目）" class="headerlink" title="打开多个窗口（多项目）"></a>打开多个窗口（多项目）</h3><ul><li>打开新编辑器窗口：<code>Ctrl+Shift+N</code></li><li>打开终端 <code>Ctrl+~</code></li><li>创建新的终端 <code>Ctrl+Shift+~</code></li></ul><h3 id="打开多个文件（多文件）"><a href="#打开多个文件（多文件）" class="headerlink" title="打开多个文件（多文件）"></a>打开多个文件（多文件）</h3><ul><li>新建文件 <code>Ctrl+N</code></li><li>打开的文件之间切换 <code>Ctrl+Tab</code>，<code>Alt+Left</code>，<code>Alt+Right</code></li><li>切出一个新的编辑器（最多3个）<code>Ctrl+\</code>，也可以按住Ctrl鼠标点击EXPLORER里的文件名</li><li>左中右3个编辑器的快捷键 <code>Ctrl+1</code> <code>Ctrl+2</code> <code>Ctrl+3</code></li><li>编辑器换位置 <code>Ctrl+K Left/Right</code></li><li>切换标签页的位置 <code>Ctrl+Shift+PgUp/PgDown</code></li><li>多窗口标签页移动 <code>Ctrl+Alt+Left/Right</code></li></ul><h2 id="代码编辑"><a href="#代码编辑" class="headerlink" title="代码编辑"></a>代码编辑</h2><h3 id="格式调整"><a href="#格式调整" class="headerlink" title="格式调整"></a>格式调整</h3><ul><li>缩进 <code>Ctrl+[</code>，<code>Ctrl+]</code></li><li>折叠/展开代码块 <code>Ctrl+Shift+[</code>，<code>Ctrl+Shift+]</code></li><li>折叠/展开所有子区域代码 <code>Ctrl+k Ctrl+[</code>，<code>Ctrl+k Ctrl+]</code></li><li>代码格式化 <code>Shift+Alt+F</code>，或<code>Ctrl+Shift+P</code>后输入<code>format code</code></li><li>复制剪切一整行，不选中 <code>Ctrl+C/X</code>，<code>Ctrl+V</code></li><li>上下移动一行：<code>Alt+Up/Down</code></li><li>向上向下复制一行：<code>Shift+Alt+Up/Down</code></li><li>在当前行下/行上边插入一行 <code>Ctrl+ENTER</code>/<code>Ctrl+Shift+ENTER</code></li></ul><h2 id="光标相关"><a href="#光标相关" class="headerlink" title="光标相关"></a>光标相关</h2><ul><li>列选择 <code>Alt+Shifr+鼠标左键</code></li><li>移动到行首 <code>Home</code></li><li>移动到行尾 <code>End</code></li><li>移动到文件结尾 <code>Ctrl+End</code></li><li>移动到文件开头 <code>Ctrl+Home</code></li><li>移动到后半个括号 <code>Ctrl+Shift+|</code></li><li>选中当前行 <code>Ctrl+I</code>，多次按下选中向下内容</li><li>选择从光标到行尾 <code>Shift+End</code></li><li>选择从行首到光标处 <code>Shift+Home</code></li><li>删除光标所在行 <code>Ctrl+Delete</code></li><li><code>shrink/expand selection</code>（光标所在单词，文档高亮显示相同的）：<code>Shift+Alt+Left</code>和<code>Shift+Alt+Right</code></li><li><code>Multi-Cursor</code>：可以连续选择多处，然后一起修改，<code>Alt+Click</code>添加cursor</li><li>翻转IDE <code>Ctrl+Alt+Down</code> 或 <code>Ctrl+Alt+Up</code></li><li>光标跳到多行选中文本末尾 <code>Ctrl+Shift+L</code></li><li><code>Ctrl+D</code> 下一个匹配的也被选中(被我自定义成删除当前行了，见下边Ctrl+Shift+K)</li><li>回退上一个光标操作 <code>Ctrl+U</code></li><li>行视图上下移动 <code>Ctrl+Up/Down</code></li><li>屏视图上下移动 <code>Alt+Up/Down</code></li></ul><h2 id="代码相关"><a href="#代码相关" class="headerlink" title="代码相关"></a>代码相关</h2><ul><li>跳转到定义处 <code>F12</code></li><li>定义处缩略图：只看一眼而不跳转过去 <code>Alt+F12</code></li><li>列出所有的引用 <code>Shift+F12</code></li><li>同时修改本文件中所有匹配的 <code>Ctrl+F2</code></li><li>批量重命名：比如要修改一个方法名，可以选中后按F2，输入新的名字，回车，会发现所有的文件都修改过了。</li><li>跳转到下一个Error或Warning：当有多个错误时可以按F8逐个跳转</li><li>比较文件，在左侧边栏里选择文件右键 <code>选择以进行比较</code>，然后需要对比的文件上右键选择<code>与xxx比较</code>。</li></ul><h2 id="查找替换"><a href="#查找替换" class="headerlink" title="查找替换"></a>查找替换</h2><ul><li>查找 <code>Ctrl+F</code></li><li>查找替换 <code>Ctrl+H</code></li><li>查询下一个/上一个 <code>F3/Shift+F3</code> 或 <code>Enter/Shift Enter</code></li><li>选中所有出现在查询中的 <code>Alt + Enter</code></li><li>整个文件夹中查找 <code>Ctrl+Shift+F</code> 匹配符：</li><li><code>*</code> to match one or more characters in a path segment</li><li><code>?</code> to match on one character in a path segment</li><li><code>**</code> to match any number of path segments ,including none</li><li><code>{}</code> to groUp conditions (e.g. {<strong>/*.html,</strong>/*.txt} matches all html and txt files)</li><li><code>[]</code> to declare a range of characters to match (e.g., example.[0-9] to match on example.0,example.1, …</li></ul><h2 id="显示相关"><a href="#显示相关" class="headerlink" title="显示相关"></a>显示相关</h2><ul><li>全屏 <code>F11</code></li><li>缩放 <code>Ctrl + =</code> / <code>Ctrl + -</code></li><li>侧边栏显/隐 <code>Ctrl+B</code></li><li>侧边栏4大功能显示：<ul><li>打开资源 <code>Ctrl+Shift+E</code></li><li>打开搜索 <code>Ctrl+Shift+F</code></li><li>打开GIT <code>Ctrl+Shift+G</code></li><li>打开调试 <code>Ctrl+Shift+D</code></li><li>打开扩展 <code>Ctrl+Shift+X</code></li></ul></li><li>输出Show Output <code>Ctrl+Shift+U</code></li><li>预览markDown <code>Ctrl+Shift+V</code></li></ul><h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><p>自动保存：<code>File -&gt; AutoSave</code> ，或者<code>Ctrl+Shift+P</code>，输入 <code>auto</code></p>]]></content>
    
    <summary type="html">
    
      VSCODE 常用快捷键
    
    </summary>
    
      <category term="tool" scheme="http://007sair.github.io/categories/tool/"/>
    
    
      <category term="tool" scheme="http://007sair.github.io/tags/tool/"/>
    
      <category term="vscode" scheme="http://007sair.github.io/tags/vscode/"/>
    
  </entry>
  
  <entry>
    <title>苹方字体在H5的应用</title>
    <link href="http://007sair.github.io/2017/03/14/font-pingfang/"/>
    <id>http://007sair.github.io/2017/03/14/font-pingfang/</id>
    <published>2017-03-13T16:00:00.000Z</published>
    <updated>2018-07-26T07:08:26.518Z</updated>
    
    <content type="html"><![CDATA[<p><a href="http://www.apple.com/cn/macos/sierra/#international-fonts" target="_blank" rel="noopener">苹方字体</a>在手机端的展示效果如下：</p><h3 id="苹方字体"><a href="#苹方字体" class="headerlink" title="苹方字体"></a>苹方字体</h3><p><strong>苹方-简</strong></p><p style="font-family: 'PingFang SC', sans-serif">测试字体 123456789 abcdefg ABCDEFG</p><p><strong>苹方-简 常规体</strong></p><p style="font-family: PingFangSC-Regular, sans-serif;">测试字体 123456789 abcdefg ABCDEFG</p><a id="more"></a><p><strong>苹方-简 常规体</strong></p><p style="font-family: PingFangSC-Regular, sans-serif;">测试字体 123456789 abcdefg ABCDEFG</p><p><strong>苹方-简 常规体</strong></p><p style="font-family: PingFangSC-Regular, sans-serif;">测试字体 123456789 abcdefg ABCDEFG</p><p><strong>苹方-简 极细体</strong></p><p style="font-family: PingFangSC-Ultralight, sans-serif;">测试字体 123456789 abcdefg ABCDEFG</p><p><strong>苹方-简 细体</strong></p><p style="font-family: PingFangSC-Light, sans-serif;">测试字体 123456789 abcdefg ABCDEFG</p><p><strong>苹方-简 纤细体</strong></p><p style="font-family: PingFangSC-Thin, sans-serif;">测试字体 123456789 abcdefg ABCDEFG</p><p><strong>苹方-简 中黑体</strong></p><p style="font-family: PingFangSC-Medium, sans-serif;">测试字体 123456789 abcdefg ABCDEFG</p><p><strong>苹方-简 中粗体</strong></p><p style="font-family: PingFangSC-Semibold, sans-serif;">测试字体 123456789 abcdefg ABCDEFG</p><h3 id="San-Francisco"><a href="#San-Francisco" class="headerlink" title="San Francisco"></a>San Francisco</h3><p style="'San Francisco', san-serif;">测试字体 123456789 abcdefg ABCDEFG</p><h3 id="apple-system"><a href="#apple-system" class="headerlink" title="-apple-system"></a>-apple-system</h3><p style="font-family: -apple-system, BlinkMacSystemFont, sans-serif;"><br>    测试字体 123456789 abcdefg ABCDEFG<br></p><p>参考自：<a href="http://stackoverflow.com/questions/32660748/how-to-use-apples-new-san-francisco-font-on-a-webpage" target="_blank" rel="noopener">http://stackoverflow.com/questions/32660748/how-to-use-apples-new-san-francisco-font-on-a-webpage</a></p>]]></content>
    
    <summary type="html">
    
      苹方字体在H5的应用
    
    </summary>
    
      <category term="test" scheme="http://007sair.github.io/categories/test/"/>
    
    
      <category term="css" scheme="http://007sair.github.io/tags/css/"/>
    
      <category term="test" scheme="http://007sair.github.io/tags/test/"/>
    
      <category term="font" scheme="http://007sair.github.io/tags/font/"/>
    
  </entry>
  
  <entry>
    <title>怎么把孩子养到18岁，神志正常还不恨你</title>
    <link href="http://007sair.github.io/2017/03/03/How-to-get-your-kids-to-18-sane-and-not-hating-you/"/>
    <id>http://007sair.github.io/2017/03/03/How-to-get-your-kids-to-18-sane-and-not-hating-you/</id>
    <published>2017-03-02T16:00:00.000Z</published>
    <updated>2018-07-26T07:08:26.518Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>译文，来自：<a href="https://www.theguardian.com/lifeandstyle/2016/feb/06/how-to-get-your-kids-to-18-sane-and-not-hating-you?CMP=share_btn_link" target="_blank" rel="noopener">How to get your kids to 18, sane and not hating you</a></p></blockquote><p>七位作者为大家讲述父母之道，都是他们希望在开始时就懂得的事</p><h3 id="最艰难的客户"><a href="#最艰难的客户" class="headerlink" title="最艰难的客户"></a>最艰难的客户</h3><p>我第一次怀孕的时候，还是一个装逼的公司律师，习惯于自作主张。我真正需要的就是那时有人告诉我：“了解你最坏的客户吧？就那个半夜两点给你打电话，只为告诉你你多差劲的那家伙；或者那个突然就需要什么莫名的表格的混蛋，你只好翻天翻地给他找，找到了他又发火说那不是他想要的东西，虽然这确实是他要的。恭喜啊，现在你就同一个小小版的客户生活在一起了。悲哀的是，你学过的一切对这个新客户都还没有一点用处。”</p><a id="more"></a><p>“你就是写上一封措辞冷酷的信给他们，你的小宝宝也不会自动去吃晚上10点的奶，小家伙也不会想去穿袜子。你需要学习新技巧，还得够强悍——耐心、娱乐、最傻逼的喜剧——就是这样也还是要做好失败的准备，经常的失败。扔掉你现有的成功秘诀。孩子开始睡整觉不是你的成功，他们直到10岁还是只吃小块奶酪也不算是失败。你唯一的目标是把他们养到18岁，活着，清醒，还不恨你。没有奖励计划，但是工作的满意度倒还不差。祝好运。” Emma Beddington</p><h3 id="我希望我能更有母爱"><a href="#我希望我能更有母爱" class="headerlink" title="我希望我能更有母爱"></a>我希望我能更有母爱</h3><p>我希望有人能告诉我，在像个烈士一样溺爱孩子与只是给他们关注之间有巨大的差别。现在我想，在培养独立又灵活的孩子这个期望上，我太死脑筋了，对他们的独特需求同情不够。让我吞下这个苦果有点困难，这一点我们（两个20多的成年孩子，还有一个仍然在家的15岁孩子）都得同意这一点。然后我们也会抱一抱。</p><p>我仍然完全反对那种育儿风格，就是给孩子清理掉所有障碍，让他们永远不需要自己面对难题。牛津大学心理咨询的头，心理学家Alan Percy说过，如果父母做了所有的事，就会让孩子什么都不会——他还说，这也会让孩子对父母感到憎恨与愤怒。<br>但是，对我和孩子们来说，在关爱、养育方面略多一点可能会更好。你可以陪孩子玩，聊天，同时培养他们的未来能力的时间很快就结束了。 Louise Chunn，Welldoing.org的创始人。</p><h3 id="打闹可以让小孩子放松"><a href="#打闹可以让小孩子放松" class="headerlink" title="打闹可以让小孩子放松"></a>打闹可以让小孩子放松</h3><p>最好最简单的建议就是同周围的人交往并且咨询他们的意见。别的还需要做什么？</p><ol><li>我很幸运同正确的人一起生孩子。很多人不是这样。他必须是有同样基本价值观的人，还要能忍受你最疯狂的梦想，还要有无限的耐心、友善、幽默以及热情。他必须要同样的重视你，否则，还是养条狗吧。</li><li>第一年还是很容易的——只要你认识到一个现实：你的时间再也不是你的了。</li><li>对小孩子，你不能太善良或者太有耐心。在遇到难题时，你第一个反应应该是打闹。小孩子是地球上最搞笑的东西了：就像袋熊那样野，同时又有人的特点和习性。</li><li>你现在需要每天早起，所有节假日也不例外，这个要持续14年。然后，你的生物钟就会改变，你会在早上8点冲进年轻人的房间，大叫半天都过完了。</li><li>碰到周末睡睡觉实在没有任何不对的。 Mike Power</li></ol><h3 id="我还没有准备好他们就到青春期了"><a href="#我还没有准备好他们就到青春期了" class="headerlink" title="我还没有准备好他们就到青春期了"></a>我还没有准备好他们就到青春期了</h3><p>我很享受早几年当父母的感觉。隐藏在我身体里的和我们父亲一样的物质开始浮现出来。用我女儿的话说，我是个快乐爸爸。</p><p>我没准备的事就是青春期。那种情绪波动，无法理解的愤怒，还有我女儿整天都躲在自己屋子里只在吃饭时出来还要跟她弟弟打架，这些都很难对付。我没处理好青春期这些事，让我跟两个孩子的关系都变糟了，然后这个关系再也没有恢复过来。</p><p>我现在知道我没有经过典型的青春期。我喜欢我的父母，我慢慢的远离他们。从来没有大喊大叫，也没有争吵。我们呆在一起都很舒服，然后我就去上大学，工作，结婚，再回去就是个成年人了。对我自己的两个孩子个性突变这个事，我一点准备都没有。</p><p>我希望能有人在头10年就给我解释清楚：“现在你同你的天使们时光正好，但是他们会变，变得无可理喻的可怕，你必须做好准备，还得一起摇摆。” Adrian Mourby</p><h3 id="别像我这样"><a href="#别像我这样" class="headerlink" title="别像我这样"></a>别像我这样</h3><p>我的两个男孩现在都长大了，有他们自己的生活。我很年轻就生了他们，一个接一个，只能快点啦。所以我的第一个建议是不要在不够成熟，不能负担这个责任时生孩子——说起来容易。</p><p>教育孩子说请，谢谢，对不起，从他们说话起就教——这能让他们在周围更有礼貌，也让他们的人生更顺利。</p><p>教育孩子友善，为他人着想，但是你必须自己做好榜样。想让别人怎么对你，就怎么对别人，是个老话，但很有用。</p><p>早点分配家务，搞的有趣点，让它成为第二天性。否则就是自己的负担。有个朋友，她女儿22了，还住在家里，甚至都不收盘子，用过的杯子也到处乱放。你说谁来收拾，还像个老妇人一样唠叨？</p><p>对吃的放松点。如果老担心他们不吃蔬菜或者其他东西，孩子就会越来越拒绝，就是说不。特别是如果他们看你难受很有意思的话。孩子饿了自然会吃——他们不是殉道者——到时候不管是花椰菜还是牛脸肉他们都会吃。一旦他们开始吃硬的，就不要再给他们搞什么单独的吃，那只会让他们挑剔。如果他们跟你吃一样的——最好还是在一个桌子上——他们会喜欢各种吃的，也会对新味道新东西感兴趣。</p><p>如果在陪孩子就不要多看手机，那会让他们觉得屏幕比人还重要，他们会烦躁，会大叫——到时候又怎么批评他们呢？ Rachel Douglas</p><h3 id="遵循你的直觉"><a href="#遵循你的直觉" class="headerlink" title="遵循你的直觉"></a>遵循你的直觉</h3><p>扔了育儿书，这是某个出版过一本书的人说的。我关于早期当妈的最悲惨的记忆，无过于把Gina Ford的书Contented Little Baby用在我的小孩身上，他可是超级不服从。固定时间，在黑屋子里喂奶，不进行目光接触？结果呢？孩子哭闹，妈妈悲惨。我一度想遵从专家的意见，建立起主导地位和规矩，认为这是对的。这不对。在那些天里能让我自信的就只有遵从我自己的直觉。</p><p>几周后，我就把那本书扔了，我睡到沙发上，他想吃就喂。孩子想吃的时候就会想让你喂（差不多是随时），这完全自然啊。但时不时的，如果人不能遵守精确的规程，我还是觉得很失败。还有个睡觉“专家” Richard Ferber，他有另外一个战场，很快我也把他的书扔了。</p><p>Annabel Karmel的做饭书我是不看了。它不是严格的育儿书，但还是搞出一套儿童应该吃什么的处方，只会让你在孩子不吃自己做的燕麦卷非要吃垃圾食品时感到罪恶感。我的三个孩子都这样。</p><p>育儿，儿童教育，这些我全买了，现在它们都在书架顶上吃灰。它们本来就该在那里，包括我自己的书，我还在其中有一章里写了为了孩子少看手机的几个方法。</p><p>我遵守了吗？我努力了，但是对最小的孩子，我还是太依赖iNanny了。现在她四岁了，几乎不看任何屏幕，反倒是ipad在吃灰了。所以说，不要看任何育儿建议——特别是你自己的。 Emma Cook</p><h3 id="总是自己第一"><a href="#总是自己第一" class="headerlink" title="总是自己第一"></a>总是自己第一</h3><p>我的父母冷静、严格、坚忍。我的育儿经验就完全排斥这些——60年代，多愁善感，自由派。经常的玩闹和搞笑。这一套直到他们10岁还不错，然后就不行了。</p><p>那些50后的边界是根本的。我可能从来没那样做。你得庄重，像贵族那样。声名狼籍的现代性也不能消除它。吸上烟袋，穿上空心绒。全是绝对性。不要再说了。我的女儿们完全按它的反面来做。小心那些虚张声势和假装的漠不关心。</p><p>镇静剂对你没好处。</p><p>永远积极。活泼。这让我受够了。学着享受胡言乱语吧，特别是他们15岁到35岁的时候。</p><p>不要当老师——大多数老师的孩子都傻头傻脑的。我本应知道的。</p><p>不要过分刺激他们的小心灵。不要从刚出生就在睡觉时放莫扎特，或者在摇蓝上挂行星。我们做了。这让他们看上去过分聪明，还有点失职。</p><p>综上，不要对街头混混，考试工厂，K粉，蜘蛛纹身还有什么就要来临的末日忧虑。这很有意思。</p><p>总是把自己放在第一位。然后试着用温和的忽视，绝对的爱还有更多的戏谑来达成幸福。轻如和风。Ian Whitwham</p>]]></content>
    
    <summary type="html">
    
      怎么把孩子养到18岁，神志正常还不恨你
    
    </summary>
    
      <category term="life" scheme="http://007sair.github.io/categories/life/"/>
    
    
      <category term="life" scheme="http://007sair.github.io/tags/life/"/>
    
  </entry>
  
  <entry>
    <title>Date对象在移动端的坑</title>
    <link href="http://007sair.github.io/2017/03/01/date-keng/"/>
    <id>http://007sair.github.io/2017/03/01/date-keng/</id>
    <published>2017-02-28T16:00:00.000Z</published>
    <updated>2018-07-26T07:08:26.518Z</updated>
    
    <content type="html"><![CDATA[<p>本文描述了工作中涉及<code>Date</code>对象都是一些坑的写法。</p><p>涉及移动端，测试时<code>userAgent</code>如下：</p><p><strong>PC</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Chrome</span></span><br><span class="line">Mozilla/<span class="number">5.0</span> (Windows NT <span class="number">10.0</span>; WOW64) AppleWebKit/<span class="number">537.36</span> (KHTML, like Gecko) </span><br><span class="line">Chrome/<span class="number">49.0</span><span class="number">.2623</span><span class="number">.87</span> Safari/<span class="number">537.36</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Safari</span></span><br><span class="line">Mozilla/<span class="number">5.0</span> (Windows NT <span class="number">6.2</span>; WOW64) AppleWebKit/<span class="number">534.57</span><span class="number">.2</span> (KHTML, like Gecko) </span><br><span class="line">Version/<span class="number">5.1</span><span class="number">.7</span> Safari/<span class="number">534.57</span><span class="number">.2</span></span><br></pre></td></tr></table></figure><p><strong>Mobile</strong></p><a id="more"></a><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 微信</span></span><br><span class="line">Mozilla/<span class="number">5.0</span> (iPhone; CPU iPhone OS <span class="number">10</span>_2_1 like Mac OS X) AppleWebKit/<span class="number">602.4</span><span class="number">.6</span> (KHTML, like Gecko) </span><br><span class="line">Mobile/<span class="number">14</span>D27 MicroMessenger/<span class="number">6.5</span><span class="number">.5</span> NetType/WIFI Language/zh_CN</span><br><span class="line"></span><br><span class="line"><span class="comment">// Safari</span></span><br><span class="line">Mozilla/<span class="number">5.0</span> (iPhone; CPU iPhone OS <span class="number">10</span>_2_1 like Mac OS X) AppleWebKit/<span class="number">602.4</span><span class="number">.6</span> (KHTML, like Gecko) </span><br><span class="line">Version/<span class="number">10.0</span> Mobile/<span class="number">14</span>D27 Safari/<span class="number">602.1</span></span><br></pre></td></tr></table></figure><h2 id="测试过程"><a href="#测试过程" class="headerlink" title="测试过程"></a>测试过程</h2><p><strong>先来看一段代码：</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> ( <span class="keyword">new</span> <span class="built_in">Date</span>().getTime() &lt;= <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">'2020/03/01 24:00:00'</span>).getTime() ) &#123;</span><br><span class="line">    alert(<span class="string">'true'</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    alert(<span class="string">'false'</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>输出结果毫无疑问：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">true</span><br></pre></td></tr></table></figure><p><strong>坑来了<del>~</del></strong></p><p>在我的手机里，输出结果却是<code>false</code></p><p>别着急，我们一步步来找原因。</p><p>先来看看<code>new Date(&#39;2020/03/01 24:00:00&#39;)</code>在PC和手机的输出：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// PC</span></span><br><span class="line">Mon Mar <span class="number">02</span> <span class="number">2020</span> <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> GMT+<span class="number">0800</span> (ä¸­å½æ åæ¶é´)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Mobile</span></span><br><span class="line">Invalid <span class="built_in">Date</span></span><br></pre></td></tr></table></figure><p>很明显，<code>24:00:00</code>这种写法在手机端被视为<strong>无效时间</strong>！</p><p><strong>PS：</strong>还有一种写法在手机端也被视为无效时间：<code>new Date(&#39;2020-03-01 12:00:00&#39;)</code></p><p>那无效时间转成时间戳会是什么呢？答案：<code>NaN</code></p><p>然后我们来测试任何数跟NaN作比较：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10000</span> &gt; <span class="literal">NaN</span>     <span class="comment">// false</span></span><br><span class="line"><span class="number">10000</span> &lt; <span class="literal">NaN</span>     <span class="comment">// false</span></span><br><span class="line"><span class="number">-5</span> &lt; <span class="literal">NaN</span>        <span class="comment">//false</span></span><br><span class="line"><span class="string">'1000000'</span> &lt; <span class="literal">NaN</span>     <span class="comment">// false</span></span><br><span class="line"><span class="literal">null</span> &lt; <span class="literal">NaN</span>          <span class="comment">// false</span></span><br><span class="line"><span class="literal">undefined</span> &lt; <span class="literal">NaN</span>     <span class="comment">// false</span></span><br><span class="line">[] &lt; <span class="literal">NaN</span>        <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Object</span> &lt; <span class="literal">NaN</span>    <span class="comment">// false</span></span><br><span class="line"><span class="literal">NaN</span> &lt; <span class="literal">NaN</span>       <span class="comment">// false</span></span><br><span class="line"><span class="literal">NaN</span> == <span class="literal">NaN</span>      <span class="comment">// false</span></span><br><span class="line"><span class="literal">NaN</span> === <span class="literal">NaN</span>     <span class="comment">// false</span></span><br></pre></td></tr></table></figure><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ul><li><code>new Date</code>的<code>24:00:00</code>在移动端&amp;<code>PC(safari)</code>浏览器中会被视为无效时间</li><li><code>2017-03-01 12:00:00</code>的横线写法在移动端&amp;<code>PC(safari)</code>浏览器中会被视为无效时间</li><li>无效时间经过时间戳转换后会变为NaN</li></ul>]]></content>
    
    <summary type="html">
    
      new Date()在pc和移动端的一些显示差异
    
    </summary>
    
      <category term="javascript" scheme="http://007sair.github.io/categories/javascript/"/>
    
    
      <category term="坑" scheme="http://007sair.github.io/tags/%E5%9D%91/"/>
    
      <category term="javascript" scheme="http://007sair.github.io/tags/javascript/"/>
    
      <category term="Date对象" scheme="http://007sair.github.io/tags/Date%E5%AF%B9%E8%B1%A1/"/>
    
  </entry>
  
  <entry>
    <title>css选择器总结</title>
    <link href="http://007sair.github.io/2017/02/06/css-selector/"/>
    <id>http://007sair.github.io/2017/02/06/css-selector/</id>
    <published>2017-02-05T16:00:00.000Z</published>
    <updated>2018-07-26T07:08:26.517Z</updated>
    
    <content type="html"><![CDATA[<style>td{font-family: Verdana, Geneva, sans-serif;font-size: 13px;}</style><blockquote><p>约定：IE7+ 意思为大于（含IE7）的浏览器</p></blockquote><h2 id="CSS1-amp-CSS2-1-选择器"><a href="#CSS1-amp-CSS2-1-选择器" class="headerlink" title="CSS1 &amp; CSS2.1 选择器"></a>CSS1 &amp; CSS2.1 选择器</h2><h3 id="基础选择器"><a href="#基础选择器" class="headerlink" title="基础选择器"></a>基础选择器</h3><table><thead><tr><th>选择器</th><th>例子</th><th>例子描述</th><th>兼容性   </th></tr></thead><tbody><tr><td> *</td><td>*</td><td>选择所有元素。</td><td>all   </td></tr><tr><td> E</td><td>p</td><td>选择所有 <code>&lt;p&gt;</code> 元素。</td><td>all   </td></tr><tr><td> #id</td><td>#firstname</td><td>选择 <code>id=&quot;firstname&quot;</code> 的所有元素。</td><td>all   </td></tr><tr><td> .class</td><td>.intro</td><td>选择 <code>class=&quot;intro&quot;</code> 的所有元素。</td><td>all   </td></tr></tbody></table><a id="more"></a><h3 id="组合选择器"><a href="#组合选择器" class="headerlink" title="组合选择器"></a>组合选择器</h3><table><thead><tr><th>选择器</th><th>例子</th><th>例子描述</th><th>兼容性   </th></tr></thead><tbody><tr><td> E,F</td><td>div,p</td><td>选择所有 <code>&lt;div&gt;</code> 元素和所有 <code>&lt;p&gt;</code> 元素。</td><td>all     </td></tr><tr><td> E F</td><td>div p</td><td>选择 <code>&lt;div&gt;</code> 元素内部的所有 <code>&lt;p&gt;</code> 元素。</td><td>all      </td></tr><tr><td> E &gt; F</td><td>div&gt;p</td><td>选择父元素为 <code>&lt;div&gt;</code> 元素的所有 <code>&lt;p&gt;</code> 元素。</td><td>IE7+    </td></tr><tr><td> E + F</td><td>div+p</td><td>选择紧接在 <code>&lt;div&gt;</code> 元素之后的所有 <code>&lt;p&gt;</code> 元素。</td><td>IE7+    </td></tr></tbody></table><h3 id="属性选择器"><a href="#属性选择器" class="headerlink" title="属性选择器"></a>属性选择器</h3><table><thead><tr><th>选择器</th><th>例子</th><th>例子描述</th><th>兼容性  </th></tr></thead><tbody><tr><td> <code>E[att]</code></td><td><code>[target]</code></td><td>选择带有 <code>target</code> 属性所有元素。</td><td>IE7+    </td></tr><tr><td> <code>E[att=val]</code></td><td><code>[target=_blank]</code></td><td>选择 <code>target=&quot;_blank&quot;</code> 的所有元素。</td><td>IE7+     </td></tr><tr><td> <code>E[att~=val]</code></td><td><code>[title~=flower]</code></td><td>选择 <code>title</code> 属性包含单词 <code>&quot;flower&quot;</code> 的所有元素。</td><td>IE7+   </td></tr><tr><td> <code>E[att=val]</code></td><td><code>[lang=en]</code></td><td>选择 <code>lang</code> 属性值以 <code>&quot;en&quot;</code> 开头的所有元素。</td><td>IE7+   </td></tr></tbody></table><h3 id="伪元素"><a href="#伪元素" class="headerlink" title="伪元素"></a>伪元素</h3><table><thead><tr><th>选择器</th><th>例子</th><th>例子描述</th><th>兼容性  </th></tr></thead><tbody><tr><td> E:first-line</td><td>p:first-line</td><td>选择每个 <code>&lt;p&gt;</code> 元素的首行。</td><td>IE7+   </td></tr><tr><td> E:first-letter</td><td>p:first-letter</td><td>选择每个 <code>&lt;p&gt;</code> 元素的首字母。</td><td>IE7+   </td></tr><tr><td> E:before</td><td>p:before</td><td>在每个 <code>&lt;p&gt;</code> 元素的内容之前插入内容。</td><td>IE8+   </td></tr><tr><td> E:after</td><td>p:after</td><td>在每个 <code>&lt;p&gt;</code> 元素的内容之后插入内容。</td><td>IE8+   </td></tr></tbody></table><h3 id="伪类"><a href="#伪类" class="headerlink" title="伪类"></a>伪类</h3><table><thead><tr><th>选择器</th><th>例子</th><th>例子描述</th><th>兼容性   </th></tr></thead><tbody><tr><td> E:first-child</td><td>p:first-child</td><td>选择属于父元素的第一个子元素的每个 <code>&lt;p&gt;</code> 元素。</td><td>IE7+    </td></tr><tr><td> E:link</td><td>a:link</td><td>选择所有未被访问的链接。</td><td>all    </td></tr><tr><td> E:visited</td><td>a:visited</td><td>选择所有已被访问的链接。</td><td>all    </td></tr><tr><td> E:active</td><td>a:active</td><td>选择活动链接。</td><td>all    </td></tr><tr><td> E:hover</td><td>a:hover</td><td>选择鼠标指针位于其上的链接。</td><td>IE6+(?)    </td></tr><tr><td> E:focus</td><td>input:focu</td><td>选择获得焦点的 input 元素。</td><td>IE8+    </td></tr><tr><td> E:lang(c)</td><td>p:lang(it)</td><td>选择带有以 “it” 开头的 lang 属性值的每个 <code>&lt;p&gt;</code> 元素。</td><td>IE7+    </td></tr></tbody></table><p><strong>CSS 2.1 selectors Known issues (6):</strong></p><ul><li>IE6 does not properly support combinations of pseudo classes like <code>:link</code>, <code>:active</code> and <code>:visited</code></li><li>IE8-11 does not update an element’s :hover status when scrolling without moving the pointer.</li><li>Safari 5.1 and Android browsers do not support the adjacent selector if the adjacent element is a “nav” element.</li><li>:first-child fails in IE7 if the first child is a comment.</li><li>IE7 doesn’t support all pseudo classes (like :focus) or pseudo elements (like :before and :after)</li><li>In IE10 adjacent sibling selector doesn’t work with pseudo-class in case of <code>E:active F</code>.</li></ul><h2 id="CSS3选择器"><a href="#CSS3选择器" class="headerlink" title="CSS3选择器"></a>CSS3选择器</h2><h3 id="同级元素通用选择器"><a href="#同级元素通用选择器" class="headerlink" title="同级元素通用选择器"></a>同级元素通用选择器</h3><table><thead><tr><th>选择器</th><th>例子</th><th>例子描述</th><th>兼容性   </th></tr></thead><tbody><tr><td> E ~ F</td><td>p~ul</td><td>选择前面有 <code>&lt;p&gt;</code> 元素的每个 <code>&lt;ul&gt;</code> 元素。</td><td>IE7+    </td></tr></tbody></table><h3 id="属性选择器-1"><a href="#属性选择器-1" class="headerlink" title="属性选择器"></a>属性选择器</h3><table><thead><tr><th>选择器</th><th>例子</th><th>例子描述</th><th>兼容性   </th></tr></thead><tbody><tr><td> <code>E[att^=&quot;val&quot;]</code></td><td><code>a[src^=&quot;https&quot;]</code></td><td>选择其 <code>src</code> 属性值以 <code>&quot;https&quot;</code> 开头的每个 <code>&lt;a&gt;</code> 元素。</td><td>IE7+    </td></tr><tr><td> <code>E[att$=&quot;val&quot;]</code></td><td><code>a[src$=&quot;.pdf&quot;]</code></td><td>选择其 <code>src</code> 属性以 <code>&quot;.pdf&quot;</code> 结尾的所有 <code>&lt;a&gt;</code> 元素。</td><td>IE7+    </td></tr><tr><td> <code>E[att*=&quot;val&quot;]</code></td><td><code>a[src*=&quot;abc&quot;]</code></td><td>选择其 <code>src</code> 属性中包含 <code>&quot;abc&quot;</code> 子串的每个 <code>&lt;a&gt;</code> 元素。</td><td>IE7+    </td></tr></tbody></table><h3 id="与用户界面有关的伪类"><a href="#与用户界面有关的伪类" class="headerlink" title="与用户界面有关的伪类"></a>与用户界面有关的伪类</h3><table><thead><tr><th>选择器</th><th>例子</th><th>例子描述</th><th>兼容性</th></tr></thead><tbody><tr><td><code>E:enabled</code></td><td><code>input:enabled</code></td><td>选择每个启用的 <code>&lt;input&gt;</code> 元素。</td><td>IE9+</td></tr><tr><td><code>E:disabled</code></td><td><code>input:disabled</code></td><td>选择每个禁用的 <code>&lt;input&gt;</code> 元素</td><td>IE9+</td></tr><tr><td><code>E:checked</code></td><td><code>input:checked</code></td><td>选择每个被选中的 <code>&lt;input&gt;</code> 元素。</td><td>IE9+</td></tr><tr><td><code>E::selection</code></td><td><code>::selection</code></td><td>选择被用户选取的元素部分。</td><td>IE9+</td></tr></tbody></table><h3 id="结构性伪类"><a href="#结构性伪类" class="headerlink" title="结构性伪类"></a>结构性伪类</h3><table><thead><tr><th>选择器</th><th>例子</th><th>例子描述</th><th>兼容性  </th></tr></thead><tbody><tr><td> <code>E:root</code></td><td><code>:root</code></td><td>选择文档的根元素。</td><td>IE9+   </td></tr><tr><td> <code>E:nth-child(n)</code></td><td><code>p:nth-child(2)</code></td><td>选择属于其父元素的第二个子元素的每个 <code>&lt;p&gt;</code> 元素。</td><td>IE9+   </td></tr><tr><td> <code>E:nth-last-child(n)</code></td><td><code>p:nth-last-child(2)</code></td><td>同上，从最后一个子元素开始计数。</td><td>IE9+   </td></tr><tr><td> <code>E:nth-of-type(n)</code></td><td><code>p:nth-of-type(2)</code></td><td>选择属于其父元素第二个 <code>&lt;p&gt;</code> 元素的每个 <code>&lt;p&gt;</code> 元素。</td><td>IE9+   </td></tr><tr><td> <code>E:nth-last-of-type(n)</code></td><td><code>p:nth-last-of-type(2)</code></td><td>同上，但是从最后一个子元素开始计数。</td><td>IE9+   </td></tr><tr><td> <code>E:last-child</code></td><td><code>p:last-child</code></td><td>选择属于其父元素最后一个子元素每个 <code>&lt;p&gt;</code> 元素。</td><td>IE9+   </td></tr><tr><td> <code>E:first-of-type</code></td><td><code>p:first-of-type</code></td><td>选择属于其父元素的首个 <code>&lt;p&gt;</code> 元素的每个 <code>&lt;p&gt;</code> 元素。</td><td>IE9+   </td></tr><tr><td> <code>E:last-of-type</code></td><td><code>p:last-of-type</code></td><td>选择属于其父元素的最后 <code>&lt;p&gt;</code> 元素的每个 <code>&lt;p&gt;</code> 元素。</td><td>IE9+   </td></tr><tr><td> <code>E:only-child</code></td><td><code>p:only-child</code></td><td>选择属于其父元素的唯一子元素的每个 <code>&lt;p&gt;</code> 元素。</td><td>IE9+   </td></tr><tr><td> <code>E:only-of-type</code></td><td><code>p:only-of-type</code></td><td>选择属于其父元素唯一的 <code>&lt;p&gt;</code> 元素的每个 <code>&lt;p&gt;</code> 元素。</td><td>IE9+   </td></tr><tr><td> <code>E:empty</code></td><td><code>p:empty</code></td><td>选择没有子元素的每个 <code>&lt;p&gt;</code> 元素（包括文本节点）。</td><td>IE9+   </td></tr></tbody></table><h3 id="其他伪类"><a href="#其他伪类" class="headerlink" title="其他伪类"></a>其他伪类</h3><table><thead><tr><th>选择器</th><th>例子</th><th>例子描述</th><th>兼容性</th></tr></thead><tbody><tr><td><code>E:not(s)</code></td><td><code>:not(p)</code></td><td>选择非 <code>&lt;p&gt;</code> 元素的每个元素。</td><td>IE9+</td></tr><tr><td><code>E:target</code></td><td><code>#news:target</code></td><td>选择当前活动的 <code>#news</code> 元素。</td><td>IE9+</td></tr></tbody></table><p><strong>CSS 3 selectors Known issues (4):</strong></p><ul><li>iOS 9 has a bug in WebViews (not Safari) with the CSS sibling selector</li><li>IE9-IE11 supports <code>:empty</code> but will not repaint/relayout the page if content is added/removed from an <code>:empty</code> selected element</li><li>iOS 8 Safari has issues with nth-child. </li><li>Android 4.3 and lower (together with older WebKit browsers) have issues when combining pseudo classes with adjacent or general sibling selectors.</li></ul><h2 id="结论："><a href="#结论：" class="headerlink" title="结论："></a>结论：</h2><ul><li>css1少数选择器不支持ie6，其他全支持</li><li>css2.1不支持ie6</li><li>css3不支持ie6，少数在ie7 8上也不支持</li></ul><p><strong>参考：</strong></p><ul><li><a href="http://www.w3school.com.cn/cssref/css_selectors.asp" target="_blank" rel="noopener">CSS 选择器参考手册</a></li><li><a href="http://caniuse.com/#search=css%20sel" target="_blank" rel="noopener">Can i use</a></li><li><a href="https://labs.qianduan.net/css-selector/" target="_blank" rel="noopener">CSS选择器的浏览器支持</a></li></ul>]]></content>
    
    <summary type="html">
    
      css选择器的使用与兼容情况
    
    </summary>
    
      <category term="css" scheme="http://007sair.github.io/categories/css/"/>
    
    
      <category term="css" scheme="http://007sair.github.io/tags/css/"/>
    
      <category term="css选择器" scheme="http://007sair.github.io/tags/css%E9%80%89%E6%8B%A9%E5%99%A8/"/>
    
  </entry>
  
  <entry>
    <title>word-wrap与word-break的区别</title>
    <link href="http://007sair.github.io/2016/07/25/wordbreak/"/>
    <id>http://007sair.github.io/2016/07/25/wordbreak/</id>
    <published>2016-07-24T16:00:00.000Z</published>
    <updated>2018-07-26T07:08:26.517Z</updated>
    
    <content type="html"><![CDATA[<style>div{    word-break: normal;    word-wrap: normal;}.test{    margin-bottom: 2px;    width: 230px;    border: 1px solid red;}.c1{}.c2{ word-wrap:break-word;}.c3{ word-wrap:break-word;word-break:break-all;}.c4{ word-wrap:break-word;word-break:keep-all;}.c5{ word-break:break-all;}.c6{ word-break:keep-all;}</style><p>换行问题自古以来就是一个难题，写了几个例子，先来看看，没有耐心的可以直接<a href="#result">点这里</a></p><h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><h4 id="word-wrap"><a href="#word-wrap" class="headerlink" title="word-wrap"></a>word-wrap</h4><p>word-wrap 属性允许长单词或 URL 地址换行到下一行。</p><p><strong>语法</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">word-wrap: normal | break-word;</span><br></pre></td></tr></table></figure><table><thead><tr><th>值</th><th>描述</th></tr></thead><tbody><tr><td>normal</td><td>只在允许的断字点换行（浏览器保持默认处理）。</td></tr><tr><td>break-word</td><td>在长单词或 URL 地址内部进行换行。</td></tr></tbody></table><a id="more"></a><h4 id="word-break"><a href="#word-break" class="headerlink" title="word-break"></a>word-break</h4><p>word-break 属性规定自动换行的处理方法。</p><p><strong>语法</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">word-break: normal | break-all | keep-all;</span><br></pre></td></tr></table></figure><table><thead><tr><th>值</th><th>描述</th></tr></thead><tbody><tr><td>normal</td><td>使用浏览器默认的换行规则。</td></tr><tr><td>break-all</td><td>允许在单词内换行。</td></tr><tr><td>keep-all</td><td>只能在半角空格或连字符处换行。</td></tr></tbody></table><h3 id="开始测试"><a href="#开始测试" class="headerlink" title="开始测试"></a>开始测试</h3><p>为了方便测试，先将<code>div</code>的<code>word-break</code>与<code>word-wrap</code>改成<code>normal</code>，<br>以下测试均为数字、字母、单词、汉字、汉字+单词混排在<code>div</code>中的表现情况</p><h4 id="默认无任何换行样式"><a href="#默认无任何换行样式" class="headerlink" title="默认无任何换行样式"></a>默认无任何换行样式</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.c1</span> &#123; </span><br><span class="line">    <span class="comment">/* 无任何样式 */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div class="test c1">11111111111111111111111111111111111111111111111111111</div><br><div class="test c1">aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa</div><br><div class="test c1">This is all English. This is all English. This is all English. </div><br><div class="test c1">全是中文的情况。全是中文的情况。全是中文的情况。 </div><br><div class="test c1">中英文混排的情况。Chinese and English. 中英文混排的情况。Chinese and English. </div><h4 id="word-wrap-break-word"><a href="#word-wrap-break-word" class="headerlink" title="word-wrap: break-word"></a>word-wrap: break-word</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.c2</span> &#123;</span><br><span class="line">    <span class="attribute">word-wrap</span>: break-word;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div class="test c2">111111111111111111111111111111111111111111111111111111111 </div><br><div class="test c2">aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa </div><br><div class="test c2">This is all English. This is all English. This is all English. </div><br><div class="test c2">全是中文的情况。全是中文的情况。全是中文的情况。</div><br><div class="test c2">中英文混排的情况。Chinese and English. 中英文混排的情况。Chinese and English. </div><h4 id="word-break-break-all"><a href="#word-break-break-all" class="headerlink" title="word-break: break-all;"></a>word-break: break-all;</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.c5</span> &#123; </span><br><span class="line">    <span class="attribute">word-break</span>: break-all;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div class="test c5">111111111111111111111111111111111111111111111111111111111 </div><br><div class="test c5">aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa </div><br><div class="test c5">This is all English. This is all English. This is all English. </div><br><div class="test c5">全是中文的情况。全是中文的情况。全是中文的情况。</div><br><div class="test c5">中英文混排的情况。Chinese and English. 中英文混排的情况。Chinese and English. </div><h4 id="word-wrap-break-word-word-break-break-all"><a href="#word-wrap-break-word-word-break-break-all" class="headerlink" title="word-wrap: break-word; word-break: break-all;"></a>word-wrap: break-word; word-break: break-all;</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.c3</span> &#123; </span><br><span class="line">    <span class="attribute">word-wrap</span>: break-word;</span><br><span class="line">    <span class="attribute">word-break</span>: break-all;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div class="test c3">111111111111111111111111111111111111111111111111111111111 </div><br><div class="test c3">aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa </div><br><div class="test c3">This is all English. This is all English. This is all English. </div><br><div class="test c3">全是中文的情况。全是中文的情况。全是中文的情况。</div><br><div class="test c3">中英文混排的情况。Chinese and English. 中英文混排的情况。Chinese and English. </div><h4 id="word-wrap-break-word-word-break-keep-all"><a href="#word-wrap-break-word-word-break-keep-all" class="headerlink" title="word-wrap: break-word; word-break: keep-all;"></a>word-wrap: break-word; word-break: keep-all;</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.c4</span> &#123; </span><br><span class="line">    <span class="attribute">word-wrap</span>: break-word;</span><br><span class="line">    <span class="attribute">word-break</span>: keep-all;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div class="test c4">111111111111111111111111111111111111111111111111111111111 </div><br><div class="test c4">aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa </div><br><div class="test c4">This is all English. This is all English. This is all English. </div><br><div class="test c4">全是中文的情况。全是中文的情况。全是中文的情况。</div><br><div class="test c4">中英文混排的情况。Chinese and English. 中英文混排的情况。Chinese and English. </div><h4 id="word-break-keep-all"><a href="#word-break-keep-all" class="headerlink" title="word-break: keep-all;"></a>word-break: keep-all;</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.c6</span> &#123; </span><br><span class="line">    <span class="attribute">word-break</span>: keep-all;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div class="test c6">111111111111111111111111111111111111111111111111111111111 </div><br><div class="test c6">aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa </div><br><div class="test c6">This is all English. This is all English. This is all English. </div><br><div class="test c6">全是中文的情况。全是中文的情况。全是中文的情况。</div><br><div class="test c6">中英文混排的情况。Chinese and English. 中英文混排的情况。Chinese and English. </div><h3><span id="result">结论</span></h3><ul><li>word-wrap 强调的是是否允许单词内断句。<ul><li>normal: 单词太长，换行显示，再超过一行就溢出显示。 </li><li>break-word: 当单词太长时，先尝试换行，换行后还是太长，单词内还可以换行。</li></ul></li><li>word-break 强调的则是怎么样来进行单词内的断句。 <ul><li>break-all: 强行上，挤不下的话剩下的就换下一行显示呗。霸道型。 </li><li>keep-all: 放不下我了，那我就另起一行展示，再放不下，我也不退缩。傲骄型。</li></ul></li></ul><p>事实上，<code>word-wrap:break-word</code>与<code>word-break:break-all</code>共同点是都能把长单词强行断句，不同点是<code>word-wrap:break-word</code>会首先起一个新行来放置长单词，新的行还是放不下这个长单词则会对长单词进行强制断句；而<code>word-break:break-all</code>则不会把长单词放在一个新行里，当这一行放不下的时候就直接强制断句了。</p>]]></content>
    
    <summary type="html">
    
      word-wrap与word-break的区别
    
    </summary>
    
      <category term="html" scheme="http://007sair.github.io/categories/html/"/>
    
    
      <category term="html" scheme="http://007sair.github.io/tags/html/"/>
    
      <category term="换行" scheme="http://007sair.github.io/tags/%E6%8D%A2%E8%A1%8C/"/>
    
  </entry>
  
  <entry>
    <title>HTML字符转义、特殊字符笔记</title>
    <link href="http://007sair.github.io/2016/07/04/UNICODE/"/>
    <id>http://007sair.github.io/2016/07/04/UNICODE/</id>
    <published>2016-07-03T16:00:00.000Z</published>
    <updated>2018-07-26T07:08:26.516Z</updated>
    
    <content type="html"><![CDATA[<h3 id="转义字符串的由来"><a href="#转义字符串的由来" class="headerlink" title="转义字符串的由来"></a>转义字符串的由来</h3><p>HTML中<code>&lt;</code>，<code>&gt;</code>，<code>&amp;</code>等有特殊含义（<code>&lt;</code>，<code>&gt;</code>，用于链接签，<code>&amp;</code>用于转义），不能直接使用。这些符号是不显示在我们最终看到的网页里的，倘若我们需要在页面中显示这些字符，就需要用到<strong>转义字符串</strong>了。</p><h3 id="转义字符串的组成"><a href="#转义字符串的组成" class="headerlink" title="转义字符串的组成"></a>转义字符串的组成</h3><p>一个完整的转义字符串，分为三个部分：</p><ol><li>一个<code>&amp;</code>符号，英文为ampersand；</li><li>是实体名字或为<code>#</code>+实体编号；</li><li>一个<code>;</code>号；</li></ol><p>例如，常用的大于号<code>&gt;</code>，使用转义字符串后的写法为<code>&amp;gt;</code>或<code>&amp;#62;</code></p><p>我们注意到，上面的大于号使用了2种方式的转义，第一种称为<code>实体名称</code>，第二种为<code>实体编号</code>，区别在于实体名称的优点为便于记忆，但兼容性不完美，实体编号则反之。</p><a id="more"></a><h3 id="html特殊字符"><a href="#html特殊字符" class="headerlink" title="html特殊字符"></a>html特殊字符</h3><p><code>html</code>本身存在很多的特殊字符，像我们常见的<code>Copyright</code>符号<code>©</code>，使用特殊字符需要注意以下几点：</p><ul><li>这些字符属于<code>unicode</code>字符集，你的文档需要声明为<code>utf-8</code>;</li><li>这些字符在<code>html</code>、<code>css</code>、<code>js</code>中的书写方式各有不同，例如向左的箭头<code>⇠</code>，如下：<ul><li>HTML： <code>&amp;#8672;</code></li><li>CSS：  <code>\21E0</code>,  <code>css</code>的写法需要加上反斜杠，常用在<code>content</code>属性中</li><li>JS：   <code>\u21E0</code>，<code>js</code>的写法需在<code>css</code>的基础上前面加个反斜杠+<code>u</code></li></ul></li><li>字符在各浏览器的表现略有区别，使用需谨慎</li></ul><h5 id="⇠-nbsp-nbsp-箭头类"><a href="#⇠-nbsp-nbsp-箭头类" class="headerlink" title="⇠&nbsp;&nbsp;箭头类"></a>⇠&nbsp;&nbsp;箭头类</h5><table class="zfz_table  " cellpadding="8" cellspacing="0" width="800"><tbody><tr><th rowspan="2">符号</th><th colspan="3">UNICODE</th><th rowspan="2">符号</th><th colspan="3" class="lasttd">UNICODE</th></tr><tr class="secondtr"><th>HTML</th><th>JS</th><th>CSS</th><th>HTML</th><th>JS</th><th class="lasttd">CSS</th></tr><tr><td>⇠</td><td>&amp;#8672</td><td>\u21E0</td><td>21E0</td><td>⇢</td><td>&amp;#8674</td><td>\u21E2</td><td class="lasttd">21E2</td></tr><tr><td>⇡</td><td>&amp;#8673</td><td>\u21E1</td><td>21E1</td><td>⇣</td><td>&amp;#8675</td><td>\u21E3</td><td class="lasttd">21E3</td></tr><tr><td>↞</td><td>&amp;#8606</td><td>\u219E</td><td>219E</td><td>↠</td><td>&amp;#8608</td><td>\u21A0</td><td class="lasttd">21A0</td></tr><tr><td>↟</td><td>&amp;#8607</td><td>\u219F</td><td>219F</td><td>↡</td><td>&amp;#8609</td><td>\u21A1</td><td class="lasttd">21A1</td></tr><tr><td>←</td><td>&amp;#8592</td><td>\u2190</td><td>2190</td><td>→</td><td>&amp;#8594</td><td>\u2192</td><td class="lasttd">2192</td></tr><tr><td>↑</td><td>&amp;#8593</td><td>\u2191</td><td>2191</td><td>↓</td><td>&amp;#8595</td><td>\u2193</td><td class="lasttd">2193</td></tr><tr><td>↔</td><td>&amp;#8596</td><td>\u2194</td><td>2194</td><td>↕</td><td>&amp;#8597</td><td>\u2195</td><td class="lasttd">2195</td></tr><tr><td>⇄</td><td>&amp;#8644</td><td>\u21C4</td><td>21C4</td><td>⇅</td><td>&amp;#8645</td><td>\u21C5</td><td class="lasttd">21C5</td></tr><tr><td>↢</td><td>&amp;#8610</td><td>\u21A2</td><td>21A2</td><td>↣</td><td>&amp;#8611</td><td>\u21A3</td><td class="lasttd">21A3</td></tr><tr><td>⇞</td><td>&amp;#8670</td><td>\u21DE</td><td>21DE</td><td>⇟</td><td>&amp;#8671</td><td>\u21DF</td><td class="lasttd">21DF</td></tr><tr><td>↫</td><td>&amp;#8619</td><td>\u21AB</td><td>21AB</td><td>↬</td><td>&amp;#8620</td><td>\u21AC</td><td class="lasttd">21AC</td></tr><tr><td>⇜</td><td>&amp;#8668</td><td>\u21DC</td><td>21DC</td><td>⇝</td><td>&amp;#8669</td><td>\u21DD</td><td class="lasttd">21DD</td></tr><tr><td>↚</td><td>&amp;#8602</td><td>\u219A</td><td>219A</td><td>↛</td><td>&amp;#8603</td><td>\u219B</td><td class="lasttd">219B</td></tr><tr><td>↮</td><td>&amp;#8622</td><td>\u21AE</td><td>21AE</td><td>↭</td><td>&amp;#8621</td><td>\u21AD</td><td class="lasttd">21AD</td></tr><tr><td>⇦</td><td>&amp;#8678</td><td>\u21E6</td><td>21E6</td><td>⇨</td><td>&amp;#8680</td><td>\u21E8</td><td class="lasttd">21E8</td></tr><tr><td>⇧</td><td>&amp;#8679</td><td>\u21E7</td><td>21E7</td><td>⇩</td><td>&amp;#8681</td><td>\u21E9</td><td class="lasttd">21E9</td></tr><tr><td>▲</td><td>&amp;#9650</td><td>\u25B2</td><td>25B2</td><td>►</td><td>&amp;#9658</td><td>\u25BA</td><td class="lasttd">25BA</td></tr><tr><td>▼</td><td>&amp;#9660</td><td>\u25BC</td><td>25BC</td><td>◄</td><td>&amp;#9668</td><td>\u25C4</td><td class="lasttd">25C4</td></tr><tr><td>➔</td><td>&amp;#10132</td><td>\u2794</td><td>2794</td><td>➙</td><td>&amp;#10137</td><td>\u2799</td><td class="lasttd">2799</td></tr><tr><td>➨</td><td>&amp;#10152</td><td>\u27A8</td><td>27A8</td><td>➲</td><td>&amp;#10162</td><td>\u27B2</td><td class="lasttd">27B2</td></tr><tr><td>➜</td><td>&amp;#10140</td><td>\u279C</td><td>279C</td><td>➞</td><td>&amp;#10142</td><td>\u279E</td><td class="lasttd">279E</td></tr><tr><td>➟</td><td>&amp;#10143</td><td>\u279F</td><td>279F</td><td>➠</td><td>&amp;#10144</td><td>\u27A0</td><td class="lasttd">27A0</td></tr><tr><td>➤</td><td>&amp;#10148</td><td>\u27A4</td><td>27A4</td><td>➥</td><td>&amp;#10149</td><td>\u27A5</td><td class="lasttd">27A5</td></tr><tr><td>➦</td><td>&amp;#10150</td><td>\u27A6</td><td>27A6</td><td>➧</td><td>&amp;#10151</td><td>\u27A7</td><td class="lasttd">27A7</td></tr><tr><td>➵</td><td>&amp;#10165</td><td>\u27B5</td><td>27B5</td><td>➸</td><td>&amp;#10168</td><td>\u27B8</td><td class="lasttd">27B8</td></tr><tr><td>➼</td><td>&amp;#10172</td><td>\u27BC</td><td>27BC</td><td>➽</td><td>&amp;#10173</td><td>\u27BD</td><td class="lasttd">27BD</td></tr><tr><td>➺</td><td>&amp;#10170</td><td>\u27BA</td><td>27BA</td><td>➳</td><td>&amp;#10163</td><td>\u27B3</td><td class="lasttd">27B3</td></tr><tr><td>↷</td><td>&amp;#8631</td><td>\u21B7</td><td>21B7</td><td>↶</td><td>&amp;#8630</td><td>\u21B6</td><td class="lasttd">21B6</td></tr><tr><td>↻</td><td>&amp;#8635</td><td>\u21BB</td><td>21BB</td><td>↺</td><td>&amp;#8634</td><td>\u21BA</td><td class="lasttd">21BA</td></tr><tr><td>↵</td><td>&amp;#8629</td><td>\u21B5</td><td>21B5</td><td>↯</td><td>&amp;#8623</td><td>\u21AF</td><td class="lasttd">21AF</td></tr><tr><td>➾</td><td>&amp;#10174</td><td>\u27BE</td><td>27BE</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td class="lasttd">&nbsp;</td></tr></tbody></table><h5 id="❤-nbsp-nbsp-基本形状类"><a href="#❤-nbsp-nbsp-基本形状类" class="headerlink" title="❤&nbsp;&nbsp;基本形状类"></a>❤&nbsp;&nbsp;基本形状类</h5><table class="zfz_table  " cellpadding="8" cellspacing="0"><tbody><tr><th rowspan="2">符号</th><th colspan="3">UNICODE</th><th rowspan="2">符号</th><th colspan="3" class="lasttd">UNICODE</th></tr><tr class="secondtr"><th>HTML</th><th>JS</th><th>CSS</th><th>HTML</th><th>JS</th><th class="lasttd">CSS</th></tr><tr><td>❤</td><td>&amp;#10084</td><td>\u2764</td><td>2764</td><td>✈</td><td>&amp;#9992</td><td>\u2708</td><td class="lasttd">2708</td></tr><tr><td>★</td><td>&amp;#9733</td><td>\u2605</td><td>2605</td><td>✦</td><td>&amp;#10022</td><td>\u2726</td><td class="lasttd">2726</td></tr><tr><td>☀</td><td>&amp;#9728</td><td>\u2600</td><td>2600</td><td>◆</td><td>&amp;#9670</td><td>\u25C6</td><td class="lasttd">25C6</td></tr><tr><td>◈</td><td>&amp;#9672</td><td>\u25C8</td><td>25C8</td><td>▣</td><td>&amp;#9635</td><td>\u25A3</td><td class="lasttd">25A3</td></tr><tr><td>☻</td><td>&amp;#9787</td><td>\u263B</td><td>263B</td><td>☺</td><td>&amp;#9786</td><td>\u263A</td><td class="lasttd">263A</td></tr><tr><td>☹</td><td>&amp;#9785</td><td>\u2639</td><td>2639</td><td>✉</td><td>&amp;#9993</td><td>\u2709</td><td class="lasttd">2709</td></tr><tr><td>☎</td><td>&amp;#9742</td><td>\u260E</td><td>260E</td><td>☏</td><td>&amp;#9743</td><td>\u260F</td><td class="lasttd">260F</td></tr><tr><td>✆</td><td>&amp;#9990</td><td>\u2706</td><td>2706</td><td>0</td><td>&amp;#65533</td><td>\uFFFD</td><td class="lasttd">FFFD</td></tr><tr><td>☁</td><td>&amp;#9729</td><td>\u2601</td><td>2601</td><td>☂</td><td>&amp;#9730</td><td>\u2602</td><td class="lasttd">2602</td></tr><tr><td>❄</td><td>&amp;#10052</td><td>\u2744</td><td>2744</td><td>☃</td><td>&amp;#9731</td><td>\u2603</td><td class="lasttd">2603</td></tr><tr><td>❈</td><td>&amp;#10056</td><td>\u2748</td><td>2748</td><td>✿</td><td>&amp;#10047</td><td>\u273F</td><td class="lasttd">273F</td></tr><tr><td>❀</td><td>&amp;#10048</td><td>\u2740</td><td>2740</td><td>❁</td><td>&amp;#10049</td><td>\u2741</td><td class="lasttd">2741</td></tr><tr><td>☘</td><td>&amp;#9752</td><td>\u2618</td><td>2618</td><td>❦</td><td>&amp;#10086</td><td>\u2766</td><td class="lasttd">2766</td></tr><tr><td>☕</td><td>&amp;#9749</td><td>\u9749</td><td>9749</td><td>❂</td><td>&amp;#10050</td><td>\u2742</td><td class="lasttd">2742</td></tr><tr><td>☥</td><td>&amp;#9765</td><td>\u2625</td><td>2625</td><td>☮</td><td>&amp;#9774</td><td>\u262E</td><td class="lasttd">262E</td></tr><tr><td>☯</td><td>&amp;#9775</td><td>\u262F</td><td>262F</td><td>☪</td><td>&amp;#9770</td><td>\u262A</td><td class="lasttd">262A</td></tr><tr><td>☤</td><td>&amp;#9764</td><td>\u2624</td><td>2624</td><td>✄</td><td>&amp;#9988</td><td>\u2704</td><td class="lasttd">2704</td></tr><tr><td>✂</td><td>&amp;#9986</td><td>\u2702</td><td>2702</td><td>☸</td><td>&amp;#9784</td><td>\u2638</td><td class="lasttd">2638</td></tr><tr><td>⚓</td><td>&amp;#9875</td><td>\u2693</td><td>2693</td><td>☣</td><td>&amp;#9763</td><td>\u2623</td><td class="lasttd">2623</td></tr><tr><td>⚠</td><td>&amp;#9888</td><td>\u26A0</td><td>26A0</td><td>⚡</td><td>&amp;#9889</td><td>\u26A1</td><td class="lasttd">26A1</td></tr><tr><td>☢</td><td>&amp;#9762</td><td>\u2622</td><td>2622</td><td>♻</td><td>&amp;#9851</td><td>\u267B</td><td class="lasttd">267B</td></tr><tr><td>♿</td><td>&amp;#9855</td><td>\u267F</td><td>267F</td><td>☠</td><td>&amp;#9760</td><td>\u2620</td><td class="lasttd">2620</td></tr></tbody></table><h5 id="¥-nbsp-nbsp-货币类"><a href="#¥-nbsp-nbsp-货币类" class="headerlink" title="¥&nbsp;&nbsp;货币类"></a>¥&nbsp;&nbsp;货币类</h5>&lt;table class=”zfz_table  “cellpadding=”8”cellspacing=”0”&gt;<tbody><tr><th rowspan="2">符号</th><th colspan="3">UNICODE</th><th rowspan="2">符号</th>&lt;th colspan=”3”class=”lasttd”&gt;UNICODE</tr><tr class="secondtr"><th>HTML</th><th>JS</th><th>CSS</th><th>HTML</th><th>JS</th><th class="lasttd">CSS</th></tr><tr><td>$</td><td>&amp;#36</td><td>\u0024</td><td>0024</td><td>¢</td><td>&amp;#162</td><td>\u00A2</td><td class="lasttd">00A2</td></tr><tr><td>£</td><td>&amp;#163</td><td>\u00A3</td><td>00A3</td><td>¤</td><td>&amp;#164</td><td>\u00A4</td><td class="lasttd">00A4</td></tr><tr><td>€</td><td>&amp;#8364</td><td>\u20AC</td><td>20AC</td><td>¥</td><td>&amp;#165</td><td>\u00A5</td><td class="lasttd">00A5</td></tr><tr><td>₱</td><td>&amp;#8369</td><td>\u20B1</td><td>20B1</td><td>₹</td><td>&amp;#8377</td><td>\u20B9</td><td class="lasttd">20B9</td></tr></tbody><h5 id="½-nbsp-nbsp-数学类"><a href="#½-nbsp-nbsp-数学类" class="headerlink" title="½&nbsp;&nbsp;数学类"></a>½&nbsp;&nbsp;数学类</h5>&lt;table class=”zfz_table  “cellpadding=”8”cellspacing=”0”&gt;<tbody><tr><th rowspan="2">符号</th><th colspan="3">UNICODE</th><th rowspan="2">符号</th>&lt;th colspan=”3”class=”lasttd”&gt;UNICODE</tr><tr class="secondtr"><th>HTML</th><th>JS</th><th>CSS</th><th>HTML</th><th>JS</th><th class="lasttd">CSS</th></tr><tr><td>½</td><td>&amp;#189</td><td>\u00BD</td><td>00BD</td><td>¼</td><td>&amp;#188</td><td>\u00BC</td><td class="lasttd">00BC</td></tr><tr><td>¾</td><td>&amp;#190</td><td>\u00BE</td><td>00BE</td><td>⅓</td><td>&amp;#8531</td><td>\u2153</td><td class="lasttd">2153</td></tr><tr><td>⅔</td><td>&amp;#8532</td><td>\u2154</td><td>2154</td><td>⅛</td><td>&amp;#8539</td><td>\u215B</td><td class="lasttd">215B</td></tr><tr><td>⅜</td><td>&amp;#8540</td><td>\u215C</td><td>215C</td><td>⅝</td><td>&amp;#8541</td><td>\u215D</td><td class="lasttd">215D</td></tr><tr><td>‰</td><td>&amp;#8240</td><td>\u2030</td><td>2030</td><td>%</td><td>&amp;#37</td><td>\u0025</td><td class="lasttd">0025</td></tr><tr><td>&lt;</td><td>&amp;#60</td><td>\u003C</td><td>003C</td><td>&gt;</td><td>&amp;#62</td><td>\u003E</td><td class="lasttd">003E</td></tr></tbody><h5 id="♫-nbsp-nbsp-音乐符号类"><a href="#♫-nbsp-nbsp-音乐符号类" class="headerlink" title="♫&nbsp;&nbsp;音乐符号类"></a>♫&nbsp;&nbsp;音乐符号类</h5>&lt;table class=”zfz_table  “cellpadding=”8”cellspacing=”0”&gt;<tbody><tr><th rowspan="2">符号</th><th colspan="3">UNICODE</th><th rowspan="2">符号</th>&lt;th colspan=”3”class=”lasttd”&gt;UNICODE</tr><tr class="secondtr"><th>HTML</th><th>JS</th><th>CSS</th><th>HTML</th><th>JS</th><th class="lasttd">CSS</th></tr><tr><td>♩</td><td>&amp;#9833</td><td>\u2669</td><td>2669</td><td>♪</td><td>&amp;#9834</td><td>\u266A</td><td class="lasttd">266A</td></tr><tr><td>♫</td><td>&amp;#9835</td><td>\u266B</td><td>266B</td><td>♬</td><td>&amp;#9836</td><td>\u266C</td><td class="lasttd">266C</td></tr><tr><td>♭</td><td>&amp;#9837</td><td>\u266D</td><td>266D</td><td>♯</td><td>&amp;#9839</td><td>\u266F</td><td class="lasttd">266F</td></tr></tbody><h5 id="✖-nbsp-nbsp-对错号"><a href="#✖-nbsp-nbsp-对错号" class="headerlink" title="✖&nbsp;&nbsp;对错号"></a>✖&nbsp;&nbsp;对错号</h5>&lt;table class=”zfz_table  “cellpadding=”8”cellspacing=”0”&gt;<tbody><tr><th rowspan="2">符号</th><th colspan="3">UNICODE</th><th rowspan="2">符号</th>&lt;th colspan=”3”class=”lasttd”&gt;UNICODE</tr><tr class="secondtr"><th>HTML</th><th>JS</th><th>CSS</th><th>HTML</th><th>JS</th><th class="lasttd">CSS</th></tr><tr><td>&nbsp;</td><td>&amp;#160</td><td>\u00A0</td><td>00A0</td><td>☐</td><td>&amp;#9744</td><td>\u2610</td><td class="lasttd">2610</td></tr><tr><td>☑</td><td>&amp;#9745</td><td>\u2611</td><td>2611</td><td>☒</td><td>&amp;#9746</td><td>\u2612</td><td class="lasttd">2612</td></tr><tr><td>✓</td><td>&amp;#10003</td><td>\u2713</td><td>2713</td><td>✔</td><td>&amp;#10004</td><td>\u2714</td><td class="lasttd">2714</td></tr><tr><td>✕</td><td>&amp;#10005</td><td>\u10005</td><td>10005</td><td>✖</td><td>&amp;#10006</td><td>\u2716</td><td class="lasttd">2716</td></tr><tr><td>✗</td><td>&amp;#10007</td><td>\u2717</td><td>2717</td><td>✘</td><td>&amp;#10008</td><td>\u2718</td><td class="lasttd">2718</td></tr></tbody><h5 id="★-nbsp-nbsp-全都是星星"><a href="#★-nbsp-nbsp-全都是星星" class="headerlink" title="★&nbsp;&nbsp;全都是星星"></a>★&nbsp;&nbsp;全都是星星</h5><table class="zfz_table  " cellpadding="8" cellspacing="0"><tbody><tr><th rowspan="2">符号</th><th colspan="3">UNICODE</th><th rowspan="2">符号</th><th colspan="3" class="lasttd">UNICODE</th></tr><tr class="secondtr"><th>HTML</th><th>JS</th><th>CSS</th><th>HTML</th><th>JS</th><th class="lasttd">CSS</th></tr><tr><td>★</td><td>&amp;#9733</td><td>\u2605</td><td>2605</td><td>✭</td><td>&amp;#10029</td><td>\u272D</td><td class="lasttd">272D</td></tr><tr><td>✮</td><td>&amp;#10030</td><td>\u272E</td><td>272E</td><td>☆</td><td>&amp;#9734</td><td>\u2606</td><td class="lasttd">2606</td></tr><tr><td>✪</td><td>&amp;#10026</td><td>\u272A</td><td>272A</td><td>✡</td><td>&amp;#10017</td><td>\u2721</td><td class="lasttd">2721</td></tr><tr><td>✯</td><td>&amp;#10031</td><td>\u272F</td><td>272F</td><td>✵</td><td>&amp;#10037</td><td>\u2735</td><td class="lasttd">2735</td></tr><tr><td>✶</td><td>&amp;#10038</td><td>\u2736</td><td>2736</td><td>✸</td><td>&amp;#10040</td><td>\u2738</td><td class="lasttd">2738</td></tr><tr><td>✹</td><td>&amp;#10041</td><td>\u2739</td><td>2739</td><td>✺</td><td>&amp;#10042</td><td>\u273A</td><td class="lasttd">273A</td></tr><tr><td>✱</td><td>&amp;#10033</td><td>\u2731</td><td>2731</td><td>✲</td><td>&amp;#10034</td><td>\u2732</td><td class="lasttd">2732</td></tr><tr><td>✴</td><td>&amp;#10036</td><td>\u2734</td><td>2734</td><td>✳</td><td>&amp;#10035</td><td>\u2733</td><td class="lasttd">2733</td></tr><tr><td>✻</td><td>&amp;#10043</td><td>\u273B</td><td>273B</td><td>✽</td><td>&amp;#10045</td><td>\u273D</td><td class="lasttd">273D</td></tr><tr><td>❋</td><td>&amp;#10059</td><td>\u274B</td><td>274B</td><td>❆</td><td>&amp;#10054</td><td>\u2746</td><td class="lasttd">2746</td></tr><tr><td>❄</td><td>&amp;#10052</td><td>\u2744</td><td>2744</td><td>❅</td><td>&amp;#10053</td><td>\u2745</td><td class="lasttd">2745</td></tr></tbody></table><h5 id="♒-nbsp-nbsp-星座类"><a href="#♒-nbsp-nbsp-星座类" class="headerlink" title="♒&nbsp;&nbsp;星座类"></a>♒&nbsp;&nbsp;星座类</h5><table class="zfz_table  " cellpadding="8" cellspacing="0"><tbody><tr><th rowspan="2">符号</th><th colspan="3">UNICODE</th><th rowspan="2">符号</th><th colspan="3" class="lasttd">UNICODE</th></tr><tr class="secondtr"><th>HTML</th><th>JS</th><th>CSS</th><th>HTML</th><th>JS</th><th class="lasttd">CSS</th></tr><tr><td>♈</td><td>&amp;#9800</td><td>\u2648</td><td>2648</td><td>♉</td><td>&amp;#9801</td><td>\u2649</td><td class="lasttd">2649</td></tr><tr><td>♊</td><td>&amp;#9802</td><td>\u264A</td><td>264A</td><td>♋</td><td>&amp;#9803</td><td>\u264B</td><td class="lasttd">264B</td></tr><tr><td>♌</td><td>&amp;#9804</td><td>\u264C</td><td>264C</td><td>♍</td><td>&amp;#9805</td><td>\u264D</td><td class="lasttd">264D</td></tr><tr><td>♎</td><td>&amp;#9806</td><td>\u264E</td><td>264E</td><td>♏</td><td>&amp;#9807</td><td>\u264F</td><td class="lasttd">264F</td></tr><tr><td>♐</td><td>&amp;#9808</td><td>\u2650</td><td>2650</td><td>♑</td><td>&amp;#9809</td><td>\u2651</td><td>2651</td></tr><tr><td>♒</td><td>&amp;#9810</td><td>\u2652</td><td>2652</td><td>♓</td><td>&amp;#9811</td><td>\u2653</td><td class="lasttd">2653</td></tr></tbody></table><h5 id="♚-nbsp-nbsp-国际象棋类"><a href="#♚-nbsp-nbsp-国际象棋类" class="headerlink" title="♚&nbsp;&nbsp;国际象棋类"></a>♚&nbsp;&nbsp;国际象棋类</h5><table class="zfz_table  " cellpadding="8" cellspacing="0"><tbody><tr><th rowspan="2">符号</th><th colspan="3">UNICODE</th><th rowspan="2">符号</th><th colspan="3" class="lasttd">UNICODE</th></tr><tr class="secondtr"><th>HTML</th><th>JS</th><th>CSS</th><th>HTML</th><th>JS</th><th class="lasttd">CSS</th></tr><tr><td>♚</td><td>&amp;#9818</td><td>\u265A</td><td>265A</td><td>♛</td><td>&amp;#9819</td><td>\u265B</td><td class="lasttd">265B</td></tr><tr><td>♜</td><td>&amp;#9820</td><td>\u265C</td><td>265C</td><td>♝</td><td>&amp;#9821</td><td>\u265D</td><td class="lasttd">265D</td></tr><tr><td>♞</td><td>&amp;#9822</td><td>\u265E</td><td>265E</td><td>♟</td><td>&amp;#9823</td><td>\u265F</td><td class="lasttd">265F</td></tr><tr><td>♔</td><td>&amp;#9812</td><td>\u2654</td><td>2654</td><td>♕</td><td>&amp;#9813</td><td>\u2655</td><td class="lasttd">2655</td></tr><tr><td>♖</td><td>&amp;#9814</td><td>\u2656</td><td>2656</td><td>♗</td><td>&amp;#9815</td><td>\u2657</td><td class="lasttd">2657</td></tr><tr><td>♘</td><td>&amp;#9816</td><td>\u2658</td><td>2658</td><td>♙</td><td>&amp;#9817</td><td>\u2659</td><td class="lasttd">2659</td></tr></tbody></table><h5 id="♣-nbsp-nbsp-扑克牌类"><a href="#♣-nbsp-nbsp-扑克牌类" class="headerlink" title="♣&nbsp;&nbsp;扑克牌类"></a>♣&nbsp;&nbsp;扑克牌类</h5><table class="zfz_table  " cellpadding="8" cellspacing="0"><tbody><tr><th rowspan="2">符号</th><th colspan="3">UNICODE</th><th rowspan="2">符号</th><th colspan="3" class="lasttd">UNICODE</th></tr><tr class="secondtr"><th>HTML</th><th>JS</th><th>CSS</th><th>HTML</th><th>JS</th><th class="lasttd">CSS</th></tr><tr><td>♠</td><td>&amp;#9824</td><td>\u2660</td><td>2660</td><td>♣</td><td>&amp;#9827</td><td>\u2663</td><td class="lasttd">2663</td></tr><tr><td>♥</td><td>&amp;#9829</td><td>\u2665</td><td>2665</td><td>♦</td><td>&amp;#9830</td><td>\u2666</td><td class="lasttd">2666</td></tr><tr><td>♤</td><td>&amp;#9828</td><td>\u2664</td><td>2664</td><td>♧</td><td>&amp;#9831</td><td>\u2667</td><td class="lasttd">2667</td></tr><tr><td>♡</td><td>&amp;#9825</td><td>\u2661</td><td>2661</td><td>♢</td><td>&amp;#9826</td><td>\u2662</td><td class="lasttd">2662</td></tr></tbody></table><h5 id="Ω-nbsp-nbsp-希腊字母"><a href="#Ω-nbsp-nbsp-希腊字母" class="headerlink" title="Ω&nbsp;&nbsp;希腊字母"></a>Ω&nbsp;&nbsp;希腊字母</h5><table class="zfz_table  " cellpadding="8" cellspacing="0"><tbody><tr><th rowspan="2">符号</th><th colspan="3">UNICODE</th><th rowspan="2">符号</th><th colspan="3" class="lasttd">UNICODE</th></tr><tr class="secondtr"><th>HTML</th><th>JS</th><th>CSS</th><th>HTML</th><th>JS</th><th class="lasttd">CSS</th></tr><tr><td>Α</td><td>&amp;#913</td><td>\u0391</td><td>0391</td><td>Β</td><td>&amp;#914</td><td>\u0392</td><td class="lasttd">0392</td></tr><tr><td>Γ</td><td>&amp;#915</td><td>\u0393</td><td>0393</td><td>Δ</td><td>&amp;#916</td><td>\u0394</td><td class="lasttd">0394</td></tr><tr><td>Ε</td><td>&amp;#917</td><td>\u0395</td><td>0395</td><td>Ζ</td><td>&amp;#918</td><td>\u0396</td><td class="lasttd">0396</td></tr><tr><td>Η</td><td>&amp;#919</td><td>\u0397</td><td>0397</td><td>Θ</td><td>&amp;#920</td><td>\u0398</td><td class="lasttd">0398</td></tr><tr><td>Ι</td><td>&amp;#921</td><td>\u0399</td><td>0399</td><td>Κ</td><td>&amp;#922</td><td>\u039A</td><td class="lasttd">039A</td></tr><tr><td>Λ</td><td>&amp;#923</td><td>\u039B</td><td>039B</td><td>Μ</td><td>&amp;#924</td><td>\u039C</td><td class="lasttd">039C</td></tr><tr><td>Ν</td><td>&amp;#925</td><td>\u039D</td><td>039D</td><td>Ξ</td><td>&amp;#926</td><td>\u039E</td><td class="lasttd">039E</td></tr><tr><td>Ο</td><td>&amp;#927</td><td>\u039F</td><td>039F</td><td>Π</td><td>&amp;#928</td><td>\u03A0</td><td class="lasttd">03A0</td></tr><tr><td>Ρ</td><td>&amp;#929</td><td>\u03A1</td><td>03A1</td><td>Σ</td><td>&amp;#931</td><td>\u03A3</td><td class="lasttd">03A3</td></tr><tr><td>Τ</td><td>&amp;#932</td><td>\u03A4</td><td>03A4</td><td>Υ</td><td>&amp;#933</td><td>\u03A5</td><td class="lasttd">03A5</td></tr><tr><td>Φ</td><td>&amp;#934</td><td>\u03A6</td><td>03A6</td><td>Χ</td><td>&amp;#935</td><td>\u03A7</td><td class="lasttd">03A7</td></tr><tr><td>Ψ</td><td>&amp;#936</td><td>\u03A8</td><td>03A8</td><td>Ω</td><td>&amp;#937</td><td>\u03A9</td><td class="lasttd">03A9</td></tr></tbody></table><h5 id="☩-nbsp-nbsp-十字"><a href="#☩-nbsp-nbsp-十字" class="headerlink" title="☩&nbsp;&nbsp;十字"></a>☩&nbsp;&nbsp;十字</h5><table class="zfz_table  " cellpadding="8" cellspacing="0"><tbody><tr><th rowspan="2">符号</th><th colspan="3">UNICODE</th><th rowspan="2">符号</th><th colspan="3" class="lasttd">UNICODE</th></tr><tr class="secondtr"><th>HTML</th><th>JS</th><th>CSS</th><th>HTML</th><th>JS</th><th class="lasttd">CSS</th></tr><tr><td>☨</td><td>&amp;#9768</td><td>\u2628</td><td>2628</td><td>☩</td><td>&amp;#9769</td><td>\u2629</td><td class="lasttd">2629</td></tr><tr><td>✝</td><td>&amp;#10013</td><td>\u271D</td><td>271D</td><td>✞</td><td>&amp;#10014</td><td>\u271E</td><td class="lasttd">271E</td></tr><tr><td>✟</td><td>&amp;#10015</td><td>\u271F</td><td>271F</td><td>✠</td><td>&amp;#10016</td><td>\u2720</td><td class="lasttd">2720</td></tr><tr><td>✚</td><td>&amp;#10010</td><td>\u271A</td><td>271A</td><td>†</td><td>&amp;#8224</td><td>\u2020</td><td class="lasttd">2020</td></tr><tr><td>✢</td><td>&amp;#10018</td><td>\u2722</td><td>2722</td><td>✤</td><td>&amp;#10020</td><td>\u2724</td><td class="lasttd">2724</td></tr><tr><td>✣</td><td>&amp;#10019</td><td>\u2723</td><td>2723</td><td>✥</td><td>&amp;#10021</td><td>\u2725</td><td class="lasttd">2725</td></tr></tbody></table><h5 id="©-nbsp-nbsp-法律符号"><a href="#©-nbsp-nbsp-法律符号" class="headerlink" title="©&nbsp;&nbsp;法律符号"></a>©&nbsp;&nbsp;法律符号</h5><table class="zfz_table  " cellpadding="8" cellspacing="0"><tbody><tr><th rowspan="2">符号</th><th colspan="3">UNICODE</th><th rowspan="2">符号</th><th colspan="3" class="lasttd">UNICODE</th></tr><tr class="secondtr"><th>HTML</th><th>JS</th><th>CSS</th><th>HTML</th><th>JS</th><th class="lasttd">CSS</th></tr><tr><td>®</td><td>&amp;#174</td><td>\u00AE</td><td>00AE</td><td>©</td><td>&amp;#169</td><td>\u00A9</td><td class="lasttd">00A9</td></tr><tr><td>℗</td><td>&amp;#8471</td><td>\u2117</td><td>2117</td><td>™</td><td>&amp;#153</td><td>\u0099</td><td class="lasttd">0099</td></tr><tr><td>℠</td><td>&amp;#8480</td><td>\u2120</td><td>2120</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td class="lasttd">&nbsp;</td></tr></tbody></table><h5 id="nbsp-nbsp-标点和符号"><a href="#nbsp-nbsp-标点和符号" class="headerlink" title="@&nbsp;&nbsp;标点和符号"></a>@&nbsp;&nbsp;标点和符号</h5><p></p><table class="zfz_table  " cellpadding="8" cellspacing="0"><tbody><tr><th rowspan="2">符号</th><th colspan="3">UNICODE</th><th rowspan="2">符号</th><th colspan="3" class="lasttd">UNICODE</th></tr><tr class="secondtr"><th>HTML</th><th>JS</th><th>CSS</th><th>HTML</th><th>JS</th><th class="lasttd">CSS</th></tr><tr><td>«</td><td>&amp;#171</td><td>\u00AB</td><td>00AB</td><td>»</td><td>&amp;#187</td><td>\u00BB</td><td class="lasttd">00BB</td></tr><tr><td>‹</td><td>&amp;#139</td><td>\u008B</td><td>008B</td><td>›</td><td>&amp;#155</td><td>\u009B</td><td class="lasttd">009B</td></tr><tr><td>“</td><td>&amp;#8220</td><td>\u201C</td><td>201C</td><td>”</td><td>&amp;#8221</td><td>\u201D</td><td class="lasttd">201D</td></tr><tr><td>‘</td><td>&amp;#8216</td><td>\u2018</td><td>2018</td><td>’</td><td>&amp;#8217</td><td>\u2019</td><td class="lasttd">2019</td></tr><tr><td>•</td><td>&amp;#8226</td><td>\u2022</td><td>2022</td><td>◦</td><td>&amp;#9702</td><td>\u25E6</td><td class="lasttd">25E6</td></tr><tr><td>¡</td><td>&amp;#161</td><td>\u00A1</td><td>00A1</td><td>¿</td><td>&amp;#191</td><td>\u00BF</td><td class="lasttd">00BF</td></tr><tr><td>℅</td><td>&amp;#8453</td><td>\u2105</td><td>2105</td><td>№</td><td>&amp;#8470</td><td>\u2116</td><td class="lasttd">2116</td></tr><tr><td>&amp;</td><td>&amp;#38</td><td>\u0026</td><td>0026</td><td>@</td><td>&amp;#64</td><td>\u0040</td><td class="lasttd">0040</td></tr><tr><td>℞</td><td>&amp;#8478</td><td>\u211E</td><td>211E</td><td>℃</td><td>&amp;#8451</td><td>\u2103</td><td class="lasttd">2103</td></tr><tr><td>℉</td><td>&amp;#8457</td><td>\u2109</td><td>2109</td><td>°</td><td>&amp;#176</td><td>\u00B0</td><td class="lasttd">00B0</td></tr><tr><td>|</td><td>&amp;#124</td><td>\u007C</td><td>007C</td><td>¦</td><td>&amp;#166</td><td>\u00A6</td><td class="lasttd">00A6</td></tr><tr><td>–</td><td>&amp;#8211</td><td>\u2013</td><td>2013</td><td>—</td><td>&amp;#8212</td><td>\u2014</td><td class="lasttd">2014</td></tr><tr><td>…</td><td>&amp;#8230</td><td>\u2026</td><td>2026</td><td>¶</td><td>&amp;#182</td><td>\u00B6</td><td class="lasttd">00B6</td></tr><tr><td>&#8764;</td><td>&amp;#8764</td><td>\u223C</td><td>223C</td><td>≠</td><td>&amp;#8800</td><td>\u2260</td><td class="lasttd">2260</td></tr></tbody></table><br><br><p><span>总结归类：</span></p><div><span><span><span>1.特色的</span></span></span></div><table border="0" style="border:0px; font-size:16px; font-style:inherit; font-weight:inherit; margin:0px; outline:0px; padding:0px; vertical-align:baseline; border-spacing:0px; width:662px; height:227px"><tbody><tr><td><span>©</span></td><td><span>&amp;copy;</span></td><td><span>©</span></td><td><span>版权标志</span></td></tr><tr><td><span>|</span></td><td>&nbsp;</td><td><span>|</span></td><td><span>竖线，常用作菜单或导航中的分隔符</span></td></tr><tr><td><span>·</span></td><td><span>&amp;middot;</span></td><td><span>·</span></td><td><span>圆点，有时被用来作为菜单分隔符</span></td></tr><tr><td><span>↑</span></td><td><span>&amp;uarr;</span></td><td><span>↑</span></td><td><span>上箭头，常用作网页“返回页面顶部”标识</span></td></tr><tr><td><span>€</span></td><td><span>&amp;euro;</span></td><td><span>€</span></td><td><span>欧元标识</span></td></tr><tr><td><span>²</span></td><td><span>&amp;sup2;</span></td><td><span>²</span></td><td><span>上标2，数学中的平方，在数字处理中常用到，例如：<span style="border:0px; font-size:12px; font-style:inherit; font-weight:700; margin:0px; outline:0px; padding:0px; vertical-align:baseline">1000²</span></span></td></tr><tr><td><span>½</span></td><td><span>&amp;frac12;</span></td><td><span>½</span></td><td><span>二分之一</span></td></tr><tr><td><span>♥</span></td><td><span>&amp;hearts;</span></td><td><span>♥</span></td><td><span>心型，用来表达你的心</span></td></tr></tbody></table><div><span><span><br><span>2常用的</span></span></span></div><div><table border="0" style="border:0px; font-size:16px; font-style:inherit; font-weight:inherit; margin:0px; outline:0px; padding:0px; vertical-align:baseline; border-spacing:0px; width:325px; height:530px"><tbody><tr><td>&nbsp;</td><td><span>&amp;nbsp;</span></td><td><span>&nbsp;</span></td><td><span>空&#26684;</span></td></tr><tr><td><span>&amp;</span></td><td><span>&amp;amp;</span></td><td><span>&amp;</span></td><td><span>and符号，与</span></td></tr><tr><td><span>“</span></td><td><span>&amp;quot;</span></td><td><span>“</span></td><td><span>引号</span></td></tr><tr><td><span>©</span></td><td><span>&amp;copy;</span></td><td><span>©</span></td><td><span>版权标志</span></td></tr><tr><td><span>®</span></td><td><span>&amp;reg;</span></td><td><span>»</span></td><td><span>注册标志</span></td></tr><tr><td><span>™</span></td><td><span>&amp;trade;</span></td><td><span>™</span></td><td><span>商标标志</span></td></tr><tr><td><span>“</span></td><td><span>&amp;ldquo;</span></td><td><span>“</span></td><td><span>左双引号</span></td></tr><tr><td><span>”</span></td><td><span>&amp;rdquo;</span></td><td><span>”</span></td><td><span>右双引号</span></td></tr><tr><td><span>‘</span></td><td><span>&amp;lsquo;</span></td><td><span>‘</span></td><td><span>做单引号</span></td></tr><tr><td><span>’</span></td><td><span>&amp;rsquo;</span></td><td><span>’</span></td><td><span>右单引号</span></td></tr><tr><td><span>«</span></td><td><span>&amp;laquo;</span></td><td><span>«</span></td><td><span>左三角双引号</span></td></tr><tr><td><span>»</span></td><td><span>&amp;raquo;</span></td><td><span>»</span></td><td><span>右三角双引号</span></td></tr><tr><td><span>‹</span></td><td><span>&amp;lsaquo;</span></td><td><span>‹</span></td><td><span>左三角单引号</span></td></tr><tr><td><span>›</span></td><td><span>&amp;rsaquo;</span></td><td><span>›</span></td><td><span>右三角单引号</span></td></tr><tr><td><span>§</span></td><td><span>&amp;sect;</span></td><td><span>§</span></td><td><span>章节标志</span></td></tr><tr><td><span>¶</span></td><td><span>&amp;para;</span></td><td><span>¶</span></td><td><span>段落标志</span></td></tr><tr><td><span>•</span></td><td><span>&amp;bull;</span></td><td><span>•</span></td><td><span>列表圆点（大）</span></td></tr><tr><td><span>·</span></td><td><span>&amp;middot;</span></td><td><span>·</span></td><td><span>列表圆点（中）</span></td></tr><tr><td><span>…</span></td><td><span>&amp;hellip;</span></td><td><span>…</span></td><td><span>省略号</span></td></tr><tr><td><span>|</span></td><td>&nbsp;</td><td><span>|</span></td><td><span>竖线</span></td></tr><tr><td><span>¦</span></td><td><span>&amp;brvbar;</span></td><td><span>¦</span></td><td><span>断的竖线</span></td></tr><tr><td><span>–</span></td><td><span>&amp;ndash;</span></td><td><span>–</span></td><td><span>短破折号</span></td></tr><tr><td><span>—</span></td><td><span>&amp;mdash;</span></td><td><span>—</span></td><td><span>长破折号</span></td></tr></tbody></table></div><div><span><br><span>3.货币类</span></span></div><div><table border="0"><tbody><tr><td><span>¤</span></td><td><span>&amp;curren;</span></td><td><span>¤</span></td><td><span>一般货币符号</span></td></tr><tr><td><span>$</span></td><td>&nbsp;</td><td><span>$</span></td><td><span>美元符号</span></td></tr><tr><td><span>¢</span></td><td><span>&amp;cent;</span></td><td><span>¢</span></td><td><span>分</span></td></tr><tr><td><span>£</span></td><td><span>&amp;pound;</span></td><td><span>£</span></td><td><span>英镑</span></td></tr><tr><td><span>¥</span></td><td><span>&amp;yen;</span></td><td><span>¥</span></td><td><span>日元</span></td></tr><tr><td><span>€</span></td><td><span>&amp;euro;</span></td><td><span>€</span></td><td><span>欧元</span></td></tr></tbody></table></div><div><span><span>4 数学类</span></span></div><div><table border="0"><tbody><tr><td><span>&lt;</span></td><td><span>&amp;lt;</span></td><td><span>&lt;</span></td><td><span>小于号</span></td></tr><tr><td><span>&gt;</span></td><td><span>&amp;gt;</span></td><td><span>&gt;</span></td><td><span>大于号</span></td></tr><tr><td><span>≤</span></td><td><span>&amp;le;</span></td><td><span>≤</span></td><td><span>小于等于号</span></td></tr><tr><td><span>≥</span></td><td><span>&amp;ge;</span></td><td><span>≥</span></td><td><span>大于等于号</span></td></tr><tr><td><span>×</span></td><td><span>&amp;times;</span></td><td><span>×</span></td><td><span>乘号</span></td></tr><tr><td><span>÷</span></td><td><span>&amp;divide;</span></td><td><span>÷</span></td><td><span>除号</span></td></tr><tr><td><span>−</span></td><td><span>&amp;minus;</span></td><td><span>−</span></td><td><span>减号</span></td></tr><tr><td><span>±</span></td><td><span>&amp;plusmn;</span></td><td><span>±</span></td><td><span>加/减 号</span></td></tr><tr><td><span>≠</span></td><td><span>&amp;ne;</span></td><td><span>≠</span></td><td><span>不等于号</span></td></tr><tr><td><span>¹</span></td><td><span>&amp;sup1;</span></td><td><span>¹</span></td><td><span>上标1</span></td></tr><tr><td><span>²</span></td><td><span>&amp;sup2;</span></td><td><span>²</span></td><td><span>上标2</span></td></tr><tr><td><span>³</span></td><td><span>&amp;sup3;</span></td><td><span>³</span></td><td><span>上标3</span></td></tr><tr><td><span>½</span></td><td><span>&amp;frac12;</span></td><td><span>½</span></td><td><span>二分之一</span></td></tr><tr><td><span>¼</span></td><td><span>&amp;frac14;</span></td><td><span>¼</span></td><td><span>四分之一</span></td></tr><tr><td><span>¾</span></td><td><span>&amp;frac34;</span></td><td><span>¾</span></td><td><span>四分之三</span></td></tr><tr><td><span>‰</span></td><td><span>&amp;permil;</span></td><td><span>‰</span></td><td><span>千分率</span></td></tr><tr><td><span>°</span></td><td><span>&amp;deg;</span></td><td><span>°</span></td><td><span>度</span></td></tr><tr><td><span>√</span></td><td><span>&amp;radic;</span></td><td><span>√</span></td><td><span>平方根</span></td></tr><tr><td><span>∞</span></td><td><span>&amp;infin;</span></td><td><span>∞</span></td><td><span>无限大</span></td></tr></tbody></table></div><div><span><span><span>5.方向类</span></span></span></div><div><table border="0"><tbody><tr><td><span>←</span></td><td><span>&amp;larr;</span></td><td><span>←</span></td><td><span>左箭头</span></td></tr><tr><td><span>↑</span></td><td><span>&amp;uarr;</span></td><td><span>↑</span></td><td><span>上箭头</span></td></tr><tr><td><span>→</span></td><td><span>&amp;rarr;</span></td><td><span>→</span></td><td><span>右箭头</span></td></tr><tr><td><span>↓</span></td><td><span>&amp;darr;</span></td><td><span>↓</span></td><td><span>下箭头</span></td></tr><tr><td><span>↔</span></td><td><span>&amp;harr;</span></td><td><span>↔</span></td><td><span>左右箭头</span></td></tr><tr><td><span>↵</span></td><td><span>&amp;crarr;</span></td><td><span>↵</span></td><td><span>回车箭头</span></td></tr><tr><td><span>⌈</span></td><td><span>&amp;lceil;</span></td><td><span>⌈</span></td><td><span>左上限</span></td></tr><tr><td><span><span>⌉</span></span></td><td><span>&amp;rceil;</span></td><td><span>⌉</span></td><td><span>右上限</span></td></tr><tr><td><span><span>⌊</span></span></td><td><span>&amp;lfloor;</span></td><td><span>⌊</span></td><td><span>左下限</span></td></tr><tr><td><span><span>⌋</span></span></td><td><span>&amp;rfloor;</span></td><td><span>⌋</span></td><td><span>右下限</span></td></tr></tbody></table></div><div><span><span><span>6&nbsp;</span><span>其它</span></span></span></div><p><table border="0"><tbody><tr><td><span>♠</span></td><td><span>&amp;spades;</span></td><td><span>♠</span></td><td><span>黑桃</span></td></tr><tr><td><span>♣</span></td><td><span>&amp;clubs;</span></td><td><span>♣</span></td><td><span>梅花</span></td></tr><tr><td><span>♥</span></td><td><span>&amp;hearts;</span></td><td><span>♥</span></td><td><span>红桃，心</span></td></tr><tr><td><span>♦</span></td><td><span>&amp;diams;</span></td><td><span>♦</span></td><td><span>方块牌</span></td></tr><tr><td><span>◊</span></td><td><span>&amp;loz;</span></td><td><span>◊</span></td><td><span>菱形</span></td></tr><tr><td><span>†</span></td><td><span>&amp;dagger;</span></td><td><span>†</span></td><td><span>匕首</span></td></tr><tr><td><span>‡</span></td><td><span>&amp;Dagger;</span></td><td><span>‡</span></td><td><span>双剑号</span></td></tr><tr><td><span>¡</span></td><td><span>&amp;iexcl;</span></td><td><span>¡</span></td><td><span>反向感叹号</span></td></tr><tr><td><span>¿</span></td><td><span>&amp;iquest;</span></td><td><span>¿</span></td><td><span>反向问号</span></td></tr></tbody></table><span><span><br></span></span></p><p><span><span><br></span></span></p><p><span><span>原文：<a target="_blank" href="http://zhengmifan.com/news/notebook/801">http://zhengmifan.com/news/notebook/801</a></span></span></p><p>参考：</p><ul><li><a href="http://114.xixik.com/character/" target="_blank" rel="noopener">http://114.xixik.com/character/</a></li><li><a href="http://www.gzui.net/465" target="_blank" rel="noopener">http://www.gzui.net/465</a></li><li><a href="http://zhengmifan.com/news/notebook/801" target="_blank" rel="noopener">http://zhengmifan.com/news/notebook/801</a></li></ul>]]></content>
    
    <summary type="html">
    
      HTML CSS 特殊字符表
    
    </summary>
    
      <category term="html" scheme="http://007sair.github.io/categories/html/"/>
    
    
      <category term="unicode" scheme="http://007sair.github.io/tags/unicode/"/>
    
  </entry>
  
</feed>
